1.  é€‚é… **Project Canvas GTD v6.0 (åŒæ ¸æ•°æ®åº“é©±åŠ¨)** æ¶æ„ã€‚

    ### ğŸ“‚ é¡¶å±‚ç›®å½•ç»“æ„ (Monorepo Root)

    ```Plaintext
    project-canvas-gtd/
    â”œâ”€â”€ apps/
    â”‚   â”œâ”€â”€ client/              # å‰ç«¯åº”ç”¨ (React + Vite)
    â”‚   â””â”€â”€ server/              # åç«¯æœåŠ¡ (NestJS)
    â”œâ”€â”€ packages/                # å…±äº«ä»£ç åº“
    â”‚   â”œâ”€â”€ shared-types/        # å‰åç«¯å…±ç”¨çš„ TypeScript ç±»å‹å®šä¹‰ 
    â”‚   â”œâ”€â”€ ui-kit/              # åŸºç¡€ UI ç»„ä»¶åº“ (åœ¨æ­¤é¡¹ç›®ä¸­ä¸»è¦é›†æˆåœ¨ client/shared/ui)
    â”‚   â””â”€â”€ logic/               # çº¯è®¡ç®—é€»è¾‘ (ä¸šåŠ¡æ— å…³)
    â”œâ”€â”€ turbo.json               # Monorepo æ„å»ºé…ç½®
    â”œâ”€â”€ docker-compose.yml       # å®¹å™¨ç¼–æ’
    â””â”€â”€ package.json
    ```

    ------

    ### ğŸ–¥ï¸ å‰ç«¯ç»“æ„è¯¦è§£ (`apps/client/src`)

    å‰ç«¯é‡‡ç”¨ **Feature-Sliced Design (FSD) çš„ç®€åŒ–å˜ä½“**ã€‚ä»¥â€œç”»å¸ƒç»„ä»¶â€ä¸ºæ ¸å¿ƒï¼Œä¸šåŠ¡é€»è¾‘ä¸ UI ç´§å¯†ç»“åˆã€‚

    ```Plaintext
    apps/client/src/
    â”œâ”€â”€ app/                     # Layer 1: App åˆå§‹åŒ–
    â”‚   â”œâ”€â”€ CSS/                 # å…¨å±€æ ·å¼
    â”‚   â””â”€â”€ main.tsx             # å…¥å£æ–‡ä»¶
    â”‚
    â”œâ”€â”€ pages/                   # Layer 2: é¡µé¢å±‚
    â”‚   â”œâ”€â”€ Workspace.tsx        # ä¸»å·¥ä½œå° (åŠ è½½ CanvasBoard)
    â”‚   â””â”€â”€ LoginPage.tsx        # ç™»å½•é¡µ
    â”‚
    â”œâ”€â”€ widgets/                 # Layer 3: ç»„ä»¶å±‚ (æ ¸å¿ƒä¸šåŠ¡ UI)
    â”‚   â”œâ”€â”€ canvas/              # --- ç”»å¸ƒå¼•æ“ ---
    â”‚   â”‚   â”œâ”€â”€ CanvasBoard.tsx  # æ— é™ç”»å¸ƒåº•æ¿ (react-zoom-pan-pinch)
    â”‚   â”‚   â”œâ”€â”€ WidgetWrapper.tsx# é€šç”¨ç»„ä»¶å¤–æ¡† (å¤„ç†æ‹–æ‹½ã€ç¼©æ”¾ã€é”å®šã€é€‰ä¸­)
    â”‚   â”‚   â””â”€â”€ LinkLayer.tsx    # è¿çº¿æ¸²æŸ“å±‚ (SVG)
    â”‚   â”‚
    â”‚   â””â”€â”€ components/          # --- ä¸šåŠ¡ç»„ä»¶ (Canvas Widgets) ---
    â”‚       â”œâ”€â”€ MasterCalendar.tsx   # ä¸»æ§æ—¥å†
    â”‚       â”œâ”€â”€ SmartList.tsx        # æ™ºèƒ½åˆ—è¡¨
    â”‚       â”œâ”€â”€ Matrix.tsx           # è‰¾æ£®è±ªå¨å°”çŸ©é˜µ
    â”‚       â”œâ”€â”€ DetailInspector.tsx  # è¯¦æƒ…æ£€æŸ¥å™¨
    â”‚       â”œâ”€â”€ ProjectHeader.tsx    # é¡¹ç›®æŠ¬å¤´å¡ç‰‡
    â”‚       â”œâ”€â”€ ArchiveBin.tsx       # å½’æ¡£ç®±/ç¢çº¸æœº
    â”‚       â”œâ”€â”€ TimelineWidget.tsx   # æ—¶é—´è½´è§†å›¾
    â”‚       â”œâ”€â”€ AppHeader.tsx        # é¡¶éƒ¨å¯¼èˆªæ 
    â”‚       â””â”€â”€ WidgetLibrary.tsx    # ç»„ä»¶åº“/Dockæ 
    â”‚
    â”œâ”€â”€ features/                # Layer 4: ä¸šåŠ¡ç‰¹æ€§
    â”‚   â””â”€â”€ auth/                # è®¤è¯é€»è¾‘ (Login Form, Auth Context)
    â”‚
    â”œâ”€â”€ shared/                  # Layer 5: å…±äº«å±‚
    â”‚   â”œâ”€â”€ api/                 # --- æ•°æ®æ ¸å¿ƒ (RxDB) ---
    â”‚   â”‚   â”œâ”€â”€ db.ts            # æ•°æ®åº“åˆå§‹åŒ– (RxDB Create)
    â”‚   â”‚   â”œâ”€â”€ schema.ts        # JSON Schema å®šä¹‰ (Items, Widgets, Links, Pages)
    â”‚   â”‚   â”œâ”€â”€ replication.ts   # åŒæ­¥æ’ä»¶é…ç½® (Sync Protocol)
    â”‚   â”‚   â””â”€â”€ BatchSyncManager.ts # æ‰¹é‡æ¨é€ç®¡ç†å™¨
    â”‚   â”‚
    â”‚   â”œâ”€â”€ hooks/               # é€šç”¨ Hooks (useAuth, useWindowSize)
    â”‚   â””â”€â”€ ui/                  # åŸºç¡€åŸå­ç»„ä»¶ (Buttons, Inputs, Dialogs)
    ```

    ------

    ### âš™ï¸ æœåŠ¡ç«¯ç»“æ„è¯¦è§£ (`apps/server/src`)

    åŸºäº **NestJS** æ¨¡å—åŒ–ç»“æ„ï¼Œè´Ÿè´£æ•°æ®æŒä¹…åŒ–ã€åŒæ­¥è£å†³ä¸å®šæ—¶ä»»åŠ¡ã€‚

    ```Plaintext
    apps/server/src/
    â”œâ”€â”€ app.module.ts            # æ ¹æ¨¡å— (æ³¨å†Œ Auth, Items, Sync, Tasks)
    â”œâ”€â”€ main.ts                  # å¯åŠ¨æ–‡ä»¶
    â”‚
    â”œâ”€â”€ modules/
    â”‚   â”œâ”€â”€ auth/                # è®¤è¯æ¨¡å— (JWT, Login, Register)
    â”‚   â”œâ”€â”€ items/               # ä¸šåŠ¡æ•°æ®æ¨¡å— (é¢„ç•™ REST æ¥å£)
    â”‚   â”œâ”€â”€ sync/                # --- åŒæ­¥æ ¸å¿ƒ ---
    â”‚   â”‚   â”œâ”€â”€ sync.controller.ts # å¤„ç† /pull, /push, /batch/push
    â”‚   â”‚   â””â”€â”€ sync.service.ts    # å®ç°æ¸¸æ ‡åˆ†é¡µä¸å†²çªè§£å†³é€»è¾‘
    â”‚   â””â”€â”€ tasks/               # --- å®šæ—¶ä»»åŠ¡ ---
    â”‚       â””â”€â”€ zombie.service.ts  # åƒµå°¸é¡¹ç›®æ£€æµ‹ (Cron Job)
    â”‚
    â”œâ”€â”€ database/                # æ•°æ®åº“å±‚
    â”‚   â””â”€â”€ entities/            # TypeORM å®ä½“å®šä¹‰
    â”‚       â”œâ”€â”€ user.entity.ts
    â”‚       â”œâ”€â”€ data-item.entity.ts    # æ ¸å¿ƒä¸šåŠ¡è¡¨ (User/Event/Project)
    â”‚       â”œâ”€â”€ canvas-page.entity.ts
    â”‚       â”œâ”€â”€ canvas-widget.entity.ts
    â”‚       â””â”€â”€ canvas-link.entity.ts
    â”‚
    â””â”€â”€ common/                  # é€šç”¨è®¾æ–½
        â”œâ”€â”€ guards/              # JwtAuthGuard
        â””â”€â”€ decorators/          # @CurrentUser
    ```

    ------

    ### ğŸ“¦ å…±äº«ç±»å‹åŒ… (`packages/shared-types/src`)

    å‰åç«¯å…±ç”¨çš„å¥‘çº¦ï¼Œç¡®ä¿æ•°æ®ç»“æ„ä¸€è‡´æ€§ã€‚

    ```TypeScript
    // index.ts
    
    // API å“åº”æ¥å£
    export interface RegisterResponse { ... }
    export interface LoginResponse { ... }

    // æ ¸å¿ƒæšä¸¾ä¸ç±»å‹
    export enum EntityType { ... }
    export enum SystemStatus { ... }
    
    // (æ³¨æ„ï¼šå…·ä½“çš„ RxDB Collections å’Œ TypeORM Entities 
    //  è™½ç»“æ„ç›¸ä¼¼ï¼Œä½†åœ¨å„è‡ªé¡¹ç›®ä¸­ç‹¬ç«‹å®šä¹‰ï¼Œé€šè¿‡æ­¤åŒ…å…±äº«åŸºç¡€ Interface)
    ```
