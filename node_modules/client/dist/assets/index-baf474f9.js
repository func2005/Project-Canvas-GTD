var z$=Object.defineProperty;var j$=(e,t,r)=>t in e?z$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var oo=(e,t,r)=>(j$(e,typeof t!="symbol"?t+"":t,r),r),yg=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var fe=(e,t,r)=>(yg(e,t,"read from private field"),r?r.call(e):t.get(e)),ht=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},pt=(e,t,r,n)=>(yg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function L$(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var a_={exports:{}},_f={},s_={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=Symbol.for("react.element"),F$=Symbol.for("react.portal"),B$=Symbol.for("react.fragment"),K$=Symbol.for("react.strict_mode"),W$=Symbol.for("react.profiler"),U$=Symbol.for("react.provider"),q$=Symbol.for("react.context"),H$=Symbol.for("react.forward_ref"),V$=Symbol.for("react.suspense"),Y$=Symbol.for("react.memo"),X$=Symbol.for("react.lazy"),wg=Symbol.iterator;function G$(e){return e===null||typeof e!="object"?null:(e=wg&&e[wg]||e["@@iterator"],typeof e=="function"?e:null)}var u_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l_=Object.assign,c_={};function Qa(e,t,r){this.props=e,this.context=t,this.refs=c_,this.updater=r||u_}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f_(){}f_.prototype=Qa.prototype;function mm(e,t,r){this.props=e,this.context=t,this.refs=c_,this.updater=r||u_}var vm=mm.prototype=new f_;vm.constructor=mm;l_(vm,Qa.prototype);vm.isPureReactComponent=!0;var _g=Array.isArray,d_=Object.prototype.hasOwnProperty,ym={current:null},h_={key:!0,ref:!0,__self:!0,__source:!0};function p_(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)d_.call(t,n)&&!h_.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),f=0;f<s;f++)l[f]=arguments[f+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ku,type:e,key:o,ref:a,props:i,_owner:ym.current}}function Q$(e,t){return{$$typeof:Ku,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ku}function Z$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sg=/\/+/g;function Id(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z$(""+e.key):t.toString(36)}function cc(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ku:case F$:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Id(a,0):n,_g(i)?(r="",e!=null&&(r=e.replace(Sg,"$&/")+"/"),cc(i,t,r,"",function(f){return f})):i!=null&&(gm(i)&&(i=Q$(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Sg,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",_g(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Id(o,s);a+=cc(o,t,r,l,i)}else if(l=G$(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Id(o,s++),a+=cc(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xl(e,t,r){if(e==null)return e;var n=[],i=0;return cc(e,n,"","",function(o){return t.call(r,o,i++)}),n}function J$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var er={current:null},fc={transition:null},ek={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:fc,ReactCurrentOwner:ym};function m_(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:xl,forEach:function(e,t,r){xl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xl(e,function(){t++}),t},toArray:function(e){return xl(e,function(t){return t})||[]},only:function(e){if(!gm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Qa;Le.Fragment=B$;Le.Profiler=W$;Le.PureComponent=mm;Le.StrictMode=K$;Le.Suspense=V$;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Le.act=m_;Le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l_({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=ym.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)d_.call(t,l)&&!h_.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var f=0;f<l;f++)s[f]=arguments[f+2];n.children=s}return{$$typeof:Ku,type:e.type,key:i,ref:o,props:n,_owner:a}};Le.createContext=function(e){return e={$$typeof:q$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U$,_context:e},e.Consumer=e};Le.createElement=p_;Le.createFactory=function(e){var t=p_.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:H$,render:e}};Le.isValidElement=gm;Le.lazy=function(e){return{$$typeof:X$,_payload:{_status:-1,_result:e},_init:J$}};Le.memo=function(e,t){return{$$typeof:Y$,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=fc.transition;fc.transition={};try{e()}finally{fc.transition=t}};Le.unstable_act=m_;Le.useCallback=function(e,t){return er.current.useCallback(e,t)};Le.useContext=function(e){return er.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return er.current.useDeferredValue(e)};Le.useEffect=function(e,t){return er.current.useEffect(e,t)};Le.useId=function(){return er.current.useId()};Le.useImperativeHandle=function(e,t,r){return er.current.useImperativeHandle(e,t,r)};Le.useInsertionEffect=function(e,t){return er.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return er.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return er.current.useMemo(e,t)};Le.useReducer=function(e,t,r){return er.current.useReducer(e,t,r)};Le.useRef=function(e){return er.current.useRef(e)};Le.useState=function(e){return er.current.useState(e)};Le.useSyncExternalStore=function(e,t,r){return er.current.useSyncExternalStore(e,t,r)};Le.useTransition=function(){return er.current.useTransition()};Le.version="18.3.1";s_.exports=Le;var De=s_.exports;const Ai=Bu(De);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=De,rk=Symbol.for("react.element"),nk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,ok=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ak={key:!0,ref:!0,__self:!0,__source:!0};function v_(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ik.call(t,n)&&!ak.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:rk,type:e,key:o,ref:a,props:i,_owner:ok.current}}_f.Fragment=nk;_f.jsx=v_;_f.jsxs=v_;a_.exports=_f;var Pe=a_.exports,jh={},y_={exports:{}},kr={},g_={exports:{}},w_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,pe){var H=J.length;J.push(pe);e:for(;0<H;){var I=H-1>>>1,G=J[I];if(0<i(G,pe))J[I]=pe,J[H]=G,H=I;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var pe=J[0],H=J.pop();if(H!==pe){J[0]=H;e:for(var I=0,G=J.length,K=G>>>1;I<K;){var k=2*(I+1)-1,D=J[k],X=k+1,ve=J[X];if(0>i(D,H))X<G&&0>i(ve,D)?(J[I]=ve,J[X]=H,I=X):(J[I]=D,J[k]=H,I=k);else if(X<G&&0>i(ve,H))J[I]=ve,J[X]=H,I=X;else break e}}return pe}function i(J,pe){var H=J.sortIndex-pe.sortIndex;return H!==0?H:J.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],f=[],d=1,p=null,v=3,w=!1,_=!1,E=!1,$=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(J){for(var pe=r(f);pe!==null;){if(pe.callback===null)n(f);else if(pe.startTime<=J)n(f),pe.sortIndex=pe.expirationTime,t(l,pe);else break;pe=r(f)}}function O(J){if(E=!1,b(J),!_)if(r(l)!==null)_=!0,Fe(T);else{var pe=r(f);pe!==null&&Ue(O,pe.startTime-J)}}function T(J,pe){_=!1,E&&(E=!1,g(Q),Q=-1),w=!0;var H=v;try{for(b(pe),p=r(l);p!==null&&(!(p.expirationTime>pe)||J&&!te());){var I=p.callback;if(typeof I=="function"){p.callback=null,v=p.priorityLevel;var G=I(p.expirationTime<=pe);pe=e.unstable_now(),typeof G=="function"?p.callback=G:p===r(l)&&n(l),b(pe)}else n(l);p=r(l)}if(p!==null)var K=!0;else{var k=r(f);k!==null&&Ue(O,k.startTime-pe),K=!1}return K}finally{p=null,v=H,w=!1}}var B=!1,F=null,Q=-1,de=5,se=-1;function te(){return!(e.unstable_now()-se<de)}function ie(){if(F!==null){var J=e.unstable_now();se=J;var pe=!0;try{pe=F(!0,J)}finally{pe?we():(B=!1,F=null)}}else B=!1}var we;if(typeof y=="function")we=function(){y(ie)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Re=Se.port2;Se.port1.onmessage=ie,we=function(){Re.postMessage(null)}}else we=function(){$(ie,0)};function Fe(J){F=J,B||(B=!0,we())}function Ue(J,pe){Q=$(function(){J(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,Fe(T))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(J){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var H=v;v=pe;try{return J()}finally{v=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,pe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var H=v;v=J;try{return pe()}finally{v=H}},e.unstable_scheduleCallback=function(J,pe,H){var I=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,J){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,J={id:d++,callback:pe,priorityLevel:J,startTime:H,expirationTime:G,sortIndex:-1},H>I?(J.sortIndex=H,t(f,J),r(l)===null&&J===r(f)&&(E?(g(Q),Q=-1):E=!0,Ue(O,H-I))):(J.sortIndex=G,t(l,J),_||w||(_=!0,Fe(T))),J},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(J){var pe=v;return function(){var H=v;v=pe;try{return J.apply(this,arguments)}finally{v=H}}}})(w_);g_.exports=w_;var sk=g_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=De,Pr=sk;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var __=new Set,ou={};function zo(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(ou[e]=t,e=0;e<t.length;e++)__.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lh=Object.prototype.hasOwnProperty,lk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bg={},Eg={};function ck(e){return Lh.call(Eg,e)?!0:Lh.call(bg,e)?!1:lk.test(e)?Eg[e]=!0:(bg[e]=!0,!1)}function fk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dk(e,t,r,n){if(t===null||typeof t>"u"||fk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tr(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zt[e]=new tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zt[t]=new tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zt[e]=new tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zt[e]=new tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zt[e]=new tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zt[e]=new tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zt[e]=new tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zt[e]=new tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zt[e]=new tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function _m(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wm,_m);zt[t]=new tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wm,_m);zt[t]=new tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wm,_m);zt[t]=new tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zt[e]=new tr(e,1,!1,e.toLowerCase(),null,!1,!1)});zt.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zt[e]=new tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sm(e,t,r,n){var i=zt.hasOwnProperty(t)?zt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dk(t,r,i,n)&&(r=null),n||i===null?ck(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zn=uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),aa=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),b_=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),E_=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function bs(e){return e===null||typeof e!="object"?null:(e=Pg&&e[Pg]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,zd;function As(e){if(zd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zd=t&&t[1]||""}return`
`+zd+e}var jd=!1;function Ld(e,t){if(!e||jd)return"";jd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{jd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?As(e):""}function hk(e){switch(e.tag){case 5:return As(e.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return e=Ld(e.type,!1),e;case 11:return e=Ld(e.type.render,!1),e;case 1:return e=Ld(e.type,!0),e;default:return""}}function Wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sa:return"Fragment";case aa:return"Portal";case Fh:return"Profiler";case bm:return"StrictMode";case Bh:return"Suspense";case Kh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b_:return(e.displayName||"Context")+".Consumer";case S_:return(e._context.displayName||"Context")+".Provider";case Em:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pm:return t=e.displayName||null,t!==null?t:Wh(e.type)||"Memo";case hi:t=e._payload,e=e._init;try{return Wh(e(t))}catch{}}return null}function pk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wh(t);case 8:return t===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mk(e){var t=P_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=mk(e))}function $_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=P_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Nc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uh(e,t){var r=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $g(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ii(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k_(e,t){t=t.checked,t!=null&&Sm(e,"checked",t,!1)}function qh(e,t){k_(e,t);var r=Ii(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hh(e,t.type,Ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hh(e,t,r){(t!=="number"||Nc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Is=Array.isArray;function wa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ii(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(Is(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ii(r)}}function C_(e,t){var r=Ii(t.value),n=Ii(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Og(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function O_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?O_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dl,x_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function au(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vk=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){vk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function T_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function R_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=T_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var yk=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xh(e,t){if(t){if(yk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Gh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=null;function $m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zh=null,_a=null,Sa=null;function xg(e){if(e=qu(e)){if(typeof Zh!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=$f(t),Zh(e.stateNode,e.type,t))}}function D_(e){_a?Sa?Sa.push(e):Sa=[e]:_a=e}function N_(){if(_a){var e=_a,t=Sa;if(Sa=_a=null,xg(e),t)for(e=0;e<t.length;e++)xg(t[e])}}function M_(e,t){return e(t)}function A_(){}var Fd=!1;function I_(e,t,r){if(Fd)return e(t,r);Fd=!0;try{return M_(e,t,r)}finally{Fd=!1,(_a!==null||Sa!==null)&&(A_(),N_())}}function su(e,t){var r=e.stateNode;if(r===null)return null;var n=$f(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var Jh=!1;if(Hn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Jh=!1}function gk(e,t,r,n,i,o,a,s,l){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(d){this.onError(d)}}var Ws=!1,Mc=null,Ac=!1,ep=null,wk={onError:function(e){Ws=!0,Mc=e}};function _k(e,t,r,n,i,o,a,s,l){Ws=!1,Mc=null,gk.apply(wk,arguments)}function Sk(e,t,r,n,i,o,a,s,l){if(_k.apply(this,arguments),Ws){if(Ws){var f=Mc;Ws=!1,Mc=null}else throw Error(ee(198));Ac||(Ac=!0,ep=f)}}function jo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function z_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tg(e){if(jo(e)!==e)throw Error(ee(188))}function bk(e){var t=e.alternate;if(!t){if(t=jo(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Tg(i),e;if(o===n)return Tg(i),t;o=o.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function j_(e){return e=bk(e),e!==null?L_(e):null}function L_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L_(e);if(t!==null)return t;e=e.sibling}return null}var F_=Pr.unstable_scheduleCallback,Rg=Pr.unstable_cancelCallback,Ek=Pr.unstable_shouldYield,Pk=Pr.unstable_requestPaint,vt=Pr.unstable_now,$k=Pr.unstable_getCurrentPriorityLevel,km=Pr.unstable_ImmediatePriority,B_=Pr.unstable_UserBlockingPriority,Ic=Pr.unstable_NormalPriority,kk=Pr.unstable_LowPriority,K_=Pr.unstable_IdlePriority,Sf=null,Sn=null;function Ck(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Tk,Ok=Math.log,xk=Math.LN2;function Tk(e){return e>>>=0,e===0?32:31-(Ok(e)/xk|0)|0}var Nl=64,Ml=4194304;function zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=zs(s):(o&=a,o!==0&&(n=zs(o)))}else a=r&~i,a!==0?n=zs(a):o!==0&&(n=zs(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rn(t),i=1<<r,n|=e[r],t&=~i;return n}function Rk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-rn(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=Rk(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function tp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W_(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function Bd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=r}function Nk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rn(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Cm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var qe=0;function U_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q_,Om,H_,V_,Y_,rp=!1,Al=[],Pi=null,$i=null,ki=null,uu=new Map,lu=new Map,mi=[],Mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(e,t){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":uu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(t.pointerId)}}function Ps(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qu(t),t!==null&&Om(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ak(e,t,r,n,i){switch(t){case"focusin":return Pi=Ps(Pi,e,t,r,n,i),!0;case"dragenter":return $i=Ps($i,e,t,r,n,i),!0;case"mouseover":return ki=Ps(ki,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return uu.set(o,Ps(uu.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,lu.set(o,Ps(lu.get(o)||null,e,t,r,n,i)),!0}return!1}function X_(e){var t=vo(e.target);if(t!==null){var r=jo(t);if(r!==null){if(t=r.tag,t===13){if(t=z_(r),t!==null){e.blockedOn=t,Y_(e.priority,function(){H_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=np(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qh=n,r.target.dispatchEvent(n),Qh=null}else return t=qu(r),t!==null&&Om(t),e.blockedOn=r,!1;t.shift()}return!0}function Ng(e,t,r){dc(e)&&r.delete(t)}function Ik(){rp=!1,Pi!==null&&dc(Pi)&&(Pi=null),$i!==null&&dc($i)&&($i=null),ki!==null&&dc(ki)&&(ki=null),uu.forEach(Ng),lu.forEach(Ng)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,rp||(rp=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,Ik)))}function cu(e){function t(i){return $s(i,e)}if(0<Al.length){$s(Al[0],e);for(var r=1;r<Al.length;r++){var n=Al[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pi!==null&&$s(Pi,e),$i!==null&&$s($i,e),ki!==null&&$s(ki,e),uu.forEach(t),lu.forEach(t),r=0;r<mi.length;r++)n=mi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<mi.length&&(r=mi[0],r.blockedOn===null);)X_(r),r.blockedOn===null&&mi.shift()}var ba=Zn.ReactCurrentBatchConfig,jc=!0;function zk(e,t,r,n){var i=qe,o=ba.transition;ba.transition=null;try{qe=1,xm(e,t,r,n)}finally{qe=i,ba.transition=o}}function jk(e,t,r,n){var i=qe,o=ba.transition;ba.transition=null;try{qe=4,xm(e,t,r,n)}finally{qe=i,ba.transition=o}}function xm(e,t,r,n){if(jc){var i=np(e,t,r,n);if(i===null)Qd(e,t,n,Lc,r),Dg(e,n);else if(Ak(i,e,t,r,n))n.stopPropagation();else if(Dg(e,n),t&4&&-1<Mk.indexOf(e)){for(;i!==null;){var o=qu(i);if(o!==null&&q_(o),o=np(e,t,r,n),o===null&&Qd(e,t,n,Lc,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Qd(e,t,n,null,r)}}var Lc=null;function np(e,t,r,n){if(Lc=null,e=$m(n),e=vo(e),e!==null)if(t=jo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=z_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lc=e,null}function G_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($k()){case km:return 1;case B_:return 4;case Ic:case kk:return 16;case K_:return 536870912;default:return 16}default:return 16}}var _i=null,Tm=null,hc=null;function Q_(){if(hc)return hc;var e,t=Tm,r=t.length,n,i="value"in _i?_i.value:_i.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return hc=i.slice(e,1<n?1-n:void 0)}function pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Mg(){return!1}function Cr(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Il:Mg,this.isPropagationStopped=Mg,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=Cr(Za),Uu=ut({},Za,{view:0,detail:0}),Lk=Cr(Uu),Kd,Wd,ks,bf=ut({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(Kd=e.screenX-ks.screenX,Wd=e.screenY-ks.screenY):Wd=Kd=0,ks=e),Kd)},movementY:function(e){return"movementY"in e?e.movementY:Wd}}),Ag=Cr(bf),Fk=ut({},bf,{dataTransfer:0}),Bk=Cr(Fk),Kk=ut({},Uu,{relatedTarget:0}),Ud=Cr(Kk),Wk=ut({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Uk=Cr(Wk),qk=ut({},Za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hk=Cr(qk),Vk=ut({},Za,{data:0}),Ig=Cr(Vk),Yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gk[e])?!!t[e]:!1}function Dm(){return Qk}var Zk=ut({},Uu,{key:function(e){if(e.key){var t=Yk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(e){return e.type==="keypress"?pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jk=Cr(Zk),eC=ut({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zg=Cr(eC),tC=ut({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),rC=Cr(tC),nC=ut({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),iC=Cr(nC),oC=ut({},bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aC=Cr(oC),sC=[9,13,27,32],Nm=Hn&&"CompositionEvent"in window,Us=null;Hn&&"documentMode"in document&&(Us=document.documentMode);var uC=Hn&&"TextEvent"in window&&!Us,Z_=Hn&&(!Nm||Us&&8<Us&&11>=Us),jg=String.fromCharCode(32),Lg=!1;function J_(e,t){switch(e){case"keyup":return sC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function lC(e,t){switch(e){case"compositionend":return e1(t);case"keypress":return t.which!==32?null:(Lg=!0,jg);case"textInput":return e=t.data,e===jg&&Lg?null:e;default:return null}}function cC(e,t){if(ua)return e==="compositionend"||!Nm&&J_(e,t)?(e=Q_(),hc=Tm=_i=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z_&&t.locale!=="ko"?null:t.data;default:return null}}var fC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fC[e.type]:t==="textarea"}function t1(e,t,r,n){D_(n),t=Fc(t,"onChange"),0<t.length&&(r=new Rm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qs=null,fu=null;function dC(e){d1(e,0)}function Ef(e){var t=fa(e);if($_(t))return e}function hC(e,t){if(e==="change")return t}var r1=!1;if(Hn){var qd;if(Hn){var Hd="oninput"in document;if(!Hd){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Hd=typeof Bg.oninput=="function"}qd=Hd}else qd=!1;r1=qd&&(!document.documentMode||9<document.documentMode)}function Kg(){qs&&(qs.detachEvent("onpropertychange",n1),fu=qs=null)}function n1(e){if(e.propertyName==="value"&&Ef(fu)){var t=[];t1(t,fu,e,$m(e)),I_(dC,t)}}function pC(e,t,r){e==="focusin"?(Kg(),qs=t,fu=r,qs.attachEvent("onpropertychange",n1)):e==="focusout"&&Kg()}function mC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(fu)}function vC(e,t){if(e==="click")return Ef(t)}function yC(e,t){if(e==="input"||e==="change")return Ef(t)}function gC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:gC;function du(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Lh.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function Wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,t){var r=Wg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wg(r)}}function i1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o1(){for(var e=window,t=Nc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Nc(e.document)}return t}function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wC(e){var t=o1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&i1(r.ownerDocument.documentElement,r)){if(n!==null&&Mm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=Ug(r,o);var a=Ug(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _C=Hn&&"documentMode"in document&&11>=document.documentMode,la=null,ip=null,Hs=null,op=!1;function qg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;op||la==null||la!==Nc(n)||(n=la,"selectionStart"in n&&Mm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hs&&du(Hs,n)||(Hs=n,n=Fc(ip,"onSelect"),0<n.length&&(t=new Rm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=la)))}function zl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ca={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Vd={},a1={};Hn&&(a1=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Pf(e){if(Vd[e])return Vd[e];if(!ca[e])return e;var t=ca[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in a1)return Vd[e]=t[r];return e}var s1=Pf("animationend"),u1=Pf("animationiteration"),l1=Pf("animationstart"),c1=Pf("transitionend"),f1=new Map,Hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){f1.set(e,t),zo(t,[e])}for(var Yd=0;Yd<Hg.length;Yd++){var Xd=Hg[Yd],SC=Xd.toLowerCase(),bC=Xd[0].toUpperCase()+Xd.slice(1);Li(SC,"on"+bC)}Li(s1,"onAnimationEnd");Li(u1,"onAnimationIteration");Li(l1,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(c1,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EC=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function Vg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sk(n,t,void 0,e),e.currentTarget=null}function d1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,f=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Vg(i,s,f),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,f=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Vg(i,s,f),o=l}}}if(Ac)throw e=ep,Ac=!1,ep=null,e}function Je(e,t){var r=t[cp];r===void 0&&(r=t[cp]=new Set);var n=e+"__bubble";r.has(n)||(h1(t,e,2,!1),r.add(n))}function Gd(e,t,r){var n=0;t&&(n|=4),h1(r,e,n,t)}var jl="_reactListening"+Math.random().toString(36).slice(2);function hu(e){if(!e[jl]){e[jl]=!0,__.forEach(function(r){r!=="selectionchange"&&(EC.has(r)||Gd(r,!1,e),Gd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jl]||(t[jl]=!0,Gd("selectionchange",!1,t))}}function h1(e,t,r,n){switch(G_(t)){case 1:var i=zk;break;case 4:i=jk;break;default:i=xm}r=i.bind(null,t,r,e),i=void 0,!Jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Qd(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=vo(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}I_(function(){var f=o,d=$m(r),p=[];e:{var v=f1.get(e);if(v!==void 0){var w=Rm,_=e;switch(e){case"keypress":if(pc(r)===0)break e;case"keydown":case"keyup":w=Jk;break;case"focusin":_="focus",w=Ud;break;case"focusout":_="blur",w=Ud;break;case"beforeblur":case"afterblur":w=Ud;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=rC;break;case s1:case u1:case l1:w=Uk;break;case c1:w=iC;break;case"scroll":w=Lk;break;case"wheel":w=aC;break;case"copy":case"cut":case"paste":w=Hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=zg}var E=(t&4)!==0,$=!E&&e==="scroll",g=E?v!==null?v+"Capture":null:v;E=[];for(var y=f,b;y!==null;){b=y;var O=b.stateNode;if(b.tag===5&&O!==null&&(b=O,g!==null&&(O=su(y,g),O!=null&&E.push(pu(y,O,b)))),$)break;y=y.return}0<E.length&&(v=new w(v,_,null,r,d),p.push({event:v,listeners:E}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&r!==Qh&&(_=r.relatedTarget||r.fromElement)&&(vo(_)||_[Vn]))break e;if((w||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,w?(_=r.relatedTarget||r.toElement,w=f,_=_?vo(_):null,_!==null&&($=jo(_),_!==$||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=f),w!==_)){if(E=Ag,O="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=zg,O="onPointerLeave",g="onPointerEnter",y="pointer"),$=w==null?v:fa(w),b=_==null?v:fa(_),v=new E(O,y+"leave",w,r,d),v.target=$,v.relatedTarget=b,O=null,vo(d)===f&&(E=new E(g,y+"enter",_,r,d),E.target=b,E.relatedTarget=$,O=E),$=O,w&&_)t:{for(E=w,g=_,y=0,b=E;b;b=Jo(b))y++;for(b=0,O=g;O;O=Jo(O))b++;for(;0<y-b;)E=Jo(E),y--;for(;0<b-y;)g=Jo(g),b--;for(;y--;){if(E===g||g!==null&&E===g.alternate)break t;E=Jo(E),g=Jo(g)}E=null}else E=null;w!==null&&Yg(p,v,w,E,!1),_!==null&&$!==null&&Yg(p,$,_,E,!0)}}e:{if(v=f?fa(f):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var T=hC;else if(Fg(v))if(r1)T=yC;else{T=mC;var B=pC}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=vC);if(T&&(T=T(e,f))){t1(p,T,r,d);break e}B&&B(e,v,f),e==="focusout"&&(B=v._wrapperState)&&B.controlled&&v.type==="number"&&Hh(v,"number",v.value)}switch(B=f?fa(f):window,e){case"focusin":(Fg(B)||B.contentEditable==="true")&&(la=B,ip=f,Hs=null);break;case"focusout":Hs=ip=la=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,qg(p,r,d);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":qg(p,r,d)}var F;if(Nm)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else ua?J_(e,r)&&(Q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(Z_&&r.locale!=="ko"&&(ua||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&ua&&(F=Q_()):(_i=d,Tm="value"in _i?_i.value:_i.textContent,ua=!0)),B=Fc(f,Q),0<B.length&&(Q=new Ig(Q,e,null,r,d),p.push({event:Q,listeners:B}),F?Q.data=F:(F=e1(r),F!==null&&(Q.data=F)))),(F=uC?lC(e,r):cC(e,r))&&(f=Fc(f,"onBeforeInput"),0<f.length&&(d=new Ig("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:f}),d.data=F))}d1(p,t)})}function pu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=su(e,r),o!=null&&n.unshift(pu(e,o,i)),o=su(e,t),o!=null&&n.push(pu(e,o,i))),e=e.return}return n}function Jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yg(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,f=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&f!==null&&(s=f,i?(l=su(r,o),l!=null&&a.unshift(pu(r,l,s))):i||(l=su(r,o),l!=null&&a.push(pu(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var PC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function Xg(e){return(typeof e=="string"?e:""+e).replace(PC,`
`).replace($C,"")}function Ll(e,t,r){if(t=Xg(t),Xg(e)!==t&&r)throw Error(ee(425))}function Bc(){}var ap=null,sp=null;function up(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(e){return Gg.resolve(null).then(e).catch(OC)}:lp;function OC(e){setTimeout(function(){throw e})}function Zd(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),cu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);cu(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),vn="__reactFiber$"+Ja,mu="__reactProps$"+Ja,Vn="__reactContainer$"+Ja,cp="__reactEvents$"+Ja,xC="__reactListeners$"+Ja,TC="__reactHandles$"+Ja;function vo(e){var t=e[vn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vn]||r[vn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qg(e);e!==null;){if(r=e[vn])return r;e=Qg(e)}return t}e=r,r=e.parentNode}return null}function qu(e){return e=e[vn]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function $f(e){return e[mu]||null}var fp=[],da=-1;function Fi(e){return{current:e}}function tt(e){0>da||(e.current=fp[da],fp[da]=null,da--)}function Qe(e,t){da++,fp[da]=e.current,e.current=t}var zi={},Ht=Fi(zi),cr=Fi(!1),ko=zi;function Ia(e,t){var r=e.type.contextTypes;if(!r)return zi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fr(e){return e=e.childContextTypes,e!=null}function Kc(){tt(cr),tt(Ht)}function Zg(e,t,r){if(Ht.current!==zi)throw Error(ee(168));Qe(Ht,t),Qe(cr,r)}function p1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ee(108,pk(e)||"Unknown",i));return ut({},r,n)}function Wc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zi,ko=Ht.current,Qe(Ht,e),Qe(cr,cr.current),!0}function Jg(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=p1(e,t,ko),n.__reactInternalMemoizedMergedChildContext=e,tt(cr),tt(Ht),Qe(Ht,e)):tt(cr),Qe(cr,r)}var Nn=null,kf=!1,Jd=!1;function m1(e){Nn===null?Nn=[e]:Nn.push(e)}function RC(e){kf=!0,m1(e)}function Bi(){if(!Jd&&Nn!==null){Jd=!0;var e=0,t=qe;try{var r=Nn;for(qe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nn=null,kf=!1}catch(i){throw Nn!==null&&(Nn=Nn.slice(e+1)),F_(km,Bi),i}finally{qe=t,Jd=!1}}return null}var ha=[],pa=0,Uc=null,qc=0,Nr=[],Mr=0,Co=null,jn=1,Ln="";function uo(e,t){ha[pa++]=qc,ha[pa++]=Uc,Uc=e,qc=t}function v1(e,t,r){Nr[Mr++]=jn,Nr[Mr++]=Ln,Nr[Mr++]=Co,Co=e;var n=jn;e=Ln;var i=32-rn(n)-1;n&=~(1<<i),r+=1;var o=32-rn(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,jn=1<<32-rn(t)+i|r<<i|n,Ln=o+e}else jn=1<<o|r<<i|n,Ln=e}function Am(e){e.return!==null&&(uo(e,1),v1(e,1,0))}function Im(e){for(;e===Uc;)Uc=ha[--pa],ha[pa]=null,qc=ha[--pa],ha[pa]=null;for(;e===Co;)Co=Nr[--Mr],Nr[Mr]=null,Ln=Nr[--Mr],Nr[Mr]=null,jn=Nr[--Mr],Nr[Mr]=null}var br=null,Sr=null,it=!1,Jr=null;function y1(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function e0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,br=e,Sr=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,br=e,Sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Co!==null?{id:jn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,br=e,Sr=null,!0):!1;default:return!1}}function dp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hp(e){if(it){var t=Sr;if(t){var r=t;if(!e0(e,t)){if(dp(e))throw Error(ee(418));t=Ci(r.nextSibling);var n=br;t&&e0(e,t)?y1(n,r):(e.flags=e.flags&-4097|2,it=!1,br=e)}}else{if(dp(e))throw Error(ee(418));e.flags=e.flags&-4097|2,it=!1,br=e}}}function t0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;br=e}function Fl(e){if(e!==br)return!1;if(!it)return t0(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!up(e.type,e.memoizedProps)),t&&(t=Sr)){if(dp(e))throw g1(),Error(ee(418));for(;t;)y1(e,t),t=Ci(t.nextSibling)}if(t0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sr=Ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sr=null}}else Sr=br?Ci(e.stateNode.nextSibling):null;return!0}function g1(){for(var e=Sr;e;)e=Ci(e.nextSibling)}function za(){Sr=br=null,it=!1}function zm(e){Jr===null?Jr=[e]:Jr.push(e)}var DC=Zn.ReactCurrentBatchConfig;function Cs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function Bl(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r0(e){var t=e._init;return t(e._payload)}function w1(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Ri(g,y),g.index=0,g.sibling=null,g}function o(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,y,b,O){return y===null||y.tag!==6?(y=ah(b,g.mode,O),y.return=g,y):(y=i(y,b),y.return=g,y)}function l(g,y,b,O){var T=b.type;return T===sa?d(g,y,b.props.children,O,b.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hi&&r0(T)===y.type)?(O=i(y,b.props),O.ref=Cs(g,y,b),O.return=g,O):(O=Sc(b.type,b.key,b.props,null,g.mode,O),O.ref=Cs(g,y,b),O.return=g,O)}function f(g,y,b,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=sh(b,g.mode,O),y.return=g,y):(y=i(y,b.children||[]),y.return=g,y)}function d(g,y,b,O,T){return y===null||y.tag!==7?(y=Eo(b,g.mode,O,T),y.return=g,y):(y=i(y,b),y.return=g,y)}function p(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ah(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tl:return b=Sc(y.type,y.key,y.props,null,g.mode,b),b.ref=Cs(g,null,y),b.return=g,b;case aa:return y=sh(y,g.mode,b),y.return=g,y;case hi:var O=y._init;return p(g,O(y._payload),b)}if(Is(y)||bs(y))return y=Eo(y,g.mode,b,null),y.return=g,y;Bl(g,y)}return null}function v(g,y,b,O){var T=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:s(g,y,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tl:return b.key===T?l(g,y,b,O):null;case aa:return b.key===T?f(g,y,b,O):null;case hi:return T=b._init,v(g,y,T(b._payload),O)}if(Is(b)||bs(b))return T!==null?null:d(g,y,b,O,null);Bl(g,b)}return null}function w(g,y,b,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(b)||null,s(y,g,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Tl:return g=g.get(O.key===null?b:O.key)||null,l(y,g,O,T);case aa:return g=g.get(O.key===null?b:O.key)||null,f(y,g,O,T);case hi:var B=O._init;return w(g,y,b,B(O._payload),T)}if(Is(O)||bs(O))return g=g.get(b)||null,d(y,g,O,T,null);Bl(y,O)}return null}function _(g,y,b,O){for(var T=null,B=null,F=y,Q=y=0,de=null;F!==null&&Q<b.length;Q++){F.index>Q?(de=F,F=null):de=F.sibling;var se=v(g,F,b[Q],O);if(se===null){F===null&&(F=de);break}e&&F&&se.alternate===null&&t(g,F),y=o(se,y,Q),B===null?T=se:B.sibling=se,B=se,F=de}if(Q===b.length)return r(g,F),it&&uo(g,Q),T;if(F===null){for(;Q<b.length;Q++)F=p(g,b[Q],O),F!==null&&(y=o(F,y,Q),B===null?T=F:B.sibling=F,B=F);return it&&uo(g,Q),T}for(F=n(g,F);Q<b.length;Q++)de=w(F,g,Q,b[Q],O),de!==null&&(e&&de.alternate!==null&&F.delete(de.key===null?Q:de.key),y=o(de,y,Q),B===null?T=de:B.sibling=de,B=de);return e&&F.forEach(function(te){return t(g,te)}),it&&uo(g,Q),T}function E(g,y,b,O){var T=bs(b);if(typeof T!="function")throw Error(ee(150));if(b=T.call(b),b==null)throw Error(ee(151));for(var B=T=null,F=y,Q=y=0,de=null,se=b.next();F!==null&&!se.done;Q++,se=b.next()){F.index>Q?(de=F,F=null):de=F.sibling;var te=v(g,F,se.value,O);if(te===null){F===null&&(F=de);break}e&&F&&te.alternate===null&&t(g,F),y=o(te,y,Q),B===null?T=te:B.sibling=te,B=te,F=de}if(se.done)return r(g,F),it&&uo(g,Q),T;if(F===null){for(;!se.done;Q++,se=b.next())se=p(g,se.value,O),se!==null&&(y=o(se,y,Q),B===null?T=se:B.sibling=se,B=se);return it&&uo(g,Q),T}for(F=n(g,F);!se.done;Q++,se=b.next())se=w(F,g,Q,se.value,O),se!==null&&(e&&se.alternate!==null&&F.delete(se.key===null?Q:se.key),y=o(se,y,Q),B===null?T=se:B.sibling=se,B=se);return e&&F.forEach(function(ie){return t(g,ie)}),it&&uo(g,Q),T}function $(g,y,b,O){if(typeof b=="object"&&b!==null&&b.type===sa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tl:e:{for(var T=b.key,B=y;B!==null;){if(B.key===T){if(T=b.type,T===sa){if(B.tag===7){r(g,B.sibling),y=i(B,b.props.children),y.return=g,g=y;break e}}else if(B.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hi&&r0(T)===B.type){r(g,B.sibling),y=i(B,b.props),y.ref=Cs(g,B,b),y.return=g,g=y;break e}r(g,B);break}else t(g,B);B=B.sibling}b.type===sa?(y=Eo(b.props.children,g.mode,O,b.key),y.return=g,g=y):(O=Sc(b.type,b.key,b.props,null,g.mode,O),O.ref=Cs(g,y,b),O.return=g,g=O)}return a(g);case aa:e:{for(B=b.key;y!==null;){if(y.key===B)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=i(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=sh(b,g.mode,O),y.return=g,g=y}return a(g);case hi:return B=b._init,$(g,y,B(b._payload),O)}if(Is(b))return _(g,y,b,O);if(bs(b))return E(g,y,b,O);Bl(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=i(y,b),y.return=g,g=y):(r(g,y),y=ah(b,g.mode,O),y.return=g,g=y),a(g)):r(g,y)}return $}var ja=w1(!0),_1=w1(!1),Hc=Fi(null),Vc=null,ma=null,jm=null;function Lm(){jm=ma=Vc=null}function Fm(e){var t=Hc.current;tt(Hc),e._currentValue=t}function pp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ea(e,t){Vc=e,jm=ma=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lr=!0),e.firstContext=null)}function Br(e){var t=e._currentValue;if(jm!==e)if(e={context:e,memoizedValue:t,next:null},ma===null){if(Vc===null)throw Error(ee(308));ma=e,Vc.dependencies={lanes:0,firstContext:e}}else ma=ma.next=e;return t}var yo=null;function Bm(e){yo===null?yo=[e]:yo.push(e)}function S1(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Bm(t)):(r.next=i.next,i.next=r),t.interleaved=r,Yn(e,n)}function Yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pi=!1;function Km(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Yn(e,r)}return i=n.interleaved,i===null?(t.next=t,Bm(n)):(t.next=i.next,i.next=t),n.interleaved=t,Yn(e,r)}function mc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cm(e,r)}}function n0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yc(e,t,r,n){var i=e.updateQueue;pi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,f=l.next;l.next=null,a===null?o=f:a.next=f,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=f:s.next=f,d.lastBaseUpdate=l))}if(o!==null){var p=i.baseState;a=0,d=f=l=null,s=o;do{var v=s.lane,w=s.eventTime;if((n&v)===v){d!==null&&(d=d.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=e,E=s;switch(v=t,w=r,E.tag){case 1:if(_=E.payload,typeof _=="function"){p=_.call(w,p,v);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,v=typeof _=="function"?_.call(w,p,v):_,v==null)break e;p=ut({},p,v);break e;case 2:pi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else w={eventTime:w,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(f=d=w,l=p):d=d.next=w,a|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);xo|=a,e.lanes=a,e.memoizedState=p}}function i0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var Hu={},bn=Fi(Hu),vu=Fi(Hu),yu=Fi(Hu);function go(e){if(e===Hu)throw Error(ee(174));return e}function Wm(e,t){switch(Qe(yu,t),Qe(vu,e),Qe(bn,Hu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yh(t,e)}tt(bn),Qe(bn,t)}function La(){tt(bn),tt(vu),tt(yu)}function E1(e){go(yu.current);var t=go(bn.current),r=Yh(t,e.type);t!==r&&(Qe(vu,e),Qe(bn,r))}function Um(e){vu.current===e&&(tt(bn),tt(vu))}var ot=Fi(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eh=[];function qm(){for(var e=0;e<eh.length;e++)eh[e]._workInProgressVersionPrimary=null;eh.length=0}var vc=Zn.ReactCurrentDispatcher,th=Zn.ReactCurrentBatchConfig,Oo=0,st=null,St=null,xt=null,Gc=!1,Vs=!1,gu=0,NC=0;function Bt(){throw Error(ee(321))}function Hm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function Vm(e,t,r,n,i,o){if(Oo=o,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vc.current=e===null||e.memoizedState===null?zC:jC,e=r(n,i),Vs){o=0;do{if(Vs=!1,gu=0,25<=o)throw Error(ee(301));o+=1,xt=St=null,t.updateQueue=null,vc.current=LC,e=r(n,i)}while(Vs)}if(vc.current=Qc,t=St!==null&&St.next!==null,Oo=0,xt=St=st=null,Gc=!1,t)throw Error(ee(300));return e}function Ym(){var e=gu!==0;return gu=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=e:xt=xt.next=e,xt}function Kr(){if(St===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=xt===null?st.memoizedState:xt.next;if(t!==null)xt=t,St=e;else{if(e===null)throw Error(ee(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},xt===null?st.memoizedState=xt=e:xt=xt.next=e}return xt}function wu(e,t){return typeof t=="function"?t(e):t}function rh(e){var t=Kr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=St,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,f=o;do{var d=f.lane;if((Oo&d)===d)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(s=l=p,a=n):l=l.next=p,st.lanes|=d,xo|=d}f=f.next}while(f!==null&&f!==o);l===null?a=n:l.next=s,sn(n,t.memoizedState)||(lr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,st.lanes|=o,xo|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nh(e){var t=Kr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);sn(o,t.memoizedState)||(lr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function P1(){}function $1(e,t){var r=st,n=Kr(),i=t(),o=!sn(n.memoizedState,i);if(o&&(n.memoizedState=i,lr=!0),n=n.queue,Xm(O1.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,_u(9,C1.bind(null,r,n,i,t),void 0,null),Tt===null)throw Error(ee(349));Oo&30||k1(r,t,i)}return i}function k1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function C1(e,t,r,n){t.value=r,t.getSnapshot=n,x1(t)&&T1(e)}function O1(e,t,r){return r(function(){x1(t)&&T1(e)})}function x1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch{return!0}}function T1(e){var t=Yn(e,1);t!==null&&nn(t,e,1,-1)}function o0(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:e},t.queue=e,e=e.dispatch=IC.bind(null,st,e),[t.memoizedState,e]}function _u(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function R1(){return Kr().memoizedState}function yc(e,t,r,n){var i=pn();st.flags|=e,i.memoizedState=_u(1|t,r,void 0,n===void 0?null:n)}function Cf(e,t,r,n){var i=Kr();n=n===void 0?null:n;var o=void 0;if(St!==null){var a=St.memoizedState;if(o=a.destroy,n!==null&&Hm(n,a.deps)){i.memoizedState=_u(t,r,o,n);return}}st.flags|=e,i.memoizedState=_u(1|t,r,o,n)}function a0(e,t){return yc(8390656,8,e,t)}function Xm(e,t){return Cf(2048,8,e,t)}function D1(e,t){return Cf(4,2,e,t)}function N1(e,t){return Cf(4,4,e,t)}function M1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A1(e,t,r){return r=r!=null?r.concat([e]):null,Cf(4,4,M1.bind(null,t,e),r)}function Gm(){}function I1(e,t){var r=Kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function z1(e,t){var r=Kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function j1(e,t,r){return Oo&21?(sn(r,t)||(r=W_(),st.lanes|=r,xo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lr=!0),e.memoizedState=r)}function MC(e,t){var r=qe;qe=r!==0&&4>r?r:4,e(!0);var n=th.transition;th.transition={};try{e(!1),t()}finally{qe=r,th.transition=n}}function L1(){return Kr().memoizedState}function AC(e,t,r){var n=Ti(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},F1(e))B1(t,r);else if(r=S1(e,t,r,n),r!==null){var i=Jt();nn(r,e,n,i),K1(r,t,n)}}function IC(e,t,r){var n=Ti(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(F1(e))B1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,a)){var l=t.interleaved;l===null?(i.next=i,Bm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=S1(e,t,i,n),r!==null&&(i=Jt(),nn(r,e,n,i),K1(r,t,n))}}function F1(e){var t=e.alternate;return e===st||t!==null&&t===st}function B1(e,t){Vs=Gc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function K1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cm(e,r)}}var Qc={readContext:Br,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},zC={readContext:Br,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Br,useEffect:a0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yc(4194308,4,M1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return yc(4,2,e,t)},useMemo:function(e,t){var r=pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=AC.bind(null,st,e),[n.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:o0,useDebugValue:Gm,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=o0(!1),t=e[0];return e=MC.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=st,i=pn();if(it){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),Tt===null)throw Error(ee(349));Oo&30||k1(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,a0(O1.bind(null,n,o,e),[e]),n.flags|=2048,_u(9,C1.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=pn(),t=Tt.identifierPrefix;if(it){var r=Ln,n=jn;r=(n&~(1<<32-rn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jC={readContext:Br,useCallback:I1,useContext:Br,useEffect:Xm,useImperativeHandle:A1,useInsertionEffect:D1,useLayoutEffect:N1,useMemo:z1,useReducer:rh,useRef:R1,useState:function(){return rh(wu)},useDebugValue:Gm,useDeferredValue:function(e){var t=Kr();return j1(t,St.memoizedState,e)},useTransition:function(){var e=rh(wu)[0],t=Kr().memoizedState;return[e,t]},useMutableSource:P1,useSyncExternalStore:$1,useId:L1,unstable_isNewReconciler:!1},LC={readContext:Br,useCallback:I1,useContext:Br,useEffect:Xm,useImperativeHandle:A1,useInsertionEffect:D1,useLayoutEffect:N1,useMemo:z1,useReducer:nh,useRef:R1,useState:function(){return nh(wu)},useDebugValue:Gm,useDeferredValue:function(e){var t=Kr();return St===null?t.memoizedState=e:j1(t,St.memoizedState,e)},useTransition:function(){var e=nh(wu)[0],t=Kr().memoizedState;return[e,t]},useMutableSource:P1,useSyncExternalStore:$1,useId:L1,unstable_isNewReconciler:!1};function Qr(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ut({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Of={isMounted:function(e){return(e=e._reactInternals)?jo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Jt(),i=Ti(e),o=Bn(n,i);o.payload=t,r!=null&&(o.callback=r),t=Oi(e,o,i),t!==null&&(nn(t,e,i,n),mc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Jt(),i=Ti(e),o=Bn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Oi(e,o,i),t!==null&&(nn(t,e,i,n),mc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jt(),n=Ti(e),i=Bn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Oi(e,i,n),t!==null&&(nn(t,e,n,r),mc(t,e,n))}};function s0(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!du(r,n)||!du(i,o):!0}function W1(e,t,r){var n=!1,i=zi,o=t.contextType;return typeof o=="object"&&o!==null?o=Br(o):(i=fr(t)?ko:Ht.current,n=t.contextTypes,o=(n=n!=null)?Ia(e,i):zi),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Of,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function u0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Of.enqueueReplaceState(t,t.state,null)}function vp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Km(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Br(o):(o=fr(t)?ko:Ht.current,i.context=Ia(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mp(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Of.enqueueReplaceState(i,i.state,null),Yc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fa(e,t){try{var r="",n=t;do r+=hk(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ih(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function yp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function U1(e,t,r){r=Bn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jc||(Jc=!0,Cp=n),yp(e,t)},r}function q1(e,t,r){r=Bn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){yp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){yp(e,t),typeof n!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function l0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new FC;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=eO.bind(null,e,t,r),t.then(e,e))}function c0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function f0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bn(-1,1),t.tag=2,Oi(r,t,1))),r.lanes|=1),e)}var BC=Zn.ReactCurrentOwner,lr=!1;function Qt(e,t,r,n){t.child=e===null?_1(t,null,r,n):ja(t,e.child,r,n)}function d0(e,t,r,n,i){r=r.render;var o=t.ref;return Ea(t,i),n=Vm(e,t,r,n,o,i),r=Ym(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xn(e,t,i)):(it&&r&&Am(t),t.flags|=1,Qt(e,t,n,i),t.child)}function h0(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!iv(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,H1(e,t,o,n,i)):(e=Sc(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:du,r(a,n)&&e.ref===t.ref)return Xn(e,t,i)}return t.flags|=1,e=Ri(o,n),e.ref=t.ref,e.return=t,t.child=e}function H1(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(du(o,n)&&e.ref===t.ref)if(lr=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(lr=!0);else return t.lanes=e.lanes,Xn(e,t,i)}return gp(e,t,r,n,i)}function V1(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ya,_r),_r|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(ya,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Qe(ya,_r),_r|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Qe(ya,_r),_r|=n;return Qt(e,t,i,r),t.child}function Y1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gp(e,t,r,n,i){var o=fr(r)?ko:Ht.current;return o=Ia(t,o),Ea(t,i),r=Vm(e,t,r,n,o,i),n=Ym(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xn(e,t,i)):(it&&n&&Am(t),t.flags|=1,Qt(e,t,r,i),t.child)}function p0(e,t,r,n,i){if(fr(r)){var o=!0;Wc(t)}else o=!1;if(Ea(t,i),t.stateNode===null)gc(e,t),W1(t,r,n),vp(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,f=r.contextType;typeof f=="object"&&f!==null?f=Br(f):(f=fr(r)?ko:Ht.current,f=Ia(t,f));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==f)&&u0(t,a,n,f),pi=!1;var v=t.memoizedState;a.state=v,Yc(t,n,a,i),l=t.memoizedState,s!==n||v!==l||cr.current||pi?(typeof d=="function"&&(mp(t,r,d,n),l=t.memoizedState),(s=pi||s0(t,r,s,n,v,l,f))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=f,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,b1(e,t),s=t.memoizedProps,f=t.type===t.elementType?s:Qr(t.type,s),a.props=f,p=t.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=fr(r)?ko:Ht.current,l=Ia(t,l));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||v!==l)&&u0(t,a,n,l),pi=!1,v=t.memoizedState,a.state=v,Yc(t,n,a,i);var _=t.memoizedState;s!==p||v!==_||cr.current||pi?(typeof w=="function"&&(mp(t,r,w,n),_=t.memoizedState),(f=pi||s0(t,r,f,n,v,_,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),a.props=n,a.state=_,a.context=l,n=f):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return wp(e,t,r,n,o,i)}function wp(e,t,r,n,i,o){Y1(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Jg(t,r,!1),Xn(e,t,o);n=t.stateNode,BC.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ja(t,e.child,null,o),t.child=ja(t,null,s,o)):Qt(e,t,s,o),t.memoizedState=n.state,i&&Jg(t,r,!0),t.child}function X1(e){var t=e.stateNode;t.pendingContext?Zg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zg(e,t.context,!1),Wm(e,t.containerInfo)}function m0(e,t,r,n,i){return za(),zm(i),t.flags|=256,Qt(e,t,r,n),t.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function Sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function G1(e,t,r){var n=t.pendingProps,i=ot.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qe(ot,i&1),e===null)return hp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Rf(a,n,0,null),e=Eo(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Sp(r),t.memoizedState=_p,e):Qm(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return KC(e,t,a,n,s,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ri(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ri(s,o):(o=Eo(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Sp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=_p,n}return o=e.child,e=o.sibling,n=Ri(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qm(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kl(e,t,r,n){return n!==null&&zm(n),ja(t,e.child,null,r),e=Qm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KC(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=ih(Error(ee(422))),Kl(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Rf({mode:"visible",children:n.children},i,0,null),o=Eo(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ja(t,e.child,null,a),t.child.memoizedState=Sp(a),t.memoizedState=_p,o);if(!(t.mode&1))return Kl(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ee(419)),n=ih(o,n,void 0),Kl(e,t,a,n)}if(s=(a&e.childLanes)!==0,lr||s){if(n=Tt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Yn(e,i),nn(n,e,i,-1))}return nv(),n=ih(Error(ee(421))),Kl(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tO.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Sr=Ci(i.nextSibling),br=t,it=!0,Jr=null,e!==null&&(Nr[Mr++]=jn,Nr[Mr++]=Ln,Nr[Mr++]=Co,jn=e.id,Ln=e.overflow,Co=t),t=Qm(t,n.children),t.flags|=4096,t)}function v0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pp(e.return,t,r)}function oh(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Q1(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Qt(e,t,n.children,r),n=ot.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v0(e,r,t);else if(e.tag===19)v0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(ot,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Xc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),oh(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}oh(t,!0,r,null,o);break;case"together":oh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=Ri(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ri(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function WC(e,t,r){switch(t.tag){case 3:X1(t),za();break;case 5:E1(t);break;case 1:fr(t.type)&&Wc(t);break;case 4:Wm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Qe(Hc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ot,ot.current&1),t.flags|=128,null):r&t.child.childLanes?G1(e,t,r):(Qe(ot,ot.current&1),e=Xn(e,t,r),e!==null?e.sibling:null);Qe(ot,ot.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Q1(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ot,ot.current),n)break;return null;case 22:case 23:return t.lanes=0,V1(e,t,r)}return Xn(e,t,r)}var Z1,bp,J1,eS;Z1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bp=function(){};J1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,go(bn.current);var o=null;switch(r){case"input":i=Uh(e,i),n=Uh(e,n),o=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),o=[];break;case"textarea":i=Vh(e,i),n=Vh(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bc)}Xh(r,n);var a;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var s=i[f];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ou.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in n){var l=n[f];if(s=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&l!==s&&(l!=null||s!=null))if(f==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(f,r)),r=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ou.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&Je("scroll",e),o||s===l||(o=[])):(o=o||[]).push(f,l))}r&&(o=o||[]).push("style",r);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};eS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Os(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function UC(e,t,r){var n=t.pendingProps;switch(Im(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return fr(t.type)&&Kc(),Kt(t),null;case 3:return n=t.stateNode,La(),tt(cr),tt(Ht),qm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(Tp(Jr),Jr=null))),bp(e,t),Kt(t),null;case 5:Um(t);var i=go(yu.current);if(r=t.type,e!==null&&t.stateNode!=null)J1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return Kt(t),null}if(e=go(bn.current),Fl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[vn]=t,n[mu]=o,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(i=0;i<js.length;i++)Je(js[i],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":$g(n,o),Je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Je("invalid",n);break;case"textarea":Cg(n,o),Je("invalid",n)}Xh(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ll(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ll(n.textContent,s,e),i=["children",""+s]):ou.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Je("scroll",n)}switch(r){case"input":Rl(n),kg(n,o,!0);break;case"textarea":Rl(n),Og(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Bc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=O_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[vn]=t,e[mu]=n,Z1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Gh(r,n),r){case"dialog":Je("cancel",e),Je("close",e),i=n;break;case"iframe":case"object":case"embed":Je("load",e),i=n;break;case"video":case"audio":for(i=0;i<js.length;i++)Je(js[i],e);i=n;break;case"source":Je("error",e),i=n;break;case"img":case"image":case"link":Je("error",e),Je("load",e),i=n;break;case"details":Je("toggle",e),i=n;break;case"input":$g(e,n),i=Uh(e,n),Je("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),Je("invalid",e);break;case"textarea":Cg(e,n),i=Vh(e,n),Je("invalid",e);break;default:i=n}Xh(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?R_(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x_(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&au(e,l):typeof l=="number"&&au(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ou.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Je("scroll",e):l!=null&&Sm(e,o,l,a))}switch(r){case"input":Rl(e),kg(e,n,!1);break;case"textarea":Rl(e),Og(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ii(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?wa(e,!!n.multiple,o,!1):n.defaultValue!=null&&wa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)eS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=go(yu.current),go(bn.current),Fl(t)){if(n=t.stateNode,r=t.memoizedProps,n[vn]=t,(o=n.nodeValue!==r)&&(e=br,e!==null))switch(e.tag){case 3:Ll(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vn]=t,t.stateNode=n}return Kt(t),null;case 13:if(tt(ot),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Sr!==null&&t.mode&1&&!(t.flags&128))g1(),za(),t.flags|=98560,o=!1;else if(o=Fl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[vn]=t}else za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),o=!1}else Jr!==null&&(Tp(Jr),Jr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?Et===0&&(Et=3):nv())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return La(),bp(e,t),e===null&&hu(t.stateNode.containerInfo),Kt(t),null;case 10:return Fm(t.type._context),Kt(t),null;case 17:return fr(t.type)&&Kc(),Kt(t),null;case 19:if(tt(ot),o=t.memoizedState,o===null)return Kt(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Os(o,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Xc(e),a!==null){for(t.flags|=128,Os(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(ot,ot.current&1|2),t.child}e=e.sibling}o.tail!==null&&vt()>Ba&&(t.flags|=128,n=!0,Os(o,!1),t.lanes=4194304)}else{if(!n)if(e=Xc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!it)return Kt(t),null}else 2*vt()-o.renderingStartTime>Ba&&r!==1073741824&&(t.flags|=128,n=!0,Os(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=vt(),t.sibling=null,r=ot.current,Qe(ot,n?r&1|2:r&1),t):(Kt(t),null);case 22:case 23:return rv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_r&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function qC(e,t){switch(Im(t),t.tag){case 1:return fr(t.type)&&Kc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return La(),tt(cr),tt(Ht),qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Um(t),null;case 13:if(tt(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(ot),null;case 4:return La(),null;case 10:return Fm(t.type._context),null;case 22:case 23:return rv(),null;case 24:return null;default:return null}}var Wl=!1,qt=!1,HC=typeof WeakSet=="function"?WeakSet:Set,ge=null;function va(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(e,t,n)}else r.current=null}function Ep(e,t,r){try{r()}catch(n){lt(e,t,n)}}var y0=!1;function VC(e,t){if(ap=jc,e=o1(),Mm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,f=0,d=0,p=e,v=null;t:for(;;){for(var w;p!==r||i!==0&&p.nodeType!==3||(s=a+i),p!==o||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(w=p.firstChild)!==null;)v=p,p=w;for(;;){if(p===e)break t;if(v===r&&++f===i&&(s=a),v===o&&++d===n&&(l=a),(w=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=w}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(sp={focusedElem:e,selectionRange:r},jc=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,$=_.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Qr(t.type,E),$);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(O){lt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return _=y0,y0=!1,_}function Ys(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ep(t,r,o)}i=i.next}while(i!==n)}}function xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tS(e){var t=e.alternate;t!==null&&(e.alternate=null,tS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vn],delete t[mu],delete t[cp],delete t[xC],delete t[TC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rS(e){return e.tag===5||e.tag===3||e.tag===4}function g0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $p(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bc));else if(n!==4&&(e=e.child,e!==null))for($p(e,t,r),e=e.sibling;e!==null;)$p(e,t,r),e=e.sibling}function kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kp(e,t,r),e=e.sibling;e!==null;)kp(e,t,r),e=e.sibling}var Mt=null,Zr=!1;function ui(e,t,r){for(r=r.child;r!==null;)nS(e,t,r),r=r.sibling}function nS(e,t,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:qt||va(r,t);case 6:var n=Mt,i=Zr;Mt=null,ui(e,t,r),Mt=n,Zr=i,Mt!==null&&(Zr?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(Zr?(e=Mt,r=r.stateNode,e.nodeType===8?Zd(e.parentNode,r):e.nodeType===1&&Zd(e,r),cu(e)):Zd(Mt,r.stateNode));break;case 4:n=Mt,i=Zr,Mt=r.stateNode.containerInfo,Zr=!0,ui(e,t,r),Mt=n,Zr=i;break;case 0:case 11:case 14:case 15:if(!qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ep(r,t,a),i=i.next}while(i!==n)}ui(e,t,r);break;case 1:if(!qt&&(va(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){lt(r,t,s)}ui(e,t,r);break;case 21:ui(e,t,r);break;case 22:r.mode&1?(qt=(n=qt)||r.memoizedState!==null,ui(e,t,r),qt=n):ui(e,t,r);break;default:ui(e,t,r)}}function w0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new HC),t.forEach(function(n){var i=rO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Mt=s.stateNode,Zr=!1;break e;case 3:Mt=s.stateNode.containerInfo,Zr=!0;break e;case 4:Mt=s.stateNode.containerInfo,Zr=!0;break e}s=s.return}if(Mt===null)throw Error(ee(160));nS(o,a,i),Mt=null,Zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(f){lt(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iS(t,e),t=t.sibling}function iS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vr(t,e),hn(e),n&4){try{Ys(3,e,e.return),xf(3,e)}catch(E){lt(e,e.return,E)}try{Ys(5,e,e.return)}catch(E){lt(e,e.return,E)}}break;case 1:Vr(t,e),hn(e),n&512&&r!==null&&va(r,r.return);break;case 5:if(Vr(t,e),hn(e),n&512&&r!==null&&va(r,r.return),e.flags&32){var i=e.stateNode;try{au(i,"")}catch(E){lt(e,e.return,E)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&k_(i,o),Gh(s,a);var f=Gh(s,o);for(a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?R_(i,p):d==="dangerouslySetInnerHTML"?x_(i,p):d==="children"?au(i,p):Sm(i,d,p,f)}switch(s){case"input":qh(i,o);break;case"textarea":C_(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?wa(i,!!o.multiple,w,!1):v!==!!o.multiple&&(o.defaultValue!=null?wa(i,!!o.multiple,o.defaultValue,!0):wa(i,!!o.multiple,o.multiple?[]:"",!1))}i[mu]=o}catch(E){lt(e,e.return,E)}}break;case 6:if(Vr(t,e),hn(e),n&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(E){lt(e,e.return,E)}}break;case 3:if(Vr(t,e),hn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cu(t.containerInfo)}catch(E){lt(e,e.return,E)}break;case 4:Vr(t,e),hn(e);break;case 13:Vr(t,e),hn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ev=vt())),n&4&&w0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(qt=(f=qt)||d,Vr(t,e),qt=f):Vr(t,e),hn(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!d&&e.mode&1)for(ge=e,d=e.child;d!==null;){for(p=ge=d;ge!==null;){switch(v=ge,w=v.child,v.tag){case 0:case 11:case 14:case 15:Ys(4,v,v.return);break;case 1:va(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){lt(n,r,E)}}break;case 5:va(v,v.return);break;case 22:if(v.memoizedState!==null){S0(p);continue}}w!==null?(w.return=v,ge=w):S0(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=T_("display",a))}catch(E){lt(e,e.return,E)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(E){lt(e,e.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vr(t,e),hn(e),n&4&&w0(e);break;case 21:break;default:Vr(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rS(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(au(i,""),n.flags&=-33);var o=g0(e);kp(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=g0(e);$p(e,s,a);break;default:throw Error(ee(161))}}catch(l){lt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YC(e,t,r){ge=e,oS(e)}function oS(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Wl;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||qt;s=Wl;var f=qt;if(Wl=a,(qt=l)&&!f)for(ge=i;ge!==null;)a=ge,l=a.child,a.tag===22&&a.memoizedState!==null?b0(i):l!==null?(l.return=a,ge=l):b0(i);for(;o!==null;)ge=o,oS(o),o=o.sibling;ge=i,Wl=s,qt=f}_0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):_0(e)}}function _0(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||xf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&i0(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}i0(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&cu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}qt||t.flags&512&&Pp(t)}catch(v){lt(t,t.return,v)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function S0(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function b0(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xf(4,t)}catch(l){lt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){lt(t,i,l)}}var o=t.return;try{Pp(t)}catch(l){lt(t,o,l)}break;case 5:var a=t.return;try{Pp(t)}catch(l){lt(t,a,l)}}}catch(l){lt(t,t.return,l)}if(t===e){ge=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ge=s;break}ge=t.return}}var XC=Math.ceil,Zc=Zn.ReactCurrentDispatcher,Zm=Zn.ReactCurrentOwner,Fr=Zn.ReactCurrentBatchConfig,Ke=0,Tt=null,wt=null,It=0,_r=0,ya=Fi(0),Et=0,Su=null,xo=0,Tf=0,Jm=0,Xs=null,sr=null,ev=0,Ba=1/0,Dn=null,Jc=!1,Cp=null,xi=null,Ul=!1,Si=null,ef=0,Gs=0,Op=null,wc=-1,_c=0;function Jt(){return Ke&6?vt():wc!==-1?wc:wc=vt()}function Ti(e){return e.mode&1?Ke&2&&It!==0?It&-It:DC.transition!==null?(_c===0&&(_c=W_()),_c):(e=qe,e!==0||(e=window.event,e=e===void 0?16:G_(e.type)),e):1}function nn(e,t,r,n){if(50<Gs)throw Gs=0,Op=null,Error(ee(185));Wu(e,r,n),(!(Ke&2)||e!==Tt)&&(e===Tt&&(!(Ke&2)&&(Tf|=r),Et===4&&vi(e,It)),dr(e,n),r===1&&Ke===0&&!(t.mode&1)&&(Ba=vt()+500,kf&&Bi()))}function dr(e,t){var r=e.callbackNode;Dk(e,t);var n=zc(e,e===Tt?It:0);if(n===0)r!==null&&Rg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rg(r),t===1)e.tag===0?RC(E0.bind(null,e)):m1(E0.bind(null,e)),CC(function(){!(Ke&6)&&Bi()}),r=null;else{switch(U_(n)){case 1:r=km;break;case 4:r=B_;break;case 16:r=Ic;break;case 536870912:r=K_;break;default:r=Ic}r=hS(r,aS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aS(e,t){if(wc=-1,_c=0,Ke&6)throw Error(ee(327));var r=e.callbackNode;if(Pa()&&e.callbackNode!==r)return null;var n=zc(e,e===Tt?It:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=tf(e,n);else{t=n;var i=Ke;Ke|=2;var o=uS();(Tt!==e||It!==t)&&(Dn=null,Ba=vt()+500,bo(e,t));do try{ZC();break}catch(s){sS(e,s)}while(1);Lm(),Zc.current=o,Ke=i,wt!==null?t=0:(Tt=null,It=0,t=Et)}if(t!==0){if(t===2&&(i=tp(e),i!==0&&(n=i,t=xp(e,i))),t===1)throw r=Su,bo(e,0),vi(e,n),dr(e,vt()),r;if(t===6)vi(e,n);else{if(i=e.current.alternate,!(n&30)&&!GC(i)&&(t=tf(e,n),t===2&&(o=tp(e),o!==0&&(n=o,t=xp(e,o))),t===1))throw r=Su,bo(e,0),vi(e,n),dr(e,vt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:lo(e,sr,Dn);break;case 3:if(vi(e,n),(n&130023424)===n&&(t=ev+500-vt(),10<t)){if(zc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Jt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lp(lo.bind(null,e,sr,Dn),t);break}lo(e,sr,Dn);break;case 4:if(vi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-rn(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XC(n/1960))-n,10<n){e.timeoutHandle=lp(lo.bind(null,e,sr,Dn),n);break}lo(e,sr,Dn);break;case 5:lo(e,sr,Dn);break;default:throw Error(ee(329))}}}return dr(e,vt()),e.callbackNode===r?aS.bind(null,e):null}function xp(e,t){var r=Xs;return e.current.memoizedState.isDehydrated&&(bo(e,t).flags|=256),e=tf(e,t),e!==2&&(t=sr,sr=r,t!==null&&Tp(t)),e}function Tp(e){sr===null?sr=e:sr.push.apply(sr,e)}function GC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!sn(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(e,t){for(t&=~Jm,t&=~Tf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rn(t),n=1<<r;e[r]=-1,t&=~n}}function E0(e){if(Ke&6)throw Error(ee(327));Pa();var t=zc(e,0);if(!(t&1))return dr(e,vt()),null;var r=tf(e,t);if(e.tag!==0&&r===2){var n=tp(e);n!==0&&(t=n,r=xp(e,n))}if(r===1)throw r=Su,bo(e,0),vi(e,t),dr(e,vt()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lo(e,sr,Dn),dr(e,vt()),null}function tv(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Ba=vt()+500,kf&&Bi())}}function To(e){Si!==null&&Si.tag===0&&!(Ke&6)&&Pa();var t=Ke;Ke|=1;var r=Fr.transition,n=qe;try{if(Fr.transition=null,qe=1,e)return e()}finally{qe=n,Fr.transition=r,Ke=t,!(Ke&6)&&Bi()}}function rv(){_r=ya.current,tt(ya)}function bo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kC(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(Im(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kc();break;case 3:La(),tt(cr),tt(Ht),qm();break;case 5:Um(n);break;case 4:La();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Fm(n.type._context);break;case 22:case 23:rv()}r=r.return}if(Tt=e,wt=e=Ri(e.current,null),It=_r=t,Et=0,Su=null,Jm=Tf=xo=0,sr=Xs=null,yo!==null){for(t=0;t<yo.length;t++)if(r=yo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}yo=null}return e}function sS(e,t){do{var r=wt;try{if(Lm(),vc.current=Qc,Gc){for(var n=st.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gc=!1}if(Oo=0,xt=St=st=null,Vs=!1,gu=0,Zm.current=null,r===null||r.return===null){Et=1,Su=t,wt=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=It,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=c0(a);if(w!==null){w.flags&=-257,f0(w,a,s,o,t),w.mode&1&&l0(o,f,t),t=w,l=f;var _=t.updateQueue;if(_===null){var E=new Set;E.add(l),t.updateQueue=E}else _.add(l);break e}else{if(!(t&1)){l0(o,f,t),nv();break e}l=Error(ee(426))}}else if(it&&s.mode&1){var $=c0(a);if($!==null){!($.flags&65536)&&($.flags|=256),f0($,a,s,o,t),zm(Fa(l,s));break e}}o=l=Fa(l,s),Et!==4&&(Et=2),Xs===null?Xs=[o]:Xs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=U1(o,l,t);n0(o,g);break e;case 1:s=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xi===null||!xi.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=q1(o,s,t);n0(o,O);break e}}o=o.return}while(o!==null)}cS(r)}catch(T){t=T,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(1)}function uS(){var e=Zc.current;return Zc.current=Qc,e===null?Qc:e}function nv(){(Et===0||Et===3||Et===2)&&(Et=4),Tt===null||!(xo&268435455)&&!(Tf&268435455)||vi(Tt,It)}function tf(e,t){var r=Ke;Ke|=2;var n=uS();(Tt!==e||It!==t)&&(Dn=null,bo(e,t));do try{QC();break}catch(i){sS(e,i)}while(1);if(Lm(),Ke=r,Zc.current=n,wt!==null)throw Error(ee(261));return Tt=null,It=0,Et}function QC(){for(;wt!==null;)lS(wt)}function ZC(){for(;wt!==null&&!Ek();)lS(wt)}function lS(e){var t=dS(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?cS(e):wt=t,Zm.current=null}function cS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qC(r,t),r!==null){r.flags&=32767,wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,wt=null;return}}else if(r=UC(r,t,_r),r!==null){wt=r;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);Et===0&&(Et=5)}function lo(e,t,r){var n=qe,i=Fr.transition;try{Fr.transition=null,qe=1,JC(e,t,r,n)}finally{Fr.transition=i,qe=n}return null}function JC(e,t,r,n){do Pa();while(Si!==null);if(Ke&6)throw Error(ee(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Nk(e,o),e===Tt&&(wt=Tt=null,It=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ul||(Ul=!0,hS(Ic,function(){return Pa(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Fr.transition,Fr.transition=null;var a=qe;qe=1;var s=Ke;Ke|=4,Zm.current=null,VC(e,r),iS(r,e),wC(sp),jc=!!ap,sp=ap=null,e.current=r,YC(r),Pk(),Ke=s,qe=a,Fr.transition=o}else e.current=r;if(Ul&&(Ul=!1,Si=e,ef=i),o=e.pendingLanes,o===0&&(xi=null),Ck(r.stateNode),dr(e,vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Jc)throw Jc=!1,e=Cp,Cp=null,e;return ef&1&&e.tag!==0&&Pa(),o=e.pendingLanes,o&1?e===Op?Gs++:(Gs=0,Op=e):Gs=0,Bi(),null}function Pa(){if(Si!==null){var e=U_(ef),t=Fr.transition,r=qe;try{if(Fr.transition=null,qe=16>e?16:e,Si===null)var n=!1;else{if(e=Si,Si=null,ef=0,Ke&6)throw Error(ee(331));var i=Ke;for(Ke|=4,ge=e.current;ge!==null;){var o=ge,a=o.child;if(ge.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var f=s[l];for(ge=f;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Ys(8,d,o)}var p=d.child;if(p!==null)p.return=d,ge=p;else for(;ge!==null;){d=ge;var v=d.sibling,w=d.return;if(tS(d),d===f){ge=null;break}if(v!==null){v.return=w,ge=v;break}ge=w}}}var _=o.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var $=E.sibling;E.sibling=null,E=$}while(E!==null)}}ge=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ge=a;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ys(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ge=g;break e}ge=o.return}}var y=e.current;for(ge=y;ge!==null;){a=ge;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ge=b;else e:for(a=y;ge!==null;){if(s=ge,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xf(9,s)}}catch(T){lt(s,s.return,T)}if(s===a){ge=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ge=O;break e}ge=s.return}}if(Ke=i,Bi(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Sf,e)}catch{}n=!0}return n}finally{qe=r,Fr.transition=t}}return!1}function P0(e,t,r){t=Fa(r,t),t=U1(e,t,1),e=Oi(e,t,1),t=Jt(),e!==null&&(Wu(e,1,t),dr(e,t))}function lt(e,t,r){if(e.tag===3)P0(e,e,r);else for(;t!==null;){if(t.tag===3){P0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xi===null||!xi.has(n))){e=Fa(r,e),e=q1(t,e,1),t=Oi(t,e,1),e=Jt(),t!==null&&(Wu(t,1,e),dr(t,e));break}}t=t.return}}function eO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(It&r)===r&&(Et===4||Et===3&&(It&130023424)===It&&500>vt()-ev?bo(e,0):Jm|=r),dr(e,t)}function fS(e,t){t===0&&(e.mode&1?(t=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):t=1);var r=Jt();e=Yn(e,t),e!==null&&(Wu(e,t,r),dr(e,r))}function tO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fS(e,r)}function rO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),fS(e,r)}var dS;dS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cr.current)lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lr=!1,WC(e,t,r);lr=!!(e.flags&131072)}else lr=!1,it&&t.flags&1048576&&v1(t,qc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gc(e,t),e=t.pendingProps;var i=Ia(t,Ht.current);Ea(t,r),i=Vm(null,t,n,e,i,r);var o=Ym();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fr(n)?(o=!0,Wc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Km(t),i.updater=Of,t.stateNode=i,i._reactInternals=t,vp(t,n,e,r),t=wp(null,t,n,!0,o,r)):(t.tag=0,it&&o&&Am(t),Qt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=iO(n),e=Qr(n,e),i){case 0:t=gp(null,t,n,e,r);break e;case 1:t=p0(null,t,n,e,r);break e;case 11:t=d0(null,t,n,e,r);break e;case 14:t=h0(null,t,n,Qr(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),gp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),p0(e,t,n,i,r);case 3:e:{if(X1(t),e===null)throw Error(ee(387));n=t.pendingProps,o=t.memoizedState,i=o.element,b1(e,t),Yc(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fa(Error(ee(423)),t),t=m0(e,t,n,r,i);break e}else if(n!==i){i=Fa(Error(ee(424)),t),t=m0(e,t,n,r,i);break e}else for(Sr=Ci(t.stateNode.containerInfo.firstChild),br=t,it=!0,Jr=null,r=_1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(za(),n===i){t=Xn(e,t,r);break e}Qt(e,t,n,r)}t=t.child}return t;case 5:return E1(t),e===null&&hp(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,up(n,i)?a=null:o!==null&&up(n,o)&&(t.flags|=32),Y1(e,t),Qt(e,t,a,r),t.child;case 6:return e===null&&hp(t),null;case 13:return G1(e,t,r);case 4:return Wm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ja(t,null,n,r):Qt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),d0(e,t,n,i,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Qe(Hc,n._currentValue),n._currentValue=a,o!==null)if(sn(o.value,a)){if(o.children===i.children&&!cr.current){t=Xn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Bn(-1,r&-r),l.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?l.next=l:(l.next=d.next,d.next=l),f.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),pp(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),pp(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Qt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ea(t,r),i=Br(i),n=n(i),t.flags|=1,Qt(e,t,n,r),t.child;case 14:return n=t.type,i=Qr(n,t.pendingProps),i=Qr(n.type,i),h0(e,t,n,i,r);case 15:return H1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),gc(e,t),t.tag=1,fr(n)?(e=!0,Wc(t)):e=!1,Ea(t,r),W1(t,n,i),vp(t,n,i,r),wp(null,t,n,!0,e,r);case 19:return Q1(e,t,r);case 22:return V1(e,t,r)}throw Error(ee(156,t.tag))};function hS(e,t){return F_(e,t)}function nO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new nO(e,t,r,n)}function iv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iO(e){if(typeof e=="function")return iv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Em)return 11;if(e===Pm)return 14}return 2}function Ri(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sc(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")iv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case sa:return Eo(r.children,i,o,t);case bm:a=8,i|=8;break;case Fh:return e=jr(12,r,t,i|2),e.elementType=Fh,e.lanes=o,e;case Bh:return e=jr(13,r,t,i),e.elementType=Bh,e.lanes=o,e;case Kh:return e=jr(19,r,t,i),e.elementType=Kh,e.lanes=o,e;case E_:return Rf(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S_:a=10;break e;case b_:a=9;break e;case Em:a=11;break e;case Pm:a=14;break e;case hi:a=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=jr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Eo(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function Rf(e,t,r,n){return e=jr(22,e,n,t),e.elementType=E_,e.lanes=r,e.stateNode={isHidden:!1},e}function ah(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function sh(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bd(0),this.expirationTimes=Bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ov(e,t,r,n,i,o,a,s,l){return e=new oO(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(o),e}function aO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pS(e){if(!e)return zi;e=e._reactInternals;e:{if(jo(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(fr(r))return p1(e,r,t)}return t}function mS(e,t,r,n,i,o,a,s,l){return e=ov(r,n,!0,e,i,o,a,s,l),e.context=pS(null),r=e.current,n=Jt(),i=Ti(r),o=Bn(n,i),o.callback=t??null,Oi(r,o,i),e.current.lanes=i,Wu(e,i,n),dr(e,n),e}function Df(e,t,r,n){var i=t.current,o=Jt(),a=Ti(i);return r=pS(r),t.context===null?t.context=r:t.pendingContext=r,t=Bn(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oi(i,t,a),e!==null&&(nn(e,i,a,o),mc(e,i,a)),a}function rf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function av(e,t){$0(e,t),(e=e.alternate)&&$0(e,t)}function sO(){return null}var vS=typeof reportError=="function"?reportError:function(e){console.error(e)};function sv(e){this._internalRoot=e}Nf.prototype.render=sv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Df(e,t,null,null)};Nf.prototype.unmount=sv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;To(function(){Df(null,e,null,null)}),t[Vn]=null}};function Nf(e){this._internalRoot=e}Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=V_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mi.length&&t!==0&&t<mi[r].priority;r++);mi.splice(r,0,e),r===0&&X_(e)}};function uv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k0(){}function uO(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var f=rf(a);o.call(f)}}var a=mS(t,n,e,0,null,!1,!1,"",k0);return e._reactRootContainer=a,e[Vn]=a.current,hu(e.nodeType===8?e.parentNode:e),To(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var f=rf(l);s.call(f)}}var l=ov(e,0,!1,null,null,!1,!1,"",k0);return e._reactRootContainer=l,e[Vn]=l.current,hu(e.nodeType===8?e.parentNode:e),To(function(){Df(t,l,r,n)}),l}function Af(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=rf(a);s.call(l)}}Df(t,a,e,i)}else a=uO(r,t,e,i,n);return rf(a)}q_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zs(t.pendingLanes);r!==0&&(Cm(t,r|1),dr(t,vt()),!(Ke&6)&&(Ba=vt()+500,Bi()))}break;case 13:To(function(){var n=Yn(e,1);if(n!==null){var i=Jt();nn(n,e,1,i)}}),av(e,1)}};Om=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var r=Jt();nn(t,e,134217728,r)}av(e,134217728)}};H_=function(e){if(e.tag===13){var t=Ti(e),r=Yn(e,t);if(r!==null){var n=Jt();nn(r,e,t,n)}av(e,t)}};V_=function(){return qe};Y_=function(e,t){var r=qe;try{return qe=e,t()}finally{qe=r}};Zh=function(e,t,r){switch(t){case"input":if(qh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$f(n);if(!i)throw Error(ee(90));$_(n),qh(n,i)}}}break;case"textarea":C_(e,r);break;case"select":t=r.value,t!=null&&wa(e,!!r.multiple,t,!1)}};M_=tv;A_=To;var lO={usingClientEntryPoint:!1,Events:[qu,fa,$f,D_,N_,tv]},xs={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cO={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j_(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||sO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Sf=ql.inject(cO),Sn=ql}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lO;kr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(t))throw Error(ee(200));return aO(e,t,null,r)};kr.createRoot=function(e,t){if(!uv(e))throw Error(ee(299));var r=!1,n="",i=vS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ov(e,1,!1,null,null,r,!1,n,i),e[Vn]=t.current,hu(e.nodeType===8?e.parentNode:e),new sv(t)};kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=j_(t),e=e===null?null:e.stateNode,e};kr.flushSync=function(e){return To(e)};kr.hydrate=function(e,t,r){if(!Mf(t))throw Error(ee(200));return Af(null,e,t,!0,r)};kr.hydrateRoot=function(e,t,r){if(!uv(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=vS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=mS(t,null,e,1,r??null,i,!1,o,a),e[Vn]=t.current,hu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Nf(t)};kr.render=function(e,t,r){if(!Mf(t))throw Error(ee(200));return Af(null,e,t,!1,r)};kr.unmountComponentAtNode=function(e){if(!Mf(e))throw Error(ee(40));return e._reactRootContainer?(To(function(){Af(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1};kr.unstable_batchedUpdates=tv;kr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Mf(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Af(e,t,r,!1,n)};kr.version="18.3.1-next-f1338f8080-20240426";function yS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yS)}catch(e){console.error(e)}}yS(),y_.exports=kr;var Vu=y_.exports,C0=Vu;jh.createRoot=C0.createRoot,jh.hydrateRoot=C0.hydrateRoot;var Lr=function(e,t){return Number(e.toFixed(t))},fO=function(e,t){return typeof e=="number"?e:t},nt=function(e,t,r){r&&typeof r=="function"&&r(e,t)},dO=function(e){return-Math.cos(e*Math.PI)/2+.5},hO=function(e){return e},pO=function(e){return e*e},mO=function(e){return e*(2-e)},vO=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},yO=function(e){return e*e*e},gO=function(e){return--e*e*e+1},wO=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},_O=function(e){return e*e*e*e},SO=function(e){return 1- --e*e*e*e},bO=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},EO=function(e){return e*e*e*e*e},PO=function(e){return 1+--e*e*e*e*e},$O=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},gS={easeOut:dO,linear:hO,easeInQuad:pO,easeOutQuad:mO,easeInOutQuad:vO,easeInCubic:yO,easeOutCubic:gO,easeInOutCubic:wO,easeInQuart:_O,easeOutQuart:SO,easeInOutQuart:bO,easeInQuint:EO,easeOutQuint:PO,easeInOutQuint:$O},wS=function(e){typeof e=="number"&&cancelAnimationFrame(e)},en=function(e){e.mounted&&(wS(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function _S(e,t,r,n){if(e.mounted){var i=new Date().getTime(),o=1;en(e),e.animation=function(){if(!e.mounted)return wS(e.animation);var a=new Date().getTime()-i,s=a/r,l=gS[t],f=l(s);a>=r?(n(o),e.animation=null):e.animation&&(n(f),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function kO(e){var t=e.scale,r=e.positionX,n=e.positionY;return!(Number.isNaN(t)||Number.isNaN(r)||Number.isNaN(n))}function Ki(e,t,r,n){var i=kO(t);if(!(!e.mounted||!i)){var o=e.setTransformState,a=e.transformState,s=a.scale,l=a.positionX,f=a.positionY,d=t.scale-s,p=t.positionX-l,v=t.positionY-f;r===0?o(t.scale,t.positionX,t.positionY):_S(e,n,r,function(w){var _=s+d*w,E=l+p*w,$=f+v*w;o(_,E,$)})}}function CO(e,t,r){var n=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,a=t.offsetHeight,s=o*r,l=a*r,f=n-s,d=i-l;return{wrapperWidth:n,wrapperHeight:i,newContentWidth:s,newDiffWidth:f,newContentHeight:l,newDiffHeight:d}}var OO=function(e,t,r,n,i,o,a){var s=e>t?r*(a?1:.5):0,l=n>i?o*(a?1:.5):0,f=e-t-s,d=s,p=n-i-l,v=l;return{minPositionX:f,maxPositionX:d,minPositionY:p,maxPositionY:v}},lv=function(e,t){var r=e.wrapperComponent,n=e.contentComponent,i=e.setup.centerZoomedOut;if(!r||!n)throw new Error("Components are not mounted");var o=CO(r,n,t),a=o.wrapperWidth,s=o.wrapperHeight,l=o.newContentWidth,f=o.newDiffWidth,d=o.newContentHeight,p=o.newDiffHeight,v=OO(a,l,f,s,d,p,!!i);return v},Rp=function(e,t,r,n){return n?e<t?Lr(t,2):e>r?Lr(r,2):Lr(e,2):Lr(e,2)},Po=function(e,t){var r=lv(e,t);return e.bounds=r,r};function Yu(e,t,r,n,i,o,a){var s=r.minPositionX,l=r.minPositionY,f=r.maxPositionX,d=r.maxPositionY,p=0,v=0;a&&(p=i,v=o);var w=Rp(e,s-p,f+p,n),_=Rp(t,l-v,d+v,n);return{x:w,y:_}}function If(e,t,r,n,i,o){var a=e.transformState,s=a.scale,l=a.positionX,f=a.positionY,d=n-s;if(typeof t!="number"||typeof r!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:f};var p=l-t*d,v=f-r*d,w=Yu(p,v,i,o,0,0,null);return w}function Xu(e,t,r,n,i){var o=i?n:0,a=t-o;return!Number.isNaN(r)&&e>=r?r:!Number.isNaN(t)&&e<=a?a:e}var O0=function(e,t){var r=e.setup.panning.excluded,n=e.isInitialized,i=e.wrapperComponent,o=t.target,a="shadowRoot"in o&&"composedPath"in t,s=a?t.composedPath().some(function(d){return d instanceof Element?i==null?void 0:i.contains(d):!1}):i==null?void 0:i.contains(o),l=n&&o&&s;if(!l)return!1;var f=zf(o,r);return!f},x0=function(e){var t=e.isInitialized,r=e.isPanning,n=e.setup,i=n.panning.disabled,o=t&&r&&!i;return!!o},xO=function(e,t){var r=e.transformState,n=r.positionX,i=r.positionY;e.isPanning=!0;var o=t.clientX,a=t.clientY;e.startCoords={x:o-n,y:a-i}},TO=function(e,t){var r=t.touches,n=e.transformState,i=n.positionX,o=n.positionY;e.isPanning=!0;var a=r.length===1;if(a){var s=r[0].clientX,l=r[0].clientY;e.startCoords={x:s-i,y:l-o}}};function RO(e){var t=e.transformState,r=t.positionX,n=t.positionY,i=t.scale,o=e.setup,a=o.disabled,s=o.limitToBounds,l=o.centerZoomedOut,f=e.wrapperComponent;if(!(a||!f||!e.bounds)){var d=e.bounds,p=d.maxPositionX,v=d.minPositionX,w=d.maxPositionY,_=d.minPositionY,E=r>p||r<v,$=n>w||n<_,g=r>p?f.offsetWidth:e.setup.minPositionX||0,y=n>w?f.offsetHeight:e.setup.minPositionY||0,b=If(e,g,y,i,e.bounds,s||l),O=b.x,T=b.y;return{scale:i,positionX:E?O:r,positionY:$?T:n}}}function SS(e,t,r,n,i){var o=e.setup.limitToBounds,a=e.wrapperComponent,s=e.bounds,l=e.transformState,f=l.scale,d=l.positionX,p=l.positionY;if(!(a===null||s===null||t===d&&r===p)){var v=Yu(t,r,s,o,n,i,a),w=v.x,_=v.y;e.setTransformState(f,w,_)}}var DO=function(e,t,r){var n=e.startCoords,i=e.transformState,o=e.setup.panning,a=o.lockAxisX,s=o.lockAxisY,l=i.positionX,f=i.positionY;if(!n)return{x:l,y:f};var d=t-n.x,p=r-n.y,v=a?l:d,w=s?f:p;return{x:v,y:w}},ji=function(e,t){var r=e.setup,n=e.transformState,i=n.scale,o=r.minScale,a=r.disablePadding;return t>0&&i>=o&&!a?t:0},NO=function(e){var t=e.mounted,r=e.setup,n=r.disabled,i=r.velocityAnimation,o=e.transformState.scale,a=i.disabled,s=!a||o>1||!n||t;return!!s},MO=function(e){var t=e.mounted,r=e.velocity,n=e.bounds,i=e.setup,o=i.disabled,a=i.velocityAnimation,s=e.transformState.scale,l=a.disabled,f=!l||s>1||!o||t;return!(!f||!r||!n)};function AO(e,t){var r=e.setup.velocityAnimation,n=r.equalToMove,i=r.animationTime,o=r.sensitivity;return n?i*t*o:i}function T0(e,t,r,n,i,o,a,s,l,f){if(i){if(t>a&&r>a){var d=a+(e-a)*f;return d>l?l:d<a?a:d}if(t<o&&r<o){var d=o+(e-o)*f;return d<s?s:d>o?o:d}}return n?t:Rp(e,o,a,i)}function IO(e,t){var r=1;return t?Math.min(r,e.offsetWidth/window.innerWidth):r}function zO(e,t){var r=NO(e);if(r){var n=e.lastMousePosition,i=e.velocityTime,o=e.setup,a=e.wrapperComponent,s=o.velocityAnimation.equalToMove,l=Date.now();if(n&&i&&a){var f=IO(a,s),d=t.x-n.x,p=t.y-n.y,v=d/f,w=p/f,_=l-i,E=d*d+p*p,$=Math.sqrt(E)/_;e.velocity={velocityX:v,velocityY:w,total:$}}e.lastMousePosition=t,e.velocityTime=l}}function jO(e){var t=e.velocity,r=e.bounds,n=e.setup,i=e.wrapperComponent,o=MO(e);if(!(!o||!t||!r||!i)){var a=t.velocityX,s=t.velocityY,l=t.total,f=r.maxPositionX,d=r.minPositionX,p=r.maxPositionY,v=r.minPositionY,w=n.limitToBounds,_=n.alignmentAnimation,E=n.zoomAnimation,$=n.panning,g=$.lockAxisY,y=$.lockAxisX,b=E.animationType,O=_.sizeX,T=_.sizeY,B=_.velocityAlignmentTime,F=B,Q=AO(e,l),de=Math.max(Q,F),se=ji(e,O),te=ji(e,T),ie=se*i.offsetWidth/100,we=te*i.offsetHeight/100,Se=f+ie,Re=d-ie,Fe=p+we,Ue=v-we,J=e.transformState,pe=new Date().getTime();_S(e,b,de,function(H){var I=e.transformState,G=I.scale,K=I.positionX,k=I.positionY,D=new Date().getTime()-pe,X=D/F,ve=gS[_.animationType],_e=1-ve(Math.min(1,X)),oe=1-H,Ie=K+a*oe,Xe=k+s*oe,ze=T0(Ie,J.positionX,K,y,w,d,f,Re,Se,_e),qr=T0(Xe,J.positionY,k,g,w,v,p,Ue,Fe,_e);(K!==Ie||k!==Xe)&&e.setTransformState(G,ze,qr)})}}function R0(e,t){var r=e.transformState.scale;en(e),Po(e,r),window.TouchEvent!==void 0&&t instanceof TouchEvent?TO(e,t):xO(e,t)}function cv(e,t){var r=e.transformState.scale,n=e.setup,i=n.minScale,o=n.alignmentAnimation,a=o.disabled,s=o.sizeX,l=o.sizeY,f=o.animationTime,d=o.animationType,p=a||r<i||!s&&!l;if(!p){var v=RO(e);v&&Ki(e,v,t??f,d)}}function D0(e,t,r){var n=e.startCoords,i=e.setup,o=i.alignmentAnimation,a=o.sizeX,s=o.sizeY;if(n){var l=DO(e,t,r),f=l.x,d=l.y,p=ji(e,a),v=ji(e,s);zO(e,{x:f,y:d}),SS(e,f,d,p,v)}}function LO(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,r=e.velocity,n=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=n==null?void 0:n.getBoundingClientRect(),a=i==null?void 0:i.getBoundingClientRect(),s=(o==null?void 0:o.width)||0,l=(o==null?void 0:o.height)||0,f=(a==null?void 0:a.width)||0,d=(a==null?void 0:a.height)||0,p=s<f||l<d,v=!t&&r&&(r==null?void 0:r.total)>.1&&p;v?jO(e):cv(e)}}function fv(e,t,r,n){var i=e.setup,o=i.minScale,a=i.maxScale,s=i.limitToBounds,l=Xu(Lr(t,2),o,a,0,!1),f=Po(e,l),d=If(e,r,n,l,f,s),p=d.x,v=d.y;return{scale:l,positionX:p,positionY:v}}function bS(e,t,r){var n=e.transformState.scale,i=e.wrapperComponent,o=e.setup,a=o.minScale,s=o.limitToBounds,l=o.zoomAnimation,f=l.disabled,d=l.animationTime,p=l.animationType,v=f||n>=a;if((n>=1||s)&&cv(e),!(v||!i||!e.mounted)){var w=t||i.offsetWidth/2,_=r||i.offsetHeight/2,E=fv(e,a,w,_);E&&Ki(e,E,d,p)}}var Di=function(){return Di=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Di.apply(this,arguments)};function N0(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Hl={previousScale:1,scale:1,positionX:0,positionY:0},Ts={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Dp={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},ES=function(e){var t,r,n,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Hl.scale,scale:(r=e.initialScale)!==null&&r!==void 0?r:Hl.scale,positionX:(n=e.initialPositionX)!==null&&n!==void 0?n:Hl.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Hl.positionY}},M0=function(e){var t=Di({},Ts);return Object.keys(e).forEach(function(r){var n=typeof e[r]<"u",i=typeof Ts[r]<"u";if(i&&n){var o=Object.prototype.toString.call(Ts[r]),a=o==="[object Object]",s=o==="[object Array]";a?t[r]=Di(Di({},Ts[r]),e[r]):s?t[r]=N0(N0([],Ts[r],!0),e[r],!0):t[r]=e[r]}}),t},PS=function(e,t,r){var n=e.transformState.scale,i=e.wrapperComponent,o=e.setup,a=o.maxScale,s=o.minScale,l=o.zoomAnimation,f=o.smooth,d=l.size;if(!i)throw new Error("Wrapper is not mounted");var p=f?n*Math.exp(t*r):n+t*r,v=Xu(Lr(p,3),s,a,d,!1);return v};function $S(e,t,r,n,i){var o=e.wrapperComponent,a=e.transformState,s=a.scale,l=a.positionX,f=a.positionY;if(!o)return console.error("No WrapperComponent found");var d=o.offsetWidth,p=o.offsetHeight,v=(d/2-l)/s,w=(p/2-f)/s,_=PS(e,t,r),E=fv(e,_,v,w);if(!E)return console.error("Error during zoom event. New transformation state was not calculated.");Ki(e,E,n,i)}function kS(e,t,r,n){var i=e.setup,o=e.wrapperComponent,a=i.limitToBounds,s=ES(e.props),l=e.transformState,f=l.scale,d=l.positionX,p=l.positionY;if(o){var v=lv(e,s.scale),w=Yu(s.positionX,s.positionY,v,a,0,0,o),_={scale:s.scale,positionX:w.x,positionY:w.y};f===s.scale&&d===s.positionX&&p===s.positionY||(n==null||n(),Ki(e,_,t,r))}}function FO(e,t,r,n){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=r.getBoundingClientRect(),s=o.x*n.scale,l=o.y*n.scale;return{x:(i.x-a.x+s)/n.scale,y:(i.y-a.y+l)/n.scale}}function BO(e,t,r){var n=e.wrapperComponent,i=e.contentComponent,o=e.transformState,a=e.setup,s=a.limitToBounds,l=a.minScale,f=a.maxScale;if(!n||!i)return o;var d=n.getBoundingClientRect(),p=t.getBoundingClientRect(),v=FO(t,n,i,o),w=v.x,_=v.y,E=p.width/o.scale,$=p.height/o.scale,g=n.offsetWidth/E,y=n.offsetHeight/$,b=Xu(r||Math.min(g,y),l,f,0,!1),O=(d.width-E*b)/2,T=(d.height-$*b)/2,B=(d.left-w)*b+O,F=(d.top-_)*b+T,Q=lv(e,b),de=Yu(B,F,Q,s,0,0,n),se=de.x,te=de.y;return{positionX:se,positionY:te,scale:b}}var KO=function(e){return function(t,r,n){t===void 0&&(t=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),$S(e,1,t,r,n)}},WO=function(e){return function(t,r,n){t===void 0&&(t=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),$S(e,-1,t,r,n)}},UO=function(e){return function(t,r,n,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var a=e.transformState,s=a.positionX,l=a.positionY,f=a.scale,d=e.wrapperComponent,p=e.contentComponent,v=e.setup.disabled;if(!(v||!d||!p)){var w={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(r)?l:r,scale:Number.isNaN(n)?f:n};Ki(e,w,i,o)}}},qO=function(e){return function(t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut"),kS(e,t,r)}},HO=function(e){return function(t,r,n){r===void 0&&(r=200),n===void 0&&(n="easeOut");var i=e.transformState,o=e.wrapperComponent,a=e.contentComponent;if(o&&a){var s=CS(t||i.scale,o,a);Ki(e,s,r,n)}}},VO=function(e){return function(t,r,n,i){n===void 0&&(n=600),i===void 0&&(i="easeOut"),en(e);var o=e.wrapperComponent,a=typeof t=="string"?document.getElementById(t):t;if(o&&a&&o.contains(a)){var s=BO(e,a,r);Ki(e,s,n,i)}}},Np=function(e){return{instance:e,zoomIn:KO(e),zoomOut:WO(e),setTransform:UO(e),resetTransform:qO(e),centerView:HO(e),zoomToElement:VO(e)}},YO=function(e){return{instance:e,state:e.transformState}},Ge=function(e){var t={};return Object.assign(t,YO(e)),Object.assign(t,Np(e)),t},uh=!1;function lh(){try{var e={get passive(){return uh=!0,!1}};return e}catch{return uh=!1,uh}}var Vl=".".concat(Dp.wrapperClass),zf=function(e,t){return t.some(function(r){return e.matches("".concat(Vl," ").concat(r,", ").concat(Vl," .").concat(r,", ").concat(Vl," ").concat(r," *, ").concat(Vl," .").concat(r," *"))})},Mp=function(e){e&&clearTimeout(e)},XO=function(e,t,r){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(r,")")},CS=function(e,t,r){var n=r.offsetWidth*e,i=r.offsetHeight*e,o=(t.offsetWidth-n)/2,a=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:a}};function GO(e){return function(t){e.forEach(function(r){typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var QO=function(e,t){var r=e.setup.wheel,n=r.disabled,i=r.wheelDisabled,o=r.touchPadDisabled,a=r.excluded,s=e.isInitialized,l=e.isPanning,f=t.target,d=s&&!l&&!n&&f;if(!d||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var p=zf(f,a);return!p},ZO=function(e){return e?e.deltaY<0?1:-1:0};function JO(e,t){var r=ZO(e),n=fO(t,r);return n}function OS(e,t,r){var n=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-n.left)/r,o=(e.clientY-n.top)/r;else{var a=e.touches[0];i=(a.clientX-n.left)/r,o=(a.clientY-n.top)/r}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var ex=function(e,t,r,n,i){var o=e.transformState.scale,a=e.wrapperComponent,s=e.setup,l=s.maxScale,f=s.minScale,d=s.zoomAnimation,p=s.disablePadding,v=d.size,w=d.disabled;if(!a)throw new Error("Wrapper is not mounted");var _=o+t*r;if(i)return _;var E=n?!1:!w,$=Xu(Lr(_,3),f,l,v,E&&!p);return $},tx=function(e,t){var r=e.previousWheelEvent,n=e.transformState.scale,i=e.setup,o=i.maxScale,a=i.minScale;return r?n<o||n>a||Math.sign(r.deltaY)!==Math.sign(t.deltaY)||r.deltaY>0&&r.deltaY<t.deltaY||r.deltaY<0&&r.deltaY>t.deltaY||Math.sign(r.deltaY)!==Math.sign(t.deltaY):!1},rx=function(e,t){var r=e.setup.pinch,n=r.disabled,i=r.excluded,o=e.isInitialized,a=t.target,s=o&&!n&&a;if(!s)return!1;var l=zf(a,i);return!l},nx=function(e){var t=e.setup.pinch.disabled,r=e.isInitialized,n=e.pinchStartDistance,i=r&&!t&&n;return!!i},ix=function(e,t,r){var n=r.getBoundingClientRect(),i=e.touches,o=Lr(i[0].clientX-n.left,5),a=Lr(i[0].clientY-n.top,5),s=Lr(i[1].clientX-n.left,5),l=Lr(i[1].clientY-n.top,5);return{x:(o+s)/2/t,y:(a+l)/2/t}},xS=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},ox=function(e,t){var r=e.pinchStartScale,n=e.pinchStartDistance,i=e.setup,o=i.maxScale,a=i.minScale,s=i.zoomAnimation,l=i.disablePadding,f=s.size,d=s.disabled;if(!r||n===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var p=t/n,v=p*r;return Xu(Lr(v,2),a,o,f,!d&&!l)},ax=160,sx=100,ux=function(e,t){var r=e.props,n=r.onWheelStart,i=r.onZoomStart;e.wheelStopEventTimer||(en(e),nt(Ge(e),t,n),nt(Ge(e),t,i))},lx=function(e,t){var r=e.props,n=r.onWheel,i=r.onZoom,o=e.contentComponent,a=e.setup,s=e.transformState,l=s.scale,f=a.limitToBounds,d=a.centerZoomedOut,p=a.zoomAnimation,v=a.wheel,w=a.disablePadding,_=a.smooth,E=p.size,$=p.disabled,g=v.step,y=v.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var b=JO(t,null),O=_?y*Math.abs(t.deltaY):g,T=ex(e,b,O,!t.ctrlKey);if(l!==T){var B=Po(e,T),F=OS(t,o,l),Q=$||E===0||d||w,de=f&&Q,se=If(e,F.x,F.y,T,B,de),te=se.x,ie=se.y;e.previousWheelEvent=t,e.setTransformState(T,te,ie),nt(Ge(e),t,n),nt(Ge(e),t,i)}},cx=function(e,t){var r=e.props,n=r.onWheelStop,i=r.onZoomStop;Mp(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(bS(e,t.x,t.y),e.wheelAnimationTimer=null)},sx);var o=tx(e,t);o&&(Mp(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,nt(Ge(e),t,n),nt(Ge(e),t,i))},ax))},TS=function(e){for(var t=0,r=0,n=0;n<2;n+=1)t+=e.touches[n].clientX,r+=e.touches[n].clientY;var i=t/2,o=r/2;return{x:i,y:o}},fx=function(e,t){var r=xS(t);e.pinchStartDistance=r,e.lastDistance=r,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var n=TS(t);e.pinchLastCenterX=n.x,e.pinchLastCenterY=n.y,en(e)},dx=function(e,t){var r=e.contentComponent,n=e.pinchStartDistance,i=e.wrapperComponent,o=e.transformState.scale,a=e.setup,s=a.limitToBounds,l=a.centerZoomedOut,f=a.zoomAnimation,d=a.alignmentAnimation,p=f.disabled,v=f.size;if(!(n===null||!r)){var w=ix(t,o,r);if(!(!Number.isFinite(w.x)||!Number.isFinite(w.y))){var _=xS(t),E=ox(e,_),$=TS(t),g=$.x-(e.pinchLastCenterX||0),y=$.y-(e.pinchLastCenterY||0);if(!(E===o&&g===0&&y===0)){e.pinchLastCenterX=$.x,e.pinchLastCenterY=$.y;var b=Po(e,E),O=p||v===0||l,T=s&&O,B=If(e,w.x,w.y,E,b,T),F=B.x,Q=B.y;e.pinchMidpoint=w,e.lastDistance=_;var de=d.sizeX,se=d.sizeY,te=ji(e,de),ie=ji(e,se),we=F+g,Se=Q+y,Re=Yu(we,Se,b,s,te,ie,i),Fe=Re.x,Ue=Re.y;e.setTransformState(E,Fe,Ue)}}}},hx=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,bS(e,t==null?void 0:t.x,t==null?void 0:t.y)},RS=function(e,t){var r=e.props.onZoomStop,n=e.setup.doubleClick.animationTime;Mp(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,nt(Ge(e),t,r)},n)},px=function(e,t){var r=e.props,n=r.onZoomStart,i=r.onZoom,o=e.setup.doubleClick,a=o.animationTime,s=o.animationType;nt(Ge(e),t,n),kS(e,a,s,function(){return nt(Ge(e),t,i)}),RS(e,t)};function mx(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function vx(e,t){var r=e.setup,n=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,a=i.scale,s=e.props,l=s.onZoomStart,f=s.onZoom,d=r.doubleClick,p=d.disabled,v=d.mode,w=d.step,_=d.animationTime,E=d.animationType;if(!p&&!n){if(v==="reset")return px(e,t);if(!o)return console.error("No ContentComponent found");var $=mx(v,e.transformState.scale),g=PS(e,$,w);if(a!==g){nt(Ge(e),t,l);var y=OS(t,o,a),b=fv(e,g,y.x,y.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");nt(Ge(e),t,f),Ki(e,b,_,E),RS(e,t)}}}var yx=function(e,t){var r=e.isInitialized,n=e.setup,i=e.wrapperComponent,o=n.doubleClick,a=o.disabled,s=o.excluded,l=t.target,f=i==null?void 0:i.contains(l),d=r&&l&&f&&!a;if(!d)return!1;var p=zf(l,s);return!p},gx=function(){function e(t){var r=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){r.initializeWindowEvents()},this.unmount=function(){r.cleanupWindowEvents()},this.update=function(n){r.props=n,Po(r,r.transformState.scale),r.setup=M0(n)},this.initializeWindowEvents=function(){var n,i,o=lh(),a=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=a==null?void 0:a.defaultView;(i=r.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",r.onWheelPanning,o),s==null||s.addEventListener("mousedown",r.onPanningStart,o),s==null||s.addEventListener("mousemove",r.onPanning,o),s==null||s.addEventListener("mouseup",r.onPanningStop,o),a==null||a.addEventListener("mouseleave",r.clearPanning,o),s==null||s.addEventListener("keyup",r.setKeyUnPressed,o),s==null||s.addEventListener("keydown",r.setKeyPressed,o)},this.cleanupWindowEvents=function(){var n,i,o=lh(),a=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=a==null?void 0:a.defaultView;s==null||s.removeEventListener("mousedown",r.onPanningStart,o),s==null||s.removeEventListener("mousemove",r.onPanning,o),s==null||s.removeEventListener("mouseup",r.onPanningStop,o),a==null||a.removeEventListener("mouseleave",r.clearPanning,o),s==null||s.removeEventListener("keyup",r.setKeyUnPressed,o),s==null||s.removeEventListener("keydown",r.setKeyPressed,o),document.removeEventListener("mouseleave",r.clearPanning,o),en(r),(i=r.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(n){var i=lh();n.addEventListener("wheel",r.onWheelZoom,i),n.addEventListener("dblclick",r.onDoubleClick,i),n.addEventListener("touchstart",r.onTouchPanningStart,i),n.addEventListener("touchmove",r.onTouchPanning,i),n.addEventListener("touchend",r.onTouchPanningStop,i)},this.handleInitialize=function(n,i){var o=!1,a=r.setup.centerOnInit,s=function(l,f){for(var d=0,p=l;d<p.length;d++){var v=p[d];if(v.target===f)return!0}return!1};r.applyTransformation(),r.onInitCallbacks.forEach(function(l){l(Ge(r))}),r.observer=new ResizeObserver(function(l){if(s(l,n)||s(l,i))if(a&&!o){var f=i.offsetWidth,d=i.offsetHeight;(f>0||d>0)&&(o=!0,r.setCenter())}else en(r),Po(r,r.transformState.scale),cv(r,0)}),r.observer.observe(n),r.observer.observe(i)},this.onWheelZoom=function(n){var i=r.setup.disabled;if(!i){var o=QO(r,n);if(o){var a=r.isPressingKeys(r.setup.wheel.activationKeys);a&&(ux(r,n),lx(r,n),cx(r,n))}}},this.onWheelPanning=function(n){var i=r.setup,o=i.disabled,a=i.wheel,s=i.panning;if(!(!r.wrapperComponent||!r.contentComponent||o||!a.wheelDisabled||s.disabled||!s.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var l=r.transformState,f=l.positionX,d=l.positionY,p=f-n.deltaX,v=d-n.deltaY,w=s.lockAxisX?f:p,_=s.lockAxisY?d:v,E=r.setup.alignmentAnimation,$=E.sizeX,g=E.sizeY,y=ji(r,$),b=ji(r,g);w===f&&_===d||SS(r,w,_,y,b)}},this.onPanningStart=function(n){var i=r.setup.disabled,o=r.props.onPanningStart;if(!i){var a=O0(r,n);if(a){var s=r.isPressingKeys(r.setup.panning.activationKeys);s&&(n.button===0&&!r.setup.panning.allowLeftClickPan||n.button===1&&!r.setup.panning.allowMiddleClickPan||n.button===2&&!r.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),en(r),R0(r,n),nt(Ge(r),n,o)))}}},this.onPanning=function(n){var i=r.setup.disabled,o=r.props.onPanning;if(!i){var a=x0(r);if(a){var s=r.isPressingKeys(r.setup.panning.activationKeys);s&&(n.preventDefault(),n.stopPropagation(),D0(r,n.clientX,n.clientY),nt(Ge(r),n,o))}}},this.onPanningStop=function(n){var i=r.props.onPanningStop;r.isPanning&&(LO(r),nt(Ge(r),n,i))},this.onPinchStart=function(n){var i=r.setup.disabled,o=r.props,a=o.onPinchingStart,s=o.onZoomStart;if(!i){var l=rx(r,n);l&&(fx(r,n),en(r),nt(Ge(r),n,a),nt(Ge(r),n,s))}},this.onPinch=function(n){var i=r.setup.disabled,o=r.props,a=o.onPinching,s=o.onZoom;if(!i){var l=nx(r);l&&(n.preventDefault(),n.stopPropagation(),dx(r,n),nt(Ge(r),n,a),nt(Ge(r),n,s))}},this.onPinchStop=function(n){var i=r.props,o=i.onPinchingStop,a=i.onZoomStop;r.pinchStartScale&&(hx(r),nt(Ge(r),n,o),nt(Ge(r),n,a))},this.onTouchPanningStart=function(n){var i=r.setup.disabled,o=r.props.onPanningStart;if(!i){var a=O0(r,n);if(a){var s=r.lastTouch&&+new Date-r.lastTouch<200&&n.touches.length===1;if(!s){r.lastTouch=+new Date,en(r);var l=n.touches,f=l.length===1,d=l.length===2;f&&(en(r),R0(r,n),nt(Ge(r),n,o)),d&&r.onPinchStart(n)}}}},this.onTouchPanning=function(n){var i=r.setup.disabled,o=r.props.onPanning;if(r.isPanning&&n.touches.length===1){if(i)return;var a=x0(r);if(!a)return;n.preventDefault(),n.stopPropagation();var s=n.touches[0];D0(r,s.clientX,s.clientY),nt(Ge(r),n,o)}else n.touches.length>1&&r.onPinch(n)},this.onTouchPanningStop=function(n){r.onPanningStop(n),r.onPinchStop(n)},this.onDoubleClick=function(n){var i=r.setup.disabled;if(!i){var o=yx(r,n);o&&vx(r,n)}},this.clearPanning=function(n){r.isPanning&&r.onPanningStop(n)},this.setKeyPressed=function(n){r.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){r.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(i){return r.pressedKeys[i]}):!0},this.setTransformState=function(n,i,o){var a=r.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(i)&&!Number.isNaN(o)){n!==r.transformState.scale&&(r.transformState.previousScale=r.transformState.scale,r.transformState.scale=n),r.transformState.positionX=i,r.transformState.positionY=o,r.applyTransformation();var s=Ge(r);r.onChangeCallbacks.forEach(function(l){return l(s)}),nt(s,{scale:n,positionX:i,positionY:o},a)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(r.wrapperComponent&&r.contentComponent){var n=CS(r.transformState.scale,r.wrapperComponent,r.contentComponent);r.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,i,o){return r.props.customTransform?r.props.customTransform(n,i,o):XO(n,i,o)},this.applyTransformation=function(){if(!(!r.mounted||!r.contentComponent)){var n=r.transformState,i=n.scale,o=n.positionX,a=n.positionY,s=r.handleTransformStyles(o,a,i);r.contentComponent.style.transform=s}},this.getContext=function(){return Ge(r)},this.onChange=function(n){return r.onChangeCallbacks.has(n)||r.onChangeCallbacks.add(n),function(){r.onChangeCallbacks.delete(n)}},this.onInit=function(n){return r.onInitCallbacks.has(n)||r.onInitCallbacks.add(n),function(){r.onInitCallbacks.delete(n)}},this.init=function(n,i){r.cleanupWindowEvents(),r.wrapperComponent=n,r.contentComponent=i,Po(r,r.transformState.scale),r.handleInitializeWrapperEvents(n),r.handleInitialize(n,i),r.initializeWindowEvents(),r.isInitialized=!0;var o=Ge(r);nt(o,void 0,r.props.onInit)},this.props=t,this.setup=M0(this.props),this.transformState=ES(this.props)}return e}(),dv=Ai.createContext(null),wx=function(e,t){return typeof e=="function"?e(t):e},_x=Ai.forwardRef(function(e,t){var r=De.useRef(new gx(e)).current,n=wx(e.children,Np(r));return De.useImperativeHandle(t,function(){return Np(r)},[r]),De.useEffect(function(){r.update(e)},[r,e]),Ai.createElement(dv.Provider,{value:r},n)});Ai.forwardRef(function(e,t){var r=De.useRef(null),n=De.useContext(dv);return De.useEffect(function(){return n.onChange(function(i){if(r.current){var o=0,a=0;r.current.style.transform=n.handleTransformStyles(o,a,1/i.instance.transformState.scale)}})},[n]),Ai.createElement("div",Di({},e,{ref:GO([r,t])}))});function Sx(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var bx=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,A0={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Sx(bx);var Ex=function(e){var t=e.children,r=e.wrapperClass,n=r===void 0?"":r,i=e.contentClass,o=i===void 0?"":i,a=e.wrapperStyle,s=e.contentStyle,l=e.wrapperProps,f=l===void 0?{}:l,d=e.contentProps,p=d===void 0?{}:d,v=De.useContext(dv),w=v.init,_=v.cleanupWindowEvents,E=De.useRef(null),$=De.useRef(null);return De.useEffect(function(){var g=E.current,y=$.current;return g!==null&&y!==null&&w&&(w==null||w(g,y)),function(){_==null||_()}},[]),Ai.createElement("div",Di({},f,{ref:E,className:"".concat(Dp.wrapperClass," ").concat(A0.wrapper," ").concat(n),style:a}),Ai.createElement("div",Di({},p,{ref:$,className:"".concat(Dp.contentClass," ").concat(A0.content," ").concat(o),style:s}),t))};function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function Px(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $x(e){var t=Px(e,"string");return bu(t)=="symbol"?t:t+""}function I0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$x(n.key),n)}}function Wi(e,t,r){return t&&I0(e.prototype,t),r&&I0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hv(e){return Array.isArray(e)?e.slice(0):[e]}function nf(e){return Array.isArray(e)}function ch(e,t){var r=0,n=-1;for(var i of e){n=n+1;var o=t(i,n);if(o)r=r+1;else break}return r}function Eu(e,t){var r=t.length;if(r!==0){var n=e.length;e.length=n+t.length;for(var i=0;i<r;++i)e[n+i]=t[i]}}function kx(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function Pu(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(n==="-")return parseInt(t,10);t+=n}throw new Error("malformatted revision: "+e)}function Ap(e,t){var r=t?Pu(t._rev)+1:1;return r+"-"+e}function Cx(e){var t=e.split("."),r=t.length;return r===1?n=>n[e]:n=>{for(var i=n,o=0;o<r;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function Vt(e){return Object.assign({},e)}function Ox(e){return Object.keys(e)[0]}function of(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((n,i)=>typeof n=="string"&&typeof i=="string"?n.localeCompare(i):typeof n=="object"?1:-1).map(n=>of(n,t));if(typeof e=="object"&&!Array.isArray(e)){var r={};return Object.keys(e).sort((n,i)=>n.localeCompare(i)).forEach(n=>{r[n]=of(e[n],t)}),r}return e}function Ip(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),r=t.length;r--;)t[r]=Ip(e[r]);return t}var n={};for(var i in e)n[i]=Ip(e[i]);return n}var Ka=Ip;function Kn(e,t,r){return Object.defineProperty(e,t,{get:function(){return r}}),r}var DS=1;function pv(){return{lwt:DS}}function mv(){return""}function xx(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Tx(e,t,r){if(t.length!==r.length)return!1;for(var n=0,i=t.length;n<i;){var o=t[n],a=r[n];if(n++,o[e]!==a[e]||o._rev!==a._rev||o._meta.lwt!==a._meta.lwt)return!1}return!0}function $u(e,t){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$u(e,t)}function NS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$u(e,t)}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zp(e)}function Rx(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function MS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MS=function(){return!!e})()}function Dx(e,t,r){if(MS())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&$u(i,r.prototype),i}function af(e){var t=typeof Map=="function"?new Map:void 0;return af=function(n){if(n===null||!Rx(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Dx(n,arguments,zp(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),$u(i,n)},af(e)}var Rt={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return`
        RxDB Error-Code: `+e+`.
        Hint: Error messages are not included in RxDB core to reduce build size.
        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,
        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error
        `}};function Nx(e){var t="";return Object.keys(e).length===0||(t+="-".repeat(20)+`
`,t+=`Parameters:
`,t+=Object.keys(e).map(r=>{var n="[object Object]";try{r==="errors"?n=e[r].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):n=JSON.stringify(e[r],function(i,o){return o===void 0?null:o},2)}catch{}return r+": "+n}).join(`
`),t+=`
`),t}function AS(e,t,r){return`
`+e+`
`+Nx(r)}var Mx=function(e){function t(n,i,o={}){var a,s=AS(i,n,o);return a=e.call(this,s)||this,a.code=n,a.message=s,a.url=vv(n),a.parameters=o,a.rxdb=!0,a}NS(t,e);var r=t.prototype;return r.toString=function(){return this.message},Wi(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(af(Error)),Ax=function(e){function t(n,i,o={}){var a,s=AS(i,n,o);return a=e.call(this,s)||this,a.code=n,a.message=s,a.url=vv(n),a.parameters=o,a.rxdb=!0,a}NS(t,e);var r=t.prototype;return r.toString=function(){return this.message},Wi(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(af(TypeError));function vv(e){return"https://rxdb.info/errors.html?console=errors#"+e}function IS(e){return`
Find out more about this error here: `+vv(e)+` 
`}function $e(e,t){return new Mx(e,Rt.tunnelErrorMessage(e)+IS(e),t)}function jp(e,t){return new Ax(e,Rt.tunnelErrorMessage(e)+IS(e),t)}function zS(e){return e&&e.status===409?e:!1}var Ix={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function jS(e){return $e("COL20",{name:Ix[e.status],document:e.documentId,writeError:e})}var Yl;function zx(){var e;if(Yl)return Yl;if(typeof crypto>"u"||typeof crypto.subtle>"u"||typeof crypto.subtle.digest!="function")throw $e("UT8",{args:{typeof_crypto:typeof crypto,typeof_crypto_subtle:typeof(crypto==null?void 0:crypto.subtle),typeof_crypto_subtle_digest:typeof((e=crypto==null?void 0:crypto.subtle)==null?void 0:e.digest)}});return Yl=crypto.subtle.digest.bind(crypto.subtle),Yl}async function jx(e){var t=new TextEncoder().encode(e),r=await zx()("SHA-256",t),n=Array.prototype.map.call(new Uint8Array(r),i=>("00"+i.toString(16)).slice(-2)).join("");return n}var LS=jx;function Lx(){return new Promise(e=>setTimeout(e,0))}function Fx(e=0){return new Promise(t=>setTimeout(t,e))}Promise.resolve(!0);var Wa=Promise.resolve(!1),Bx=Promise.resolve(null),bc=Promise.resolve();function jf(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):Fx(0)}var fh=bc;function Kx(e=void 0){return fh=fh.then(()=>jf(e)),fh}function Wx(e){typeof requestIdleCallback=="function"&&requestIdleCallback(()=>{e()})}function Ux(e,t){return e.reduce((r,n)=>r.then(n),Promise.resolve(t))}var qx=/\./g,z0="abcdefghijklmnopqrstuvwxyz";function Lf(e=10){for(var t="",r=0;r<e;r++)t+=z0.charAt(Math.floor(Math.random()*z0.length));return t}function FS(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function Ls(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function sf(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n;if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sf(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!sf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var Lp=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},dh=new Set(["__proto__","prototype","constructor"]),Hx=new Set("0123456789");function BS(e){var t=[],r="",n="start",i=!1;for(var o of e)switch(o){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(r+=o),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,r+=o;break}if(dh.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,r+=o;break}if(n==="property"){if(dh.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!Hx.has(o))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,r+="\\"),r+=o}}switch(i&&(r+="\\"),n){case"property":{if(dh.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function KS(e,t){if(typeof t!="number"&&Array.isArray(e)){var r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function Vx(e,t){if(KS(e,t))throw new Error("Cannot use string index")}function es(e,t,r){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!Lp(e)||typeof t!="string")return r===void 0?e:r;var n=BS(t);if(n.length===0)return r;for(var i=0;i<n.length;i++){var o=n[i];if(KS(e,o)?e=i===n.length-1?void 0:null:e=e[o],e==null){if(i!==n.length-1)return r;break}}return e===void 0?r:e}function WS(e,t,r){if(Array.isArray(t)&&(t=t.join(".")),!Lp(e)||typeof t!="string")return e;for(var n=e,i=BS(t),o=0;o<i.length;o++){var a=i[o];Vx(e,a),o===i.length-1?e[a]=r:Lp(e[a])||(e[a]=typeof i[o+1]=="number"?[]:{}),e=e[a]}return n}function uf(e,t){var r=e.get(t);if(typeof r>"u")throw new Error("missing value from map "+t);return r}function un(e,t,r,n){var i=e.get(t);return typeof i>"u"?(i=r(),e.set(t,i)):n&&n(i),i}function He(e){var t=e.split("-"),r="RxDB";return t.forEach(n=>{r+=FS(n)}),r+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+r+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+r+`);
        `)}var hh=0;function Ui(){var e=Date.now();e=e+.01,e<=hh&&(e=hh+.01);var t=parseFloat(e.toFixed(2));return hh=t,t}function at(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var US={bufferSize:1,refCount:!0},qS="16.20.0",ph={},Yx="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93",j0=16,mh=Wa,L0=!1;async function HS(){return L0||(L0=!0,mh=(async()=>!!(ph.premium&&typeof ph.premium=="string"&&await LS(ph.premium)===Yx))()),mh}var ku={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postCloseRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],prePrepareRxQuery:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preCloseRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function hr(e,t){ku[e].length>0&&ku[e].forEach(r=>r(t))}async function Gu(e,t){for(var r of ku[e])await r(t)}function Cu(e,t){var r=t;r=r.replace(qx,".properties."),r="properties."+r,r=Ls(r);var n=es(e,r);return n}function Xx(e,t,r){if(typeof t.primaryKey=="string")return r;var n=yv(t,r),i=r[e];if(i&&i!==n)throw $e("DOC19",{args:{documentData:r,existingPrimary:i,newPrimary:n},schema:t});return r[e]=n,r}function qi(e){return typeof e=="string"?e:e.key}function yv(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var r=e.primaryKey;return r.fields.map(n=>{var i=es(t,n);if(typeof i>"u")throw $e("DOC18",{args:{field:n,documentData:t}});return i}).join(r.separator)}function Gx(e){var t=of(e,!0);return t}function Qx(e){return["_deleted",e]}function VS(e){e=Vt(e);var t=qi(e.primaryKey);e.properties=Vt(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Jx,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var r=YS(e);Eu(e.required,r),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,s)=>s.indexOf(o)===a),e.version=e.version||0;var n=e.indexes.map(o=>{var a=nf(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});n.length===0&&n.push(Qx(t)),n.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map(o=>{n.push(o)});var i=new Set;return n.filter(o=>{var a=o.join(",");return i.has(a)?!1:(i.add(a),!0)}),e.indexes=n,e}var Zx=1e15,Jx={type:"object",properties:{lwt:{type:"number",minimum:DS,maximum:Zx,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function YS(e){var t=Object.keys(e.properties).filter(n=>e.properties[n].final),r=qi(e.primaryKey);return t.push(r),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(n=>t.push(n)),t}function eT(e,t){for(var r=Object.keys(e.defaultValues),n=0;n<r.length;++n){var i=r[n];(!Object.prototype.hasOwnProperty.call(t,i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var XS=function(){function e(r,n){if(this.jsonSchema=r,this.hashFunction=n,this.indexes=tT(this.jsonSchema),this.primaryPath=qi(this.jsonSchema.primaryKey),!r.properties[this.primaryPath].maxLength)throw $e("SC39",{schema:r});this.finalFields=YS(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(n,i){this.finalFields.forEach(o=>{if(!sf(n[o],i[o]))throw $e("DOC9",{dataBefore:n,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var n={},i=Cu(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var a=o;n.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var s=this.get(a);return s}}),Object.defineProperty(n,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),Kn(this,"getDocumentPrototype",()=>n),n},t.getPrimaryOfDocumentData=function(n){return yv(this.jsonSchema,n)},Wi(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var r={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,i])=>r[n]=i.default),Kn(this,"defaultValues",r)}},{key:"hash",get:function(){return Kn(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function tT(e){return(e.indexes||[]).map(t=>nf(t)?t:[t])}function rT(e,t,r=!0){r&&hr("preCreateRxSchema",e);var n=VS(e);n=Gx(n),Rt.deepFreezeWhenDevMode(n);var i=new XS(n,t);return hr("createRxSchema",i),i}function Pt(e){return typeof e=="function"}function nT(e){return Pt(e==null?void 0:e.lift)}function Jn(e){return function(t){if(nT(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var Fp=function(e,t){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fp(e,t)};function Lo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function iT(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{f(n.next(d))}catch(p){a(p)}}function l(d){try{f(n.throw(d))}catch(p){a(p)}}function f(d){d.done?o(d.value):i(d.value).then(s,l)}f((n=n.apply(e,t||[])).next())})}function GS(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(d){return l([f,d])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ua(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ro(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Do(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function $a(e){return this instanceof $a?(this.v=e,this):new $a(e)}function oT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(w){return function(_){return Promise.resolve(_).then(w,p)}}function s(w,_){n[w]&&(i[w]=function(E){return new Promise(function($,g){o.push([w,E,$,g])>1||l(w,E)})},_&&(i[w]=_(i[w])))}function l(w,_){try{f(n[w](_))}catch(E){v(o[0][3],E)}}function f(w){w.value instanceof $a?Promise.resolve(w.value.v).then(d,p):v(o[0][2],w)}function d(w){l("next",w)}function p(w){l("throw",w)}function v(w,_){w(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function aT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ua=="function"?Ua(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(f){o({value:f,done:s})},a)}}var QS=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function ZS(e){return Pt(e==null?void 0:e.then)}function JS(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var vh=JS(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Bp(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Ff=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ua(a),l=s.next();!l.done;l=s.next()){var f=l.value;f.remove(this)}}catch(E){t={error:E}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var d=this.initialTeardown;if(Pt(d))try{d()}catch(E){o=E instanceof vh?E.errors:[E]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var v=Ua(p),w=v.next();!w.done;w=v.next()){var _=w.value;try{F0(_)}catch(E){o=o??[],E instanceof vh?o=Do(Do([],Ro(o)),Ro(E.errors)):o.push(E)}}}catch(E){n={error:E}}finally{try{w&&!w.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new vh(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)F0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Bp(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Bp(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),eb=Ff.EMPTY;function tb(e){return e instanceof Ff||e&&"closed"in e&&Pt(e.remove)&&Pt(e.add)&&Pt(e.unsubscribe)}function F0(e){Pt(e)?e():e.unsubscribe()}var rb={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kp={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Kp.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Do([e,t],Ro(r))):setTimeout.apply(void 0,Do([e,t],Ro(r)))},clearTimeout:function(e){var t=Kp.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nb(e){Kp.setTimeout(function(){throw e})}function B0(){}function Ec(e){e()}var gv=function(e){Lo(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,tb(r)&&r.add(n)):n.destination=cT,n}return t.create=function(r,n,i){return new Ou(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ff),sT=Function.prototype.bind;function yh(e,t){return sT.call(e,t)}var uT=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Xl(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Xl(n)}else Xl(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Xl(r)}},e}(),Ou=function(e){Lo(t,e);function t(r,n,i){var o=e.call(this)||this,a;if(Pt(r)||!r)a={next:r??void 0,error:n??void 0,complete:i??void 0};else{var s;o&&rb.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()},a={next:r.next&&yh(r.next,s),error:r.error&&yh(r.error,s),complete:r.complete&&yh(r.complete,s)}):a=r}return o.destination=new uT(a),o}return t}(gv);function Xl(e){nb(e)}function lT(e){throw e}var cT={closed:!0,next:B0,error:lT,complete:B0},wv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function _v(e){return e}function fT(e){return e.length===0?_v:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var Wr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=hT(t)?t:new Ou(t,r,n);return Ec(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=K0(r),new r(function(i,o){var a=new Ou({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[wv]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fT(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=K0(t),new t(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function K0(e){var t;return(t=e??rb.Promise)!==null&&t!==void 0?t:Promise}function dT(e){return e&&Pt(e.next)&&Pt(e.error)&&Pt(e.complete)}function hT(e){return e&&e instanceof gv||dT(e)&&tb(e)}function ib(e){return Pt(e[wv])}function ob(e){return Symbol.asyncIterator&&Pt(e==null?void 0:e[Symbol.asyncIterator])}function ab(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function pT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sb=pT();function ub(e){return Pt(e==null?void 0:e[sb])}function lb(e){return oT(this,arguments,function(){var r,n,i,o;return GS(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,$a(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,$a(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,$a(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function cb(e){return Pt(e==null?void 0:e.getReader)}function Hi(e){if(e instanceof Wr)return e;if(e!=null){if(ib(e))return mT(e);if(QS(e))return vT(e);if(ZS(e))return yT(e);if(ob(e))return fb(e);if(ub(e))return gT(e);if(cb(e))return wT(e)}throw ab(e)}function mT(e){return new Wr(function(t){var r=e[wv]();if(Pt(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vT(e){return new Wr(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function yT(e){return new Wr(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,nb)})}function gT(e){return new Wr(function(t){var r,n;try{for(var i=Ua(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function fb(e){return new Wr(function(t){_T(e,t).catch(function(r){return t.error(r)})})}function wT(e){return fb(lb(e))}function _T(e,t){var r,n,i,o;return iT(this,void 0,void 0,function(){var a,s;return GS(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=aT(e),l.label=1;case 1:return[4,r.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function qa(e,t,r,n,i){return new ST(e,t,r,n,i)}var ST=function(e){Lo(t,e);function t(r,n,i,o,a,s){var l=e.call(this,r)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=n?function(f){try{n(f)}catch(d){r.error(d)}}:e.prototype._next,l._error=o?function(f){try{o(f)}catch(d){r.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(gv),db={now:function(){return(db.delegate||Date).now()},delegate:void 0};function bT(e){return e&&Pt(e.schedule)}function hb(e){return e[e.length-1]}function Bf(e){return bT(hb(e))?e.pop():void 0}function pb(e,t){return typeof hb(e)=="number"?e.pop():t}function Ni(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function mb(e,t){return t===void 0&&(t=0),Jn(function(r,n){r.subscribe(qa(n,function(i){return Ni(n,e,function(){return n.next(i)},t)},function(){return Ni(n,e,function(){return n.complete()},t)},function(i){return Ni(n,e,function(){return n.error(i)},t)}))})}function vb(e,t){return t===void 0&&(t=0),Jn(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function ET(e,t){return Hi(e).pipe(vb(t),mb(t))}function PT(e,t){return Hi(e).pipe(vb(t),mb(t))}function $T(e,t){return new Wr(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function kT(e,t){return new Wr(function(r){var n;return Ni(r,t,function(){n=e[sb](),Ni(r,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return Pt(n==null?void 0:n.return)&&n.return()}})}function yb(e,t){if(!e)throw new Error("Iterable cannot be null");return new Wr(function(r){Ni(r,t,function(){var n=e[Symbol.asyncIterator]();Ni(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function CT(e,t){return yb(lb(e),t)}function OT(e,t){if(e!=null){if(ib(e))return ET(e,t);if(QS(e))return $T(e,t);if(ZS(e))return PT(e,t);if(ob(e))return yb(e,t);if(ub(e))return kT(e,t);if(cb(e))return CT(e,t)}throw ab(e)}function Sv(e,t){return t?OT(e,t):Hi(e)}function yn(e,t){return Jn(function(r,n){var i=0;r.subscribe(qa(n,function(o){n.next(e.call(t,o,i++))}))})}function xT(e,t,r,n,i,o,a,s){var l=[],f=0,d=0,p=!1,v=function(){p&&!l.length&&!f&&t.complete()},w=function(E){return f<n?_(E):l.push(E)},_=function(E){o&&t.next(E),f++;var $=!1;Hi(r(E,d++)).subscribe(qa(t,function(g){i==null||i(g),o?w(g):t.next(g)},function(){$=!0},void 0,function(){if($)try{f--;for(var g=function(){var y=l.shift();a?Ni(t,a,function(){return _(y)}):_(y)};l.length&&f<n;)g();v()}catch(y){t.error(y)}}))};return e.subscribe(qa(t,w,function(){p=!0,v()})),function(){s==null||s()}}function Qu(e,t,r){return r===void 0&&(r=1/0),Pt(t)?Qu(function(n,i){return yn(function(o,a){return t(n,o,i,a)})(Hi(e(n,i)))},r):(typeof t=="number"&&(r=t),Jn(function(n,i){return xT(n,i,e,r)}))}function bv(e){return e===void 0&&(e=1/0),Qu(_v,e)}function TT(){return bv(1)}var RT=JS(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fo=function(e){Lo(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new W0(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new RT},t.prototype.next=function(r){var n=this;Ec(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=Ua(n.currentObservers),s=a.next();!s.done;s=a.next()){var l=s.value;l.next(r)}}catch(f){i={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Ec(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Ec(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?eb:(this.currentObservers=null,s.push(r),new Ff(function(){n.currentObservers=null,Bp(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},t.prototype.asObservable=function(){var r=new Wr;return r.source=this,r},t.create=function(r,n){return new W0(r,n)},t}(Wr),W0=function(e){Lo(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:eb},t}(Fo);function U0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TT()(Sv(e,Bf(e)))}var DT=new Wr(function(e){return e.complete()});function Wp(e,t){return t===void 0&&(t=_v),e=e??NT,Jn(function(r,n){var i,o=!0;r.subscribe(qa(n,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,n.next(a))}))})}function NT(e,t){return e===t}function Ar(e,t){return Jn(function(r,n){var i=0;r.subscribe(qa(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}function MT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Bf(e),n=pb(e,1/0);return Jn(function(i,o){bv(n)(Sv(Do([i],Ro(e)),r)).subscribe(o)})}function AT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return MT.apply(void 0,Do([],Ro(e)))}var IT=function(e){Lo(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Fo),zT=function(e){Lo(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=db);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,l=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),l=0;l<s.length&&!r.closed;l+=o?1:2)r.next(s[l]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var l=i.now(),f=0,d=1;d<o.length&&o[d]<=l;d+=2)f=d;f&&o.splice(0,f+1)}},t}(Fo);function jT(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Fo}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(f){var d,p,v,w=0,_=!1,E=!1,$=function(){p==null||p.unsubscribe(),p=void 0},g=function(){$(),d=v=void 0,_=E=!1},y=function(){var b=d;g(),b==null||b.unsubscribe()};return Jn(function(b,O){w++,!E&&!_&&$();var T=v=v??r();O.add(function(){w--,w===0&&!E&&!_&&(p=gh(y,l))}),T.subscribe(O),!d&&w>0&&(d=new Ou({next:function(B){return T.next(B)},error:function(B){E=!0,$(),p=gh(g,i,B),T.error(B)},complete:function(){_=!0,$(),p=gh(g,a),T.complete()}}),Hi(b).subscribe(d))})(f)}}function gh(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new Ou({next:function(){i.unsubscribe(),e()}});return Hi(t.apply(void 0,Do([],Ro(r)))).subscribe(i)}}function gb(e,t,r){var n,i,o,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,r=e.scheduler):a=e??1/0,jT({connector:function(){return new zT(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function wb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Bf(e);return Jn(function(n,i){(r?U0(e,n,r):U0(e,n)).subscribe(i)})}function LT(e){return e.documentData?e.documentData:e.previousDocumentData}function FT(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Rt.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}var BT=new Map;function _b(e){return un(BT,e,()=>{for(var t=new Array(e.events.length),r=e.events,n=e.collectionName,i=e.isLocal,o=Rt.deepFreezeWhenDevMode,a=0;a<r.length;a++){var s=r[a];t[a]={documentId:s.documentId,collectionName:n,isLocal:i,operation:s.operation,documentData:o(s.documentData),previousDocumentData:o(s.previousDocumentData)}}return t})}function KT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Bf(e),n=pb(e,1/0),i=e;return i.length?i.length===1?Hi(i[0]):bv(n)(Sv(i,r)):DT}var ka=String.fromCharCode(65535),Ca=Number.MIN_SAFE_INTEGER;function WT(e,t){var r=t.selector,n=e.indexes?e.indexes.slice(0):[];t.index&&(n=[t.index]);var i=!!t.sort.find(d=>Object.values(d)[0]==="desc"),o=new Set;Object.keys(r).forEach(d=>{var p=Cu(e,d);p&&p.type==="boolean"&&Object.prototype.hasOwnProperty.call(r[d],"$eq")&&o.add(d)});var a=t.sort.map(d=>Object.keys(d)[0]),s=a.filter(d=>!o.has(d)).join(","),l=-1,f;if(n.forEach(d=>{var p=!0,v=!0,w=d.map(y=>{var b=r[y],O=b?Object.keys(b):[],T={};if(!b||!O.length){var B=v?Ca:ka;T={startKey:B,endKey:p?ka:Ca,inclusiveStart:!0,inclusiveEnd:!0}}else O.forEach(F=>{if(Ev.has(F)){var Q=b[F],de=VT(F,Q);T=Object.assign(T,de)}});return typeof T.startKey>"u"&&(T.startKey=Ca),typeof T.endKey>"u"&&(T.endKey=ka),typeof T.inclusiveStart>"u"&&(T.inclusiveStart=!0),typeof T.inclusiveEnd>"u"&&(T.inclusiveEnd=!0),v&&!T.inclusiveStart&&(v=!1),p&&!T.inclusiveEnd&&(p=!1),T}),_=w.map(y=>y.startKey),E=w.map(y=>y.endKey),$={index:d,startKeys:_,endKeys:E,inclusiveEnd:p,inclusiveStart:v,sortSatisfiedByIndex:!i&&s===d.filter(y=>!o.has(y)).join(","),selectorSatisfiedByIndex:HT(d,t.selector,_,E)},g=YT(e,t,$);(g>=l||t.index)&&(l=g,f=$)}),!f)throw $e("SNH",{query:t});return f}var Ev=new Set(["$eq","$gt","$gte","$lt","$lte"]),UT=new Set(["$eq","$gt","$gte"]),qT=new Set(["$eq","$lt","$lte"]);function HT(e,t,r,n){var i=Object.entries(t),o=i.find(([F,Q])=>{if(!e.includes(F))return!0;var de=Object.entries(Q).find(([se,te])=>!Ev.has(se));return de});if(o||t.$and||t.$or)return!1;var a=[],s=new Set;for(var[l,f]of Object.entries(t)){if(!e.includes(l))return!1;var d=Object.keys(f).filter(F=>UT.has(F));if(d.length>1)return!1;var p=d[0];if(p&&s.add(l),p!=="$eq"){if(a.length>0)return!1;a.push(p)}}var v=[],w=new Set;for(var[_,E]of Object.entries(t)){if(!e.includes(_))return!1;var $=Object.keys(E).filter(F=>qT.has(F));if($.length>1)return!1;var g=$[0];if(g&&w.add(_),g!=="$eq"){if(v.length>0)return!1;v.push(g)}}var y=0;for(var b of e){for(var O of[s,w]){if(!O.has(b)&&O.size>0)return!1;O.delete(b)}var T=r[y],B=n[y];if(T!==B&&s.size>0&&w.size>0)return!1;y++}return!0}function VT(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function YT(e,t,r){var n=0,i=d=>{d>0&&(n=n+d)},o=10,a=ch(r.startKeys,d=>d!==Ca&&d!==ka);i(a*o);var s=ch(r.startKeys,d=>d!==ka&&d!==Ca);i(s*o);var l=ch(r.startKeys,(d,p)=>d===r.endKeys[p]);i(l*o*1.5);var f=r.sortSatisfiedByIndex?5:0;return i(f),n}class Zu extends Error{}const xu=Symbol("missing"),Sb=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ju=e=>{const t=Pc(e);let r=0,n=t.length;for(;n;)r=(r<<5)-r^t.charCodeAt(--n);return r>>>0},bi=e=>typeof e!="object"&&typeof e!="function"||e===null,bb=e=>bi(e)||Ha(e)||Wn(e),Eb={undefined:1,null:2,number:3,string:4,symbol:5,object:6,array:7,arraybuffer:8,boolean:9,date:10,regexp:11,function:12},Ur=(e,t)=>{e===xu&&(e=void 0),t===xu&&(t=void 0);const[r,n]=[e,t].map(i=>Eb[Ru(i)]||0);return r!==n?r-n:on(e,t)?0:e<t?-1:e>t?1:0};var zu,Mn,wo;const Ly=class Ly extends Map{constructor(){super();ht(this,zu,Ju);ht(this,Mn,new Map);ht(this,wo,r=>{const n=fe(this,zu).call(this,r);return[(fe(this,Mn).get(n)||[]).find(i=>on(i,r)),n]})}static init(r){const n=new Ly;return r&&pt(n,zu,r),n}clear(){super.clear(),fe(this,Mn).clear()}delete(r){if(bi(r))return super.delete(r);const[n,i]=fe(this,wo).call(this,r);return super.delete(n)?(fe(this,Mn).set(i,fe(this,Mn).get(i).filter(o=>!on(o,n))),!0):!1}get(r){if(bi(r))return super.get(r);const[n,i]=fe(this,wo).call(this,r);return super.get(n)}has(r){if(bi(r))return super.has(r);const[n,i]=fe(this,wo).call(this,r);return super.has(n)}set(r,n){if(bi(r))return super.set(r,n);const[i,o]=fe(this,wo).call(this,r);if(super.has(i))super.set(i,n);else{super.set(r,n);const a=fe(this,Mn).get(o)||[];a.push(r),fe(this,Mn).set(o,a)}return this}get size(){return super.size}};zu=new WeakMap,Mn=new WeakMap,wo=new WeakMap;let Tu=Ly;function Ve(e,t){if(!e)throw new Zu(t)}const XT=Object.keys(Eb).reduce((e,t)=>(e["[object "+t[0].toUpperCase()+t.substring(1)+"]"]=t,e),{});function Ru(e){var r,n;const t=Object.prototype.toString.call(e);return t==="[object Object]"?((n=(r=e==null?void 0:e.constructor)==null?void 0:r.name)==null?void 0:n.toLowerCase())||"object":XT[t]||t.substring(8,t.length-1).toLowerCase()}const Oa=e=>typeof e=="boolean",ln=e=>typeof e=="string",GT=e=>typeof e=="symbol",Ot=e=>!isNaN(e)&&typeof e=="number",je=Array.isArray;function yt(e){if(!e)return!1;const t=Object.getPrototypeOf(e);return(t===Object.prototype||t===null)&&Ru(e)==="object"}const Pb=e=>!bi(e),Ha=e=>e instanceof Date,Wn=e=>e instanceof RegExp,Kf=e=>typeof e=="function",$r=e=>e==null,Va=(e,t=!0)=>!!e||t&&e==="",Pv=e=>$r(e)||ln(e)&&!e||je(e)&&e.length===0||yt(e)&&Object.keys(e).length===0,ts=e=>je(e)?e:[e],cn=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),QT=e=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e),Ya=(e,t)=>{if($r(e)||Oa(e)||Ot(e)||ln(e))return e;if(Ha(e))return new Date(e);if(Wn(e))return new RegExp(e);if(QT(e)){const r=e.constructor;return new r(e)}if(t instanceof Set||(t=new Set),t.has(e))throw Sb;t.add(e);try{if(je(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Ya(e[n],t);return r}if(yt(e)){const r={};for(const n of Object.keys(e))r[n]=Ya(e[n],t);return r}}finally{t.delete(e)}return e},q0=e=>e===xu;function Up(e,t){if(q0(e)||$r(e))return t;if(q0(t)||$r(t))return e;if(bi(e)||bi(t))return t;je(e)&&je(t)&&Ve(e.length===t.length,"arrays must be of equal length to merge.");for(const r of Object.keys(t))e[r]=Up(e[r],t[r]);return e}function $b(e,t=Ju){const r=[Tu.init(t),Tu.init(t)];if(e.length===0)return[];if(e.some(n=>n.length===0))return[];if(e.length===1)return[...e];e[e.length-1].forEach(n=>r[0].set(n,!0));for(let n=e.length-2;n>-1;n--){if(e[n].forEach(i=>{r[0].has(i)&&r[1].set(i,!0)}),r[1].size===0)return[];r.reverse(),r[1].clear()}return Array.from(r[0].keys())}function kb(e,t=1){const r=new Array;function n(i,o){for(let a=0,s=i.length;a<s;a++)je(i[a])&&(o>0||o<0)?n(i[a],Math.max(-1,o-1)):r.push(i[a])}return n(e,t),r}function ZT(e){const t={};for(;e;){for(const r of Object.getOwnPropertyNames(e))r in t||(t[r]=e[r]);e=Object.getPrototypeOf(e)}return t}function Cb(e){for(;e;){if(Object.getOwnPropertyNames(e).includes("toString"))return e.toString!==Object.prototype.toString;e=Object.getPrototypeOf(e)}return!1}function on(e,t){if(e===t||Object.is(e,t))return!0;if(e===null||t===null||typeof e!=typeof t||typeof e!="object"||e.constructor!==t.constructor)return!1;if(e instanceof Date)return+e==+t;if(e instanceof RegExp)return e.toString()===t.toString();const r=e.constructor;if(r===Array||r===Object){const n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(let o=0,a=n[o];o<n.length;a=n[++o])if(a!==i[o]||!on(e[a],t[a]))return!1;return!0}return Cb(e)&&e.toString()===t.toString()}function JT(e,t=Ju){const r=Tu.init(t);return e.forEach(n=>r.set(n,!0)),Array.from(r.keys())}const Pc=(e,t)=>{if(e===null)return"null";if(e===void 0)return"undefined";if(ln(e)||Ot(e)||Oa(e))return JSON.stringify(e);if(Ha(e))return e.toISOString();if(Wn(e)||GT(e)||Kf(e))return e.toString();if(t instanceof Set||(t=new Set),t.has(e))throw Sb;try{if(t.add(e),je(e))return"["+e.map(n=>Pc(n,t)).join(",")+"]";if(yt(e))return"{"+Object.keys(e).sort().map(i=>`${i}:${Pc(e[i],t)}`).join()+"}";const r=Cb(e)?e.toString():Pc(ZT(e),t);return Ru(e)+"("+r+")"}finally{t.delete(e)}};function eR(e,t){return $r(e)?null:(t=t||Ju,t(e))}function tR(e,t,r=Ju){if(e.length<1)return new Map;const n=new Map,i=new Map;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o),l=eR(s,r);if(l===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{const f=n.has(l)?n.get(l).find(d=>on(d,s)):null;$r(f)?(i.set(s,[a]),n.has(l)?n.get(l).push(s):n.set(l,[s])):i.get(f).push(a)}}return i}function qp(e,t){return Pb(e)?e[t]:void 0}function rR(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function En(e,t,r){let n=0;function i(a,s){let l=a;for(let f=0;f<s.length;f++){const d=s[f];if(/^\d+$/.exec(d)===null&&je(l)){if(f===0&&n>0)break;n+=1;const v=s.slice(f);l=l.reduce((w,_)=>{const E=i(_,v);return E!==void 0&&w.push(E),w},[]);break}else l=qp(l,d);if(l===void 0)break}return l}const o=bb(e)?e:i(e,t.split("."));return je(o)&&(r!=null&&r.unwrapArray)?rR(o,n):o}function Qs(e,t,r){const n=t.indexOf("."),i=n==-1?t:t.substring(0,n),o=t.substring(n+1),a=n!=-1;if(je(e)){const f=/^\d+$/.test(i),d=f&&(r!=null&&r.preserveIndex)?[...e]:[];if(f){const p=parseInt(i);let v=qp(e,p);a&&(v=Qs(v,o,r)),r!=null&&r.preserveIndex?d[p]=v:d.push(v)}else for(const p of e){const v=Qs(p,t,r);r!=null&&r.preserveMissing?d.push(v??xu):(v!=null||r!=null&&r.preserveIndex)&&d.push(v)}return d}const s=r!=null&&r.preserveKeys?{...e}:{};let l=qp(e,i);if(a&&(l=Qs(l,o,r)),l!==void 0)return s[i]=l,s}function Hp(e){if(je(e))for(let t=e.length-1;t>=0;t--)e[t]===xu?e.splice(t,1):Hp(e[t]);else if(yt(e))for(const t in e)cn(e,t)&&Hp(e[t])}const H0=/^\d+$/;function Du(e,t,r,n){const i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(yt(e)||je(e)&&H0.test(o))&&r(e,o);else{n!=null&&n.buildGraph&&$r(e[o])&&(e[o]={});const s=e[o];if(!s)return;const l=!!(i.length>1&&H0.test(i[1]));je(s)&&(n!=null&&n.descendArray)&&!l?s.forEach(f=>Du(f,a,r,n)):Du(s,a,r,n)}}function nR(e,t,r){Du(e,t,(n,i)=>{n[i]=Kf(r)?r(n[i]):r},{buildGraph:!0})}function V0(e,t,r){Du(e,t,(n,i)=>{if(je(n)){if(/^\d+$/.test(i))n.splice(parseInt(i),1);else if(r&&r.descendArray)for(const o of n)yt(o)&&delete o[i]}else yt(n)&&delete n[i]},r)}const iR=/^\$[a-zA-Z0-9_]+$/;function Vi(e){return iR.test(e)}function Ob(e){if(bb(e))return Wn(e)?{$regex:e}:{$eq:e};if(Pb(e)){if(!Object.keys(e).some(Vi))return{$eq:e};if(cn(e,"$regex")){const t={...e};return t.$regex=new RegExp(e.$regex,e.$options),delete t.$options,t}}return e}var Vp=(e=>(e[e.CLONE_OFF=0]="CLONE_OFF",e[e.CLONE_INPUT=1]="CLONE_INPUT",e[e.CLONE_OUTPUT=2]="CLONE_OUTPUT",e[e.CLONE_ALL=3]="CLONE_ALL",e))(Vp||{}),Ct,ju,An;const iu=class iu{constructor(t,r,n){ht(this,Ct,void 0);ht(this,ju,void 0);ht(this,An,void 0);pt(this,Ct,t),this.update(r,n)}static init(t,r,n){var i;return t instanceof iu?new iu(fe(t,Ct),t.root??r,{...fe(t,An),...n,variables:Object.assign({},(i=fe(t,An))==null?void 0:i.variables,n==null?void 0:n.variables)}):new iu(t,r,n)}update(t,r){var i;pt(this,ju,t);const n=Object.assign({},(i=fe(this,An))==null?void 0:i.variables,r==null?void 0:r.variables);return Object.keys(n).length?pt(this,An,{...r,variables:n}):pt(this,An,r??{}),this}getOptions(){return Object.freeze({...fe(this,Ct),context:No.from(fe(this,Ct).context)})}get root(){return fe(this,ju)}get local(){return fe(this,An)}get idKey(){return fe(this,Ct).idKey}get collation(){var t;return(t=fe(this,Ct))==null?void 0:t.collation}get processingMode(){var t;return((t=fe(this,Ct))==null?void 0:t.processingMode)||0}get useStrictMode(){var t;return(t=fe(this,Ct))==null?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=fe(this,Ct))==null?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=fe(this,Ct))==null?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=fe(this,Ct))==null?void 0:t.hashFunction}get collectionResolver(){var t;return(t=fe(this,Ct))==null?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=fe(this,Ct))==null?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=fe(this,Ct))==null?void 0:t.variables}get context(){var t;return(t=fe(this,Ct))==null?void 0:t.context}};Ct=new WeakMap,ju=new WeakMap,An=new WeakMap;let Nu=iu;function xb(e){return e instanceof Nu?e.getOptions():Object.freeze({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:0,...e,context:e!=null&&e.context?No.from(e==null?void 0:e.context):No.init()})}var yi;const wf=class wf{constructor(){ht(this,yi,new Map)}static init(){return new wf}static from(t){const r=wf.init();return $r(t)||fe(t,yi).forEach((n,i)=>r.addOperators(i,n)),r}addOperators(t,r){fe(this,yi).has(t)||fe(this,yi).set(t,{});for(const[n,i]of Object.entries(r))this.getOperator(t,n)||(fe(this,yi).get(t)[n]=i);return this}getOperator(t,r){return(fe(this,yi).get(t)??{})[r]??null}addAccumulatorOps(t){return this.addOperators("accumulator",t)}addExpressionOps(t){return this.addOperators("expression",t)}addQueryOps(t){return this.addOperators("query",t)}addPipelineOps(t){return this.addOperators("pipeline",t)}addProjectionOps(t){return this.addOperators("projection",t)}addWindowOps(t){return this.addOperators("window",t)}};yi=new WeakMap;let No=wf;const co=No.init();function Y0(e,t){for(const[r,n]of Object.entries(t)){Ve(Kf(n)&&Vi(r),`'${r}' is not a valid operator`);const i=Mu(e,r,null);Ve(!i||n===i,`${r} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case"accumulator":co.addAccumulatorOps(t);break;case"expression":co.addExpressionOps(t);break;case"pipeline":co.addPipelineOps(t);break;case"projection":co.addProjectionOps(t);break;case"query":co.addQueryOps(t);break;case"window":co.addWindowOps(t);break}}function Mu(e,t,r){const{context:n,useGlobalContext:i}=r||{},o=n?n.getOperator(e,t):null;return!o&&i?co.getOperator(e,t):o}function zr(e,t,r,n){const i=Nu.init(n,e);return r&&Vi(r)?Tb(e,t,r,i):lf(e,t,i)}const oR=["$$ROOT","$$CURRENT","$$REMOVE","$$NOW"];function lf(e,t,r){var n;if(ln(t)&&t.length>0&&t[0]==="$"){if(aR.includes(t))return t;let i=r.root;const o=t.split(".");if(oR.includes(o[0])){switch(o[0]){case"$$ROOT":break;case"$$CURRENT":i=e;break;case"$$REMOVE":i=void 0;break;case"$$NOW":i=new Date;break}t=t.slice(o[0].length+1)}else if(o[0].slice(0,2)==="$$"){i=Object.assign({},r.variables,{this:e},(n=r==null?void 0:r.local)==null?void 0:n.variables);const a=o[0].slice(2);Ve(cn(i,a),`Use of undefined variable: ${a}`),t=t.slice(2)}else t=t.slice(1);return t===""?i:En(i,t)}if(je(t))return t.map(i=>lf(e,i,r));if(yt(t)){const i={},o=Object.entries(t);for(const[a,s]of o){if(Vi(a))return Ve(o.length==1,"expression must have single operator."),Tb(e,s,a,r);i[a]=lf(e,s,r)}return i}return t}function Tb(e,t,r,n){const i=Mu("expression",r,n);if(i)return i(e,t,n);const o=Mu("accumulator",r,n);return Ve(!!o,`accumulator '${r}' is not registered.`),je(e)||(e=lf(e,t,n),t=null),Ve(je(e),`arguments must resolve to array for ${r}.`),o(e,t,n)}const aR=["$$KEEP","$$PRUNE","$$DESCEND"];function Au(e){return e instanceof X0?e:new X0(e)}function sR(...e){let t=0;return Au(()=>{for(;t<e.length;){const r=e[t].next();if(!r.done)return r;t++}return{done:!0}})}function uR(e){return!!e&&typeof e=="object"&&(e==null?void 0:e.next)instanceof Function}function lR(e,t){const r=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,r)}const Yp=new Error;function cR(e,t,r){let n=!1,i=-1,o=0;return function(a){try{e:for(;!n;){let s=e();i++;let l=-1;const f=t.length;let d=!1;for(;++l<f;){const p=t[l];switch(p.action){case 0:s=p.func(s,i);break;case 1:if(!p.func(s,i))continue e;break;case 2:--p.count,p.count||(d=!0);break;case 3:--p.count,p.count||lR(t,l);continue e;default:break e}}if(n=d,a)r[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==Yp)throw s}return n=!0,{done:n}}}var _o,Ra,Da,o_;let X0=(o_=class{constructor(t){ht(this,_o,void 0);ht(this,Ra,void 0);ht(this,Da,void 0);pt(this,_o,[]),pt(this,Ra,[]),this.isDone=!1;let r;if(t instanceof Function&&(t={next:t}),uR(t)){const n=t;r=()=>{const i=n.next();if(i.done)throw Yp;return i.value}}else if(je(t)){const n=t,i=n.length;let o=0;r=()=>{if(o<i)return n[o++];throw Yp}}else if(!(t instanceof Function))throw new Zu("Lazy must be initialized with an array, generator, or function.");pt(this,Da,cR(r,fe(this,_o),fe(this,Ra)))}push(t,r){return typeof r=="function"?fe(this,_o).push({action:t,func:r}):typeof r=="number"&&fe(this,_o).push({action:t,count:r}),this}next(){return fe(this,Da).call(this)}map(t){return this.push(0,t)}filter(t){return this.push(1,t)}take(t){return t>0?this.push(2,t):this}drop(t){return t>0?this.push(3,t):this}transform(t){const r=this;let n;return Au(()=>(n||(n=Au(t(r.value()))),n.next()))}value(){return this.isDone||(this.isDone=fe(this,Da).call(this,!0).done),fe(this,Ra)}each(t){for(;;){const r=this.next();if(r.done)break;if(t(r.value)===!1)return!1}return!0}reduce(t,r){let n=this.next();for(r===void 0&&!n.done&&(r=n.value,n=this.next());!n.done;)r=t(r,n.value),n=this.next();return r}size(){return this.reduce((t,r)=>++t,0)}[Symbol.iterator](){return this}},_o=new WeakMap,Ra=new WeakMap,Da=new WeakMap,o_);const fR=(e,t,r)=>e.take(t),Rb=(e,t,r)=>Pv(t)?e:(Nb(t,r),e.map(Db(t,Nu.init(r))));function Db(e,t,r=!0){const n=t.idKey,i=Object.keys(e),o=new Array,a=new Array,s={};for(const w of i){const _=e[w];if(Ot(_)||Oa(_))_?a.push(w):o.push(w);else if(je(_))s[w]=E=>_.map($=>zr(E,$,null,t.update(E))??null);else if(yt(_)){const E=Object.keys(_),$=E.length==1?E[0]:"",g=Mu("projection",$,t);g?$==="$slice"&&!ts(_[$]).every(Ot)?s[w]=b=>zr(b,_,w,t.update(b)):s[w]=b=>g(b,_[$],w,t.update(b)):Vi($)?s[w]=y=>zr(y,_[$],$,t):(Nb(_,t),s[w]=y=>{if(!cn(y,w))return zr(y,_,null,t);r&&t.update(y);const b=En(y,w),O=Db(_,t,!1);return je(b)?b.map(O):yt(b)?O(b):O(y)})}else s[w]=ln(_)&&_[0]==="$"?E=>zr(E,_,w,t):E=>_}const l=Object.keys(s),f=o.includes(n);if(r&&f&&o.length===1&&!a.length&&!l.length)return w=>{const _={...w};return delete _[n],_};const p=r&&!f&&!a.includes(n),v={preserveMissing:!0};return w=>{const _={};if(o.length&&!a.length){Up(_,w);for(const E of o)V0(_,E,{descendArray:!0})}for(const E of a){const $=Qs(w,E,v)??{};Up(_,$)}a.length&&Hp(_);for(const E of l){const $=s[E](w);$===void 0?V0(_,E,{descendArray:!0}):nR(_,E,$)}return p&&cn(w,n)&&(_[n]=En(w,n)),_}}function Nb(e,t){let r=!1,n=!1;for(const[i,o]of Object.entries(e))Ve(!i.startsWith("$"),"Field names may not start with '$'."),Ve(!i.endsWith(".$"),"Positional projection operator '$' is not supported."),i!==(t==null?void 0:t.idKey)&&(o===0||o===!1?r=!0:(o===1||o===!0)&&(n=!0),Ve(!(r&&n),"Projection cannot have a mix of inclusion and exclusion."))}const dR=(e,t,r)=>e.drop(t),Mb=(e,t,r)=>{if(Pv(t)||!yt(t))return e;let n=Ur;const i=r.collation;return yt(i)&&ln(i.locale)&&(n=pR(i)),e.transform(o=>{const a=Object.keys(t);for(const s of a.reverse()){const l=tR(o,p=>En(p,s),r.hashFunction),f=Array.from(l.keys()).sort(n);t[s]===-1&&f.reverse();let d=0;for(const p of f)for(const v of l.get(p))o[d++]=v;Ve(d==o.length,"bug: counter must match collection size.")}return o})},hR={1:"base",2:"accent",3:"variant"};function pR(e){const t={sensitivity:hR[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));const r=new Intl.Collator(e.locale,t);return(n,i)=>{if(!ln(n)||!ln(i))return Ur(n,i);const o=r.compare(n,i);return o<0?-1:o>0?1:0}}const mR={$sort:Mb,$skip:dR,$limit:fR};var Lu,Fu,Na,In,gi,wr,zn;class vR{constructor(t,r,n,i){ht(this,Lu,void 0);ht(this,Fu,void 0);ht(this,Na,void 0);ht(this,In,void 0);ht(this,gi,{});ht(this,wr,null);ht(this,zn,[]);pt(this,Lu,t),pt(this,Fu,r),pt(this,Na,n),pt(this,In,i)}fetch(){if(fe(this,wr))return fe(this,wr);pt(this,wr,Au(fe(this,Lu)).filter(fe(this,Fu)));const t=fe(this,In).processingMode;t&Vp.CLONE_INPUT&&fe(this,wr).map(Ya);for(const r of["$sort","$skip","$limit"])cn(fe(this,gi),r)&&pt(this,wr,mR[r](fe(this,wr),fe(this,gi)[r],fe(this,In)));return Object.keys(fe(this,Na)).length&&pt(this,wr,Rb(fe(this,wr),fe(this,Na),fe(this,In))),t&Vp.CLONE_OUTPUT&&fe(this,wr).map(Ya),fe(this,wr)}fetchAll(){const t=Au([...fe(this,zn)]);return pt(this,zn,[]),sR(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return fe(this,gi).$skip=t,this}limit(t){return fe(this,gi).$limit=t,this}sort(t){return fe(this,gi).$sort=t,this}collation(t){return pt(this,In,{...fe(this,In),collation:t}),this}next(){if(fe(this,zn).length>0)return fe(this,zn).pop();const t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(fe(this,zn).length>0)return!0;const t=this.fetch().next();return t.done?!1:(fe(this,zn).push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}Lu=new WeakMap,Fu=new WeakMap,Na=new WeakMap,In=new WeakMap,gi=new WeakMap,wr=new WeakMap,zn=new WeakMap;const yR=new Set(Array.from(["$and","$or","$nor","$expr","$jsonSchema"]));var Ma,wi,So;class Yi{constructor(t,r){ht(this,Ma,void 0);ht(this,wi,void 0);ht(this,So,void 0);pt(this,So,Ya(t)),pt(this,wi,xb(r)),pt(this,Ma,[]),this.compile()}compile(){Ve(yt(fe(this,So)),`query criteria must be an object: ${JSON.stringify(fe(this,So))}`);const t={};for(const[r,n]of Object.entries(fe(this,So))){if(r==="$where")Ve(fe(this,wi).scriptEnabled,"$where operator requires 'scriptEnabled' option to be true."),Object.assign(t,{field:r,expr:n});else if(yR.has(r))this.processOperator(r,r,n);else{Ve(!Vi(r),`unknown top level operator: ${r}`);for(const[i,o]of Object.entries(Ob(n)))this.processOperator(r,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,r,n){const i=Mu("query",r,fe(this,wi));Ve(!!i,`unknown query operator ${r}`),fe(this,Ma).push(i(t,n,fe(this,wi)))}test(t){return fe(this,Ma).every(r=>r(t))}find(t,r){return new vR(t,n=>this.test(n),r||{},fe(this,wi))}remove(t){return t.reduce((r,n)=>(this.test(n)||r.push(n),r),[])}}Ma=new WeakMap,wi=new WeakMap,So=new WeakMap;const gR=["monday","mon","tuesday","tue","wednesday","wed","thursday","thu","friday","fri","saturday","sat","sunday","sun"];new Set(gR);function rr(e){return(r,n,i)=>{const o={unwrapArray:!0},a=Math.max(1,r.split(".").length-1);return s=>{const l=En(s,r,o);return e(l,n,{...i,depth:a})}}}function rs(e){return(t,r,n)=>{const i=zr(t,r,null,n);return e(...i)}}function $v(e,t,r){return on(e,t)||$r(e)&&$r(t)?!0:je(e)?e.some(n=>on(n,t))||kb(e,r==null?void 0:r.depth).some(n=>on(n,t)):!1}function Ab(e,t,r){return!$v(e,t,r)}function Ib(e,t,r){return $r(e)?t.some(n=>n===null):$b([ts(e),t],r==null?void 0:r.hashFunction).length>0}function wR(e,t,r){return!Ib(e,t,r)}function zb(e,t,r){return Wf(e,t,(n,i)=>Ur(n,i)<0)}function jb(e,t,r){return Wf(e,t,(n,i)=>Ur(n,i)<=0)}function Lb(e,t,r){return Wf(e,t,(n,i)=>Ur(n,i)>0)}function Fb(e,t,r){return Wf(e,t,(n,i)=>Ur(n,i)>=0)}function _R(e,t,r){return ts(e).some(n=>t.length===2&&n%t[0]===t[1])}function SR(e,t,r){const n=ts(e),i=o=>ln(o)&&Va(t.exec(o),r==null?void 0:r.useStrictMode);return n.some(i)||kb(n,1).some(i)}function bR(e,t,r){if(!je(e)||!je(t)||!e.length||!t.length)return!1;let n=!0;for(const i of t){if(!n)break;yt(i)&&Object.keys(i).includes("$elemMatch")?n=Bb(e,i.$elemMatch,r):Wn(i)?n=e.some(o=>typeof o=="string"&&i.test(o)):n=e.some(o=>on(i,o))}return n}function ER(e,t,r){return Array.isArray(e)&&e.length===t}function PR(e){return Vi(e)&&["$and","$or","$nor"].indexOf(e)===-1}function Bb(e,t,r){if(je(e)&&!Pv(e)){let n=a=>a,i=t;Object.keys(t).every(PR)&&(i={temp:t},n=a=>({temp:a}));const o=new Yi(i,r);for(let a=0,s=e.length;a<s;a++)if(o.test(n(e[a])))return!0}return!1}const G0=e=>e===null,$R={array:je,boolean:Oa,bool:Oa,date:Ha,number:Ot,int:Ot,long:Ot,double:Ot,decimal:Ot,null:G0,object:yt,regexp:Wn,regex:Wn,string:ln,undefined:$r,function:e=>{throw new Zu("unsupported type key `function`.")},1:Ot,2:ln,3:yt,4:je,6:$r,8:Oa,9:Ha,10:G0,11:Wn,16:Ot,18:Ot,19:Ot};function Q0(e,t,r){const n=$R[t];return n?n(e):!1}function kR(e,t,r){return je(t)?t.findIndex(n=>Q0(e,n))>=0:Q0(e,t)}function Wf(e,t,r){return ts(e).some(n=>Ru(n)===Ru(t)&&r(n,t))}const CR=(e,t,r)=>{const n=zr(e,t,null,r);return Va(n,r.useStrictMode)&&n.every(i=>Va(i,r.useStrictMode))},OR=(e,t,r)=>{const n=ts(t);return n.length==0?!1:(Ve(n.length==1,"Expression $not takes exactly 1 argument"),!zr(e,n[0],null,r))},xR=(e,t,r)=>{const n=zr(e,t,null,r),i=r.useStrictMode;return Va(n,i)&&n.some(o=>Va(o,i))},TR=Object.freeze(Object.defineProperty({__proto__:null,$and:CR,$not:OR,$or:xR},Symbol.toStringTag,{value:"Module"})),RR=(e,t,r)=>{const n=zr(e,t,null,r);return Ve(je(n)&&n.length==2,"$cmp: expression must resolve to array of size 2."),Ur(n[0],n[1])},DR=rs($v),NR=rs(Lb),MR=rs(Fb),AR=rs(zb),IR=rs(jb),zR=rs(Ab),jR=Object.freeze(Object.defineProperty({__proto__:null,$cmp:RR,$eq:DR,$gt:NR,$gte:MR,$lt:AR,$lte:IR,$ne:zR},Symbol.toStringTag,{value:"Module"})),Z0=(e,t)=>{const r={};return e.split("").forEach((n,i)=>r[n]=t*(i+1)),r};({...Z0("ABCDEFGHIKLM",1),...Z0("NOPQRSTUVWXY",-1)});const J0={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Or(e,t=J0){const r=Object.assign({},J0,t),n=new Set(Object.keys(r));return(i,o,a)=>{const s=zr(i,o,null,a);if(n.has(`${s}`)){const l=r[`${s}`];if(l instanceof Error)throw new Zu(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return l}return e(s)}}Or(Math.acos,{Infinity:1/0,0:new Error});Or(Math.acosh,{Infinity:1/0,0:new Error});Or(Math.asin);Or(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});Or(Math.atan);Or(Math.atanh,{1:1/0,"-1":-1/0});Or(Math.cos);Or(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const LR=Math.PI/180;Or(e=>e*LR,{Infinity:1/0,"-Infinity":1/0});const FR=180/Math.PI;Or(e=>e*FR,{Infinity:1/0,"-Infinity":-1/0});Or(Math.sin);Or(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});Or(Math.tan);const Kb=(e,t,r)=>{Ve(je(t),"Invalid expression: $and expects value to be an Array.");const n=t.map(i=>new Yi(i,r));return i=>n.every(o=>o.test(i))},kv=(e,t,r)=>{Ve(je(t),"Invalid expression. $or expects value to be an Array");const n=t.map(i=>new Yi(i,r));return i=>n.some(o=>o.test(i))},Wb=(e,t,r)=>{Ve(je(t),"Invalid expression. $nor expects value to be an array.");const n=kv("$or",t,r);return i=>!n(i)},Ub=(e,t,r)=>{const n={};n[e]=Ob(t);const i=new Yi(n,r);return o=>!i.test(o)},qb=rr($v),Hb=rr(Lb),Vb=rr(Fb),Yb=rr(Ib),Xb=rr(zb),Gb=rr(jb),Qb=rr(Ab),Zb=rr(wR);function BR(e,t,r){return n=>zr(n,t,null,r)}function KR(e,t,r){if(!(r!=null&&r.jsonSchemaValidator))throw new Zu("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");const n=r==null?void 0:r.jsonSchemaValidator(t);return i=>n(i)}const Jb=rr(_R),eE=rr(SR);function WR(e,t,r){Ve(r.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");const n=t;return Ve(Kf(n),"$where only accepts a Function object"),i=>Va(n.call(i),r==null?void 0:r.useStrictMode)}const UR=rr(bR),tE=rr(Bb),rE=rr(ER),nE=(e,t,r)=>{const n=e.includes("."),i=!!t;return!n||e.match(/\.\d+$/)?o=>En(o,e)!==void 0===i:o=>{const a=Qs(o,e,{preserveIndex:!0}),s=En(a,e.substring(0,e.lastIndexOf(".")));return je(s)?s.some(l=>l!==void 0)===i:s!==void 0===i}},iE=rr(kR);var ew=!1;function qR(e){return ew||(Y0("pipeline",{$sort:Mb,$project:Rb}),Y0("query",{$and:Kb,$eq:qb,$elemMatch:tE,$exists:nE,$gt:Hb,$gte:Vb,$in:Yb,$lt:Xb,$lte:Gb,$ne:Qb,$nin:Zb,$mod:Jb,$nor:Wb,$not:Ub,$or:kv,$regex:eE,$size:rE,$type:iE}),ew=!0),new Yi(e)}function $c(e,t){var r=qi(e.primaryKey);t=Vt(t);var n=Ka(t);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([p,v])=>{(typeof v!="object"||v===null)&&(n.selector[p]={$eq:v})})):n.selector={},n.index){var i=hv(n.index);i.includes(r)||i.push(r),n.index=i}if(n.sort){var d=n.sort.find(p=>Ox(p)===r);d||(n.sort=n.sort.slice(0),n.sort.push({[r]:"asc"}))}else if(n.index)n.sort=n.index.map(p=>({[p]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(n.selector).forEach(([p,v])=>{var w=!1;typeof v=="object"&&v!==null?w=!!Object.keys(v).find(_=>Ev.has(_)):w=!0,w&&o.add(p)});var a=-1,s;e.indexes.forEach(p=>{var v=nf(p)?p:[p],w=v.findIndex(_=>!o.has(_));w>0&&w>a&&(a=w,s=v)}),s&&(n.sort=s.map(p=>({[p]:"asc"})))}if(!n.sort)if(e.indexes&&e.indexes.length>0){var l=e.indexes[0],f=nf(l)?l:[l];n.sort=f.map(p=>({[p]:"asc"}))}else n.sort=[{[r]:"asc"}]}return n}function oE(e,t){if(!t.sort)throw $e("SNH",{query:t});var r=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];r.push({key:o,direction:a,getValueFn:Cx(o)})});var n=(i,o)=>{for(var a=0;a<r.length;++a){var s=r[a],l=s.getValueFn(i),f=s.getValueFn(o);if(l!==f){var d=s.direction==="asc"?Ur(l,f):Ur(f,l);return d}}};return n}function Cv(e,t){if(!t.sort)throw $e("SNH",{query:t});var r=qR(t.selector),n=i=>r.test(i);return n}async function na(e,t){var r=await e.exec();if(!r)return null;if(Array.isArray(r))return Promise.all(r.map(i=>t(i)));if(r instanceof Map)return Promise.all([...r.values()].map(i=>t(i)));var n=await t(r);return n}function aE(e,t){if(!t.sort)throw $e("SNH",{query:t});var r=WT(e,t);return{query:t,queryPlan:r}}var HR="_rxdb_internal";async function VR(e,t){var r=await e.findDocumentsById([t],!1),n=r[0];if(n)return n}function cf(e,t,r,n){if(n)throw n.status===409?$e("CONFLICT",{collection:e.name,id:t,writeError:n,data:r}):n.status===422?$e("VD2",{collection:e.name,id:t,writeError:n,data:r}):n}function YR(e,t,r,n,i,o,a){for(var s=!!e.schema.attachments,l=[],f=[],d=[],p=Lf(10),v={id:p,events:[],checkpoint:null,context:i},w=v.events,_=[],E=[],$=[],g=r.size>0,y,b=n.length,O=function(){var B=n[T],F=B.document,Q=B.previous,de=F[t],se=F._deleted,te=Q&&Q._deleted,ie=void 0;g&&(ie=r.get(de));var we;if(ie){var Fe=ie._rev;if(!Q||Q&&Fe!==Q._rev){var Ue={isError:!0,status:409,documentId:de,writeRow:B,documentInDb:ie};return d.push(Ue),1}var J=s?wh(B):B;s&&(se?Q&&Object.keys(Q._attachments).forEach(K=>{E.push({documentId:de,attachmentId:K,digest:at(Q)._attachments[K].digest})}):(Object.entries(F._attachments).find(([K,k])=>{var D=Q?Q._attachments[K]:void 0;return!D&&!k.data&&(we={documentId:de,documentInDb:ie,isError:!0,status:510,writeRow:B,attachmentId:K}),!0}),we||Object.entries(F._attachments).forEach(([K,k])=>{var D=Q?Q._attachments[K]:void 0;if(!D)_.push({documentId:de,attachmentId:K,attachmentData:k,digest:k.digest});else{var X=J.document._attachments[K].digest;k.data&&D.digest!==X&&$.push({documentId:de,attachmentId:K,attachmentData:k,digest:k.digest})}}))),we?d.push(we):(s?(f.push(wh(J)),a&&a(F)):(f.push(J),a&&a(F)),y=J);var pe=null,H=null,I=null;if(te&&!se)I="INSERT",pe=s?Fn(F):F;else if(Q&&!te&&!se)I="UPDATE",pe=s?Fn(F):F,H=Q;else if(se)I="DELETE",pe=at(F),H=Q;else throw $e("SNH",{args:{writeRow:B}});var G={documentId:de,documentData:pe,previousDocumentData:H,operation:I};w.push(G)}else{var Se=!!se;if(s&&Object.entries(F._attachments).forEach(([K,k])=>{k.data?_.push({documentId:de,attachmentId:K,attachmentData:k,digest:k.digest}):(we={documentId:de,isError:!0,status:510,writeRow:B,attachmentId:K},d.push(we))}),we||(s?(l.push(wh(B)),o&&o(F)):(l.push(B),o&&o(F)),y=B),!Se){var Re={documentId:de,operation:"INSERT",documentData:s?Fn(F):F,previousDocumentData:s&&Q?Fn(Q):Q};w.push(Re)}}},T=0;T<b;T++)O();return{bulkInsertDocs:l,bulkUpdateDocs:f,newestRow:y,errors:d,eventBulk:v,attachmentsAdd:_,attachmentsRemove:E,attachmentsUpdate:$}}function wh(e){return{previous:e.previous,document:Fn(e.document)}}function XR(e){return atob(e).length}function GR(e){var t=e.data;if(!t)return e;var r={length:XR(t),digest:e.digest,type:e.type};return r}function Fn(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=Vt(e);return t._attachments={},Object.entries(e._attachments).forEach(([r,n])=>{t._attachments[r]=GR(n)}),t}function Uf(e){return Object.assign({},e,{_meta:Vt(e._meta)})}function sE(e,t,r){Rt.deepFreezeWhenDevMode(r);var n=qi(t.schema.primaryKey),i={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,async bulkWrite(o,a){for(var s=e.token,l=new Array(o.length),f=Ui(),d=0;d<o.length;d++){var p=o[d],v=Uf(p.document);v._meta.lwt=f;var w=p.previous;v._rev=Ap(s,w),l[d]={document:v,previous:w}}hr("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:l});var _=await e.lockedRun(()=>t.bulkWrite(l,a)),E={error:[]};uE.set(E,l);var $=_.error.length===0?[]:_.error.filter(B=>B.status===409&&!B.writeRow.previous&&!B.writeRow.document._deleted&&at(B.documentInDb)._deleted?!0:(E.error.push(B),!1));if($.length>0){var g=new Set,y=$.map(B=>(g.add(B.documentId),{previous:B.documentInDb,document:Object.assign({},B.writeRow.document,{_rev:Ap(e.token,B.documentInDb)})})),b=await e.lockedRun(()=>t.bulkWrite(y,a));Eu(E.error,b.error);var O=Mo(n,l,E,g),T=Mo(n,y,b);return Eu(O,T),E}return E},query(o){return e.lockedRun(()=>t.query(o))},count(o){return e.lockedRun(()=>t.count(o))},findDocumentsById(o,a){return e.lockedRun(()=>t.findDocumentsById(o,a))},getAttachmentData(o,a,s){return e.lockedRun(()=>t.getAttachmentData(o,a,s))},getChangedDocumentsSince:t.getChangedDocumentsSince?(o,a)=>e.lockedRun(()=>t.getChangedDocumentsSince(at(o),a)):void 0,cleanup(o){return e.lockedRun(()=>t.cleanup(o))},remove(){return e.storageInstances.delete(i),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(i),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()}};return e.storageInstances.add(i),i}function QR(e){if(e.schema.keyCompression)throw $e("UT5",{args:{params:e}});if(ZR(e.schema))throw $e("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw $e("UT7",{args:{params:e}})}function ZR(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var uE=new WeakMap,JR=new WeakMap;function Mo(e,t,r,n){return un(JR,r,()=>{var i=[],o=uE.get(r);if(o||(o=t),r.error.length>0||n){for(var a=n||new Set,s=0;s<r.error.length;s++){var l=r.error[s];a.add(l.documentId)}for(var f=0;f<o.length;f++){var d=o[f].document;a.has(d[e])||i.push(Fn(d))}}else{i.length=t.length-r.error.length;for(var p=0;p<o.length;p++){var v=o[p].document;i[p]=Fn(v)}}return i})}var eD=function(){function e(r,n,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=r,this.primaryPath=n,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(n,i){var o=n[this.primaryPath],a=un(this.queueByDocId,o,()=>[]),s=new Promise((l,f)=>{var d={lastKnownDocumentState:n,modifier:i,resolve:l,reject:f};at(a).push(d),this.triggerRun()});return s},t.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],i=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(i.entries()).map(async([a,s])=>{var l=tD(s.map(p=>p.lastKnownDocumentState)),f=l;for(var d of s)try{f=await d.modifier(Ka(f))}catch(p){d.reject(p),d.reject=()=>{},d.resolve=()=>{}}try{await this.preWrite(f,l)}catch(p){s.forEach(v=>v.reject(p));return}n.push({previous:l,document:f})}));var o=n.length>0?await this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return await Promise.all(Mo(this.primaryPath,n,o).map(a=>{var s=a[this.primaryPath];this.postWrite(a);var l=uf(i,s);l.forEach(f=>f.resolve(a))})),o.error.forEach(a=>{var s=a.documentId,l=uf(i,s),f=zS(a);if(f){var d=un(this.queueByDocId,s,()=>[]);l.reverse().forEach(v=>{v.lastKnownDocumentState=at(f.documentInDb),at(d).unshift(v)})}else{var p=jS(a);l.forEach(v=>v.reject(p))}}),this.isRunning=!1,this.triggerRun()}},e}();function tw(e){var t=async r=>{var n=xx(r);n._deleted=r._deleted;var i=await e(n),o=Object.assign({},i,{_meta:r._meta,_attachments:r._attachments,_rev:r._rev,_deleted:typeof i._deleted<"u"?i._deleted:r._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o};return t}function tD(e){var t=e[0],r=Pu(t._rev);return e.forEach(n=>{var i=Pu(n._rev);i>r&&(t=n,r=i)}),t}var Ov={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(yn(t=>t._data._deleted))},get deleted$$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this,t=this.primary;return e.collection.eventBulks$.pipe(Ar(r=>!r.isLocal),yn(r=>r.events.find(n=>n.documentId===t)),Ar(r=>!!r),yn(r=>LT(at(r))),wb(e.collection._docCache.getLatestDocumentData(t)),Wp((r,n)=>r._rev===n._rev),yn(r=>this.collection._docCache.getCachedRxDocument(r)),gb(US))},get $$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$(e){if(Rt.isDevMode()){if(e.includes(".item."))throw $e("DOC1",{path:e});if(e===this.primaryPath)throw $e("DOC2");if(this.collection.schema.finalFields.includes(e))throw $e("DOC3",{path:e});var t=Cu(this.collection.schema.jsonSchema,e);if(!t)throw $e("DOC4",{path:e})}return this.$.pipe(yn(r=>es(r,e)),Wp())},get$$(e){var t=this.get$(e),r=this.collection.database.getReactivityFactory();return r.fromObservable(t,this.getLatest().get(e),this.collection.database)},populate(e){var t=Cu(this.collection.schema.jsonSchema,e),r=this.get(e);if(!r)return Bx;if(!t)throw $e("DOC5",{path:e});if(!t.ref)throw $e("DOC6",{path:e,schemaObj:t});var n=this.collection.database.collections[t.ref];if(!n)throw $e("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?n.findByIds(r).exec().then(i=>{var o=i.values();return Array.from(o)}):n.findOne(r).exec()},get(e){return cE(this,e)},toJSON(e=!1){if(e)return Rt.deepFreezeWhenDevMode(this._data);var t=Vt(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Rt.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return Ka(this.toJSON(e))},update(e){throw He("update")},incrementalUpdate(e){throw He("update")},updateCRDT(e){throw He("crdt")},putAttachment(){throw He("attachments")},putAttachmentBase64(){throw He("attachments")},getAttachment(){throw He("attachments")},allAttachments(){throw He("attachments")},get allAttachments$(){throw He("attachments")},async modify(e,t){var r=this._data,n=await tw(e)(r);return this._saveData(n,r)},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,tw(e)).then(r=>this.collection._docCache.getCachedRxDocument(r))},patch(e){var t=this._data,r=Ka(t);return Object.entries(e).forEach(([n,i])=>{r[n]=i}),this._saveData(r,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([r,n])=>{t[r]=n}),t))},async _saveData(e,t){if(e=Vt(e),this._data._deleted)throw $e("DOC11",{id:this.primary,document:this});await lE(this.collection,e,t);var r=[{previous:t,document:e}],n=await this.collection.storageInstance.bulkWrite(r,"rx-document-save-data"),i=n.error[0];return cf(this.collection,this.primary,e,i),await this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(Mo(this.collection.schema.primaryPath,r,n)[0])},async remove(){if(this.deleted)return Promise.reject($e("DOC13",{document:this,id:this.primary}));var e=await this.collection.bulkRemove([this]);if(e.error.length>0){var t=e.error[0];cf(this.collection,this.primary,this._data,t)}return e.success[0]},incrementalRemove(){return this.incrementalModify(async e=>(await this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e)).then(async e=>(await this.collection._runHooks("post","remove",e._data,e),e))},close(){throw $e("DOC14")}};function rD(e=Ov){var t=function(n,i){this.collection=n,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function nD(e,t,r){var n=new e(t,r);return hr("createRxDocument",n),n}function lE(e,t,r){return t._meta=Object.assign({},r._meta,t._meta),Rt.isDevMode()&&e.schema.validateChange(r,t),e._runHooks("pre","save",t,r)}function cE(e,t){return un(e._propertyCache,t,()=>{var r=es(e._data,t);if(typeof r!="object"||r===null||Array.isArray(r))return Rt.deepFreezeWhenDevMode(r);var n=new Proxy(Vt(r),{get(i,o){if(typeof o!="string")return i[o];var a=o.charAt(o.length-1);if(a==="$")if(o.endsWith("$$")){var s=o.slice(0,-2);return e.get$$(Ls(t+"."+s))}else{var l=o.slice(0,-1);return e.get$(Ls(t+"."+l))}else if(a==="_"){var f=o.slice(0,-1);return e.populate(Ls(t+"."+f))}else{var d=i[o];return typeof d=="number"||typeof d=="string"||typeof d=="boolean"?d:cE(e,Ls(t+"."+o))}}});return n})}function xv(e){return e[e.length-1]}function iD(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function rw(e,t,r){if(Array.isArray(t)&&(t=t.join(".")),!iD(e)||typeof t!="string")return r===void 0?e:r;const n=t.split(".");if(n.length===0)return r;for(let i=0;i<n.length;i++){const o=n[i];if(oD(e,o)?e=i===n.length-1?void 0:null:e=e[o],e==null){if(i!==n.length-1)return r;break}}return e===void 0?r:e}function oD(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}const fE=e=>!!e.queryParams.limit,aD=e=>e.queryParams.limit===1,sD=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),uD=e=>e.changeEvent.operation==="DELETE",lD=e=>e.changeEvent.operation==="INSERT",cD=e=>e.changeEvent.operation==="UPDATE",fD=e=>fE(e)&&e.previousResults.length>=e.queryParams.limit,dD=e=>{const t=e.queryParams.sortFields,r=e.changeEvent.previous,n=e.changeEvent.doc;if(!n)return!1;if(!r)return!0;for(let i=0;i<t.length;i++){const o=t[i],a=rw(r,o),s=rw(n,o);if(a!==s)return!0}return!1},hD=e=>{const t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{const r=e.queryParams.primaryKey,n=e.previousResults;for(let i=0;i<n.length;i++)if(n[i][r]===t)return!0;return!1}},pD=e=>{const t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},mD=e=>{const t=xv(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},vD=e=>{const t=e.changeEvent.previous;if(!t)return!1;const r=e.previousResults[0];return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)<0:!1},yD=e=>{const t=e.changeEvent.previous;if(!t)return!1;const r=xv(e.previousResults);return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)>0:!1},gD=e=>{const t=e.changeEvent.doc;if(!t)return!1;const r=e.previousResults[0];return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)<0:!1},wD=e=>{const t=e.changeEvent.doc;if(!t)return!1;const r=xv(e.previousResults);return r?r[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,r)>0:!1},_D=e=>{const t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},SD=e=>{const t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},bD=e=>e.previousResults.length===0,ED={0:lD,1:cD,2:uD,3:fE,4:aD,5:sD,6:bD,7:fD,8:pD,9:mD,10:dD,11:hD,12:vD,13:yD,14:gD,15:wD,16:_D,17:SD};function PD(e,t,r,n){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;n<=o;)a=n+(o-n>>1),s=e[a],r(s,t)<=0?n=a+1:o=a-1;return r(s,t)<=0&&a++,e.splice(a,0,t),a}const $D=e=>{},Tv=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Rv=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Dv=e=>{const t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Nv=e=>{const t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},kD=e=>{Dv(e),Rv(e)},CD=e=>{Nv(e),Tv(e)},OD=e=>{Dv(e),Tv(e)},xD=e=>{Nv(e),Rv(e)},dE=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);const t=e.queryParams.primaryKey,r=e.previousResults;for(let n=0;n<r.length;n++)if(r[n][t]===e.changeEvent.id){r.splice(n,1);break}},TD=e=>{const t=e.changeEvent.doc,r=e.queryParams.primaryKey,n=e.previousResults;for(let i=0;i<n.length;i++)if(n[i][r]===e.changeEvent.id){n[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},RD=e=>{const t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},hE=e=>{const t=e.changeEvent.id,r=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,r)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;PD(e.previousResults,r,e.queryParams.sortComparator,0)},DD=e=>{dE(e),hE(e)},ND=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},MD=e=>{throw new Error("Action unknownAction should never be called")},AD=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],ID={doNothing:$D,insertFirst:Tv,insertLast:Rv,removeFirstItem:Dv,removeLastItem:Nv,removeFirstInsertLast:kD,removeLastInsertFirst:CD,removeFirstInsertFirst:OD,removeLastInsertLast:xD,removeExisting:dE,replaceExisting:TD,alwaysWrong:RD,insertAtSortPosition:hE,removeExistingAndInsertAtSortPosition:DD,runFullQueryAgain:ND,unknownAction:MD},zD=40;function _h(e){return e.charCodeAt(0)-zD}function jD(e){return e?"1":"0"}function nw(e,t){const r=[];for(let n=0,i=e.length;n<i;n+=t)r.push(e.substring(n,n+t));return r}function LD(e){const t=new Map,n=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,n),o=nw(i,2);for(let E=0;E<o.length;E++){const $=o[E],g=$.charAt(0),y=_h($.charAt(1));t.set(g,y)}const a=e.substring(n,e.length-3),s=nw(a,4);for(let E=0;E<s.length;E++){const $=s[E],g=$.charAt(0),y=$.charAt(1),b=$.charAt(2),O=_h($.charAt(3));if(!t.has(y))throw new Error("missing node with id "+y);if(!t.has(b))throw new Error("missing node with id "+b);const T=t.get(y),B=t.get(b),F={l:O,0:T,1:B};t.set(g,F)}const l=e.slice(-3),f=l.charAt(0),d=l.charAt(1),p=_h(l.charAt(2)),v=t.get(f),w=t.get(d);return{l:p,0:v,1:w}}function FD(e,t,r){let n=e,i=e.l;for(;;){const o=t[i](r),a=jD(o);if(n=n[a],typeof n=="number"||typeof n=="string")return n;i=n.l}}const BD="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9bf9bq9cg9ck9cn9nd9np9nq9nf9ng9nm9nk9mr9ms9mt9mj9mk9ml9mn9mc8{8}888mn88m8m4z4w4z44444m4v7yn77~777n777m77m7m7m5m5m55m555m55m5m552|2u2222x222|222222n2n222n2/an/bn/cn///////////,cn,,,,,,,ac0bc00000000000m-m-----------3333(((++++11*m*.";let Sh;function KD(){return Sh||(Sh=LD(BD)),Sh}const WD=e=>FD(KD(),ED,e);function UD(e){const t=WD(e);return AD[t]}function qD(e,t,r,n,i){const o=ID[e];return o({queryParams:t,changeEvent:r,previousResults:n,keyDocumentMap:i}),n}function HD(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(r=>Object.keys(r)[0])}var VD=new WeakMap;function YD(e){return un(VD,e,()=>{var t=e.collection,r=$c(t.storageInstance.schema,Ka(e.mangoQuery)),n=t.schema.primaryPath,i=oE(t.schema.jsonSchema,r),o=(f,d)=>{var p={docA:f,docB:d,rxQuery:e};return i(p.docA,p.docB)},a=Cv(t.schema.jsonSchema,r),s=f=>{var d={doc:f,rxQuery:e};return a(d.doc)},l={primaryKey:e.collection.schema.primaryPath,skip:r.skip,limit:r.limit,sortFields:HD(n,r),sortComparator:o,queryMatcher:s};return l})}function XD(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};for(var r=YD(e),n=at(e._result).docsData.slice(0),i=at(e._result).docsDataMap,o=!1,a=[],s=0;s<t.length;s++){var l=t[s],f=FT(l);f&&a.push(f)}var d=a.find(p=>{var v={queryParams:r,changeEvent:p,previousResults:n,keyDocumentMap:i},w=UD(v);if(w==="runFullQueryAgain")return!0;if(w!=="doNothing")return o=!0,qD(w,r,p,n,i),!1});return d?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:n}}var GD=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(n){var i=n.toString(),o=un(this._map,i,()=>n);return o},e}();function QD(){return new GD}function iw(e,t){t.uncached=!0;var r=t.toString();e._map.delete(r)}function ZD(e){return e.refCount$.observers.length}var JD=100,eN=30*1e3,tN=(e,t)=>(r,n)=>{if(!(n._map.size<e)){var i=Ui()-t,o=[],a=Array.from(n._map.values());for(var s of a)if(!(ZD(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){iw(n,s);continue}o.push(s)}var l=o.length-e;if(!(l<=0)){var f=o.sort((p,v)=>p._lastEnsureEqual-v._lastEnsureEqual),d=f.slice(0,l);d.forEach(p=>iw(n,p))}}},pE=tN(JD,eN),bh=new WeakSet;function rN(e){bh.has(e)||(bh.add(e),Lx().then(()=>Kx(200)).then(()=>{e.closed||e.cacheReplacementPolicy(e,e._queryCache),bh.delete(e)}))}var nN=function(){function e(r,n,i){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s[0].delete(o.revisionHeight+o.lwt+""),s[0].size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.primaryPath=r,this.changes$=n,this.documentCreator=i,n.subscribe(o=>{this.tasks.add(()=>{for(var a=this.cacheItemByDocId,s=0;s<o.length;s++){var l=o[s],f=a.get(l.documentId);if(f){var d=l.documentData;d||(d=l.previousDocumentData),f[1]=d}}}),this.tasks.size<=1&&jf().then(()=>{this.processTasks()})})}var t=e.prototype;return t.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},t.getLatestDocumentData=function(n){this.processTasks();var i=uf(this.cacheItemByDocId,n);return i[1]},t.getLatestDocumentDataIfExists=function(n){this.processTasks();var i=this.cacheItemByDocId.get(n);if(i)return i[1]},Wi(e,[{key:"getCachedRxDocuments",get:function(){var r=ow(this);return Kn(this,"getCachedRxDocuments",r)}},{key:"getCachedRxDocument",get:function(){var r=ow(this);return Kn(this,"getCachedRxDocument",n=>r([n])[0])}}])}();function ow(e){var t=e.primaryPath,r=e.cacheItemByDocId,n=e.registry,i=Rt.deepFreezeWhenDevMode,o=e.documentCreator,a=s=>{for(var l=new Array(s.length),f=[],d=0;d<s.length;d++){var p=s[d],v=p[t],w=Pu(p._rev),_=void 0,E=void 0,$=r.get(v);$?(_=$[0],E=_.get(w+p._meta.lwt+"")):(_=new Map,$=[_,p],r.set(v,$));var g=E?E.deref():void 0;g||(p=i(p),g=o(p),_.set(w+p._meta.lwt+"",oN(g)),n&&f.push(g)),l[d]=g}return f.length>0&&n&&(e.tasks.add(()=>{for(var y=0;y<f.length;y++){var b=f[y];n.register(b,{docId:b.primary,revisionHeight:Pu(b.revision),lwt:b._data._meta.lwt})}}),e.tasks.size<=1&&jf().then(()=>{e.processTasks()})),l};return a}function Xp(e,t){var r=e.getCachedRxDocuments;return r(t)}var iN=typeof WeakRef=="function",oN=iN?aN:sN;function aN(e){return new WeakRef(e)}function sN(e){return{deref(){return e}}}var aw=function(){function e(r,n,i){this.time=Ui(),this.query=r,this.count=i,this.documents=Xp(this.query.collection._docCache,n)}var t=e.prototype;return t.getValue=function(n){var i=this.query.op;if(i==="count")return this.count;if(i==="findOne"){var o=this.documents.length===0?null:this.documents[0];if(!o&&n)throw $e("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:i});return o}else return i==="findByIds"?this.docsMap:this.documents.slice(0)},Wi(e,[{key:"docsData",get:function(){return Kn(this,"docsData",this.documents.map(r=>r._data))}},{key:"docsDataMap",get:function(){var r=new Map;return this.documents.forEach(n=>{r.set(n.primary,n._data)}),Kn(this,"docsDataMap",r)}},{key:"docsMap",get:function(){for(var r=new Map,n=this.documents,i=0;i<n.length;i++){var o=n[i];r.set(o.primary,o)}return Kn(this,"docsMap",r)}}])}(),uN=0,lN=function(){return++uN},mE=function(){function e(r,n,i,o={}){this.id=lN(),this._execOverDatabaseCount=0,this._creationTime=Ui(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new IT(null),this._result=null,this._latestChangeEvent=-1,this._ensureEqualQueue=Wa,this.op=r,this.mangoQuery=n,this.collection=i,this.other=o,n||(this.mangoQuery=kc()),this.isFindOneByIdQuery=hN(this.collection.schema.primaryPath,n)}var t=e.prototype;return t._setResultData=function(n){if(typeof n>"u")throw $e("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof n=="number"){this._result=new aw(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var i=new aw(this,n,n.length);this._result=i},t._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this.op==="count"){var n=this.getPreparedQuery(),i=await this.collection.storageInstance.count(n);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw $e("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=at(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(d=>{var p=this.collection._docCache.getLatestDocumentDataIfExists(d);if(p){if(!p._deleted){var v=this.collection._docCache.getCachedRxDocument(p);a.set(d,v)}}else s.push(d)}),s.length>0){var l=await this.collection.storageInstance.findDocumentsById(s,!1);l.forEach(d=>{var p=this.collection._docCache.getCachedRxDocument(d);a.set(p.primary,p)})}return a}var f=dN(this);return f.then(d=>d)},t.exec=async function(n){if(n&&this.op!=="findOne")throw $e("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});await sw(this);var i=at(this._result);return i.getValue(n)},t.toString=function(){var n=of({op:this.op,query:$c(this.collection.schema.jsonSchema,this.mangoQuery),other:this.other},!0),i=JSON.stringify(n);return this.toString=()=>i,i},t.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:$c(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),hr("prePrepareQuery",n);var i=aE(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},t.remove=async function(){var n=await this.exec();if(Array.isArray(n)){var i=await this.collection.bulkRemove(n);if(i.error.length>0)throw jS(i.error[0]);return i.success}else return n.remove()},t.incrementalRemove=function(){return na(this.asRxQuery,n=>n.incrementalRemove())},t.update=function(n){throw He("update")},t.patch=function(n){return na(this.asRxQuery,i=>i.patch(n))},t.incrementalPatch=function(n){return na(this.asRxQuery,i=>i.incrementalPatch(n))},t.modify=function(n){return na(this.asRxQuery,i=>i.modify(n))},t.incrementalModify=function(n){return na(this.asRxQuery,i=>i.incrementalModify(n))},t.where=function(n){throw He("query-builder")},t.sort=function(n){throw He("query-builder")},t.skip=function(n){throw He("query-builder")},t.limit=function(n){throw He("query-builder")},Wi(e,[{key:"$",get:function(){if(!this._$){var r=this.collection.eventBulks$.pipe(Ar(n=>!n.isLocal),wb(null),Qu(()=>sw(this)),yn(()=>this._result),gb(US),Wp((n,i)=>!!(n&&n.time===at(i).time)),Ar(n=>!!n),yn(n=>at(n).getValue()));this._$=KT(r,this.refCount$.pipe(Ar(()=>!1)))}return this._$}},{key:"$$",get:function(){var r=this.collection.database.getReactivityFactory();return r.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var r=this.collection.schema.jsonSchema,n=$c(this.collection.schema.jsonSchema,this.mangoQuery);return Kn(this,"queryMatcher",Cv(r,n))}},{key:"asRxQuery",get:function(){return this}}])}();function kc(){return{selector:{}}}function cN(e){return e.collection._queryCache.getByQuery(e)}function Rs(e,t,r,n){hr("preCreateRxQuery",{op:e,queryObj:t,collection:r,other:n});var i=new mE(e,t,r,n);return i=cN(i),rN(r),i}function vE(e){var t=e.asRxQuery.collection._changeEventBuffer.getCounter();return e._latestChangeEvent>=t}async function sw(e){return e.collection.awaitBeforeReads.size>0&&await Promise.all(Array.from(e.collection.awaitBeforeReads).map(t=>t())),e.collection.database.closed||vE(e)?!1:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>fN(e)),e._ensureEqualQueue)}function fN(e){if(e._lastEnsureEqual=Ui(),e.collection.database.closed||vE(e))return Wa;var t=!1,r=!1;if(e._latestChangeEvent===-1&&(r=!0),!r){var n=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(n===null)r=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.getCounter();var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(e.op==="count"){var o=at(e._result).count,a=o;i.forEach(l=>{var f=l.previousDocumentData&&e.doesDocumentDataMatch(l.previousDocumentData),d=e.doesDocumentDataMatch(l.documentData);!f&&d&&a++,f&&!d&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=XD(e,i);s.runFullQueryAgain?r=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return r?e._execOverDatabase().then(l=>(e._latestChangeEvent=e.collection._changeEventBuffer.getCounter(),typeof l=="number"?((!e._result||l!==e._result.count)&&(t=!0,e._setResultData(l)),t):((!e._result||!Tx(e.collection.schema.primaryPath,l,e._result.docsData))&&(t=!0,e._setResultData(l)),t))):Promise.resolve(t)}async function dN(e){var t=[],r=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var n=e.isFindOneByIdQuery;if(n=n.filter(d=>{var p=e.collection._docCache.getLatestDocumentDataIfExists(d);return p?(p._deleted||t.push(p),!1):!0}),n.length>0){var i=await r.storageInstance.findDocumentsById(n,!1);Eu(t,i)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=await r.storageInstance.findDocumentsById([o],!1);s[0]&&(a=s[0])}a&&!a._deleted&&t.push(a)}else{var l=e.getPreparedQuery(),f=await r.storageInstance.query(l);t=f.documents}return t}function hN(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var r=t.selector[e];if(typeof r=="string")return r;if(Object.keys(r).length===1&&typeof r.$eq=="string"||Object.keys(r).length===1&&Array.isArray(r.$eq)&&!r.$eq.find(n=>typeof n!="string"))return r.$eq}return!1}var Zs="collection",Mv="storage-token",pN="rx-migration-status",mN="rx-pipeline-checkpoint",vN="RxInternalDocument",Av=VS({version:0,title:vN,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Zs,Mv,pN,mN,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Gp(e,t){return yv(Av,{key:e,context:t})}async function yE(e){var t=aE(e.schema,{selector:{context:Zs,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),r=await e.query(t),n=r.documents;return n}var gE="storageToken",yN=Gp(gE,Mv);async function gN(e){var t=Lf(10),r=e.password?await e.hashFunction(JSON.stringify(e.password)):void 0,n={id:yN,context:Mv,key:gE,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:r},_deleted:!1,_meta:pv(),_rev:mv(),_attachments:{}},i=[{document:n}],o=await e.internalStore.bulkWrite(i,"internal-add-storage-token");if(!o.error[0])return Mo("id",i,o)[0];var a=at(o.error[0]);if(a.isError&&zS(a)){var s=a;if(!wN(s.documentInDb.data.rxdbVersion,e.rxdbVersion))throw $e("DM5",{args:{database:e.name,databaseStateVersion:s.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(r&&r!==s.documentInDb.data.passwordHash)throw $e("DB1",{passwordHash:r,existingPasswordHash:s.documentInDb.data.passwordHash});var l=s.documentInDb;return at(l)}throw a}function wN(e,t){if(!e)return!1;var r=e.split(".")[0],n=t.split(".")[0];return r==="15"&&n==="16"?!0:r===n}function uw(e,t){return e+"-"+t.version}function Gl(e,t){return t=Vt(t),t=eT(e,t),typeof e.jsonSchema.primaryKey!="string"&&(t=Xx(e.primaryPath,e.jsonSchema,t)),t._meta=pv(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=mv()),t}async function _N(e,t){t.multiInstance=e.multiInstance;var r=await e.storage.createStorageInstance(t);return r}async function wE(e,t,r,n,i,o,a,s){var l=await yE(t),f=l.filter(w=>w.data.name===i),d=[];f.forEach(w=>{d.push({collectionName:w.data.name,schema:w.data.schema,isCollection:!0}),w.data.connectedStorages.forEach(_=>d.push({collectionName:_.collectionName,isCollection:!1,schema:_.schema}))});var p=new Set;if(d=d.filter(w=>{var _=w.collectionName+"||"+w.schema.version;return p.has(_)?!1:(p.add(_),!0)}),await Promise.all(d.map(async w=>{var _=await e.createStorageInstance({collectionName:w.collectionName,databaseInstanceToken:r,databaseName:n,multiInstance:o,options:{},schema:w.schema,password:a,devMode:Rt.isDevMode()});await _.remove(),w.isCollection&&await Gu("postRemoveRxCollection",{storage:e,databaseName:n,collectionName:i})})),s){var v=f.map(w=>{var _=Uf(w);return _._deleted=!0,_._meta.lwt=Ui(),_._rev=Ap(r,w),{previous:w,document:_}});await t.bulkWrite(v,"rx-database-remove-collection-all")}}function Rr(e){if(e.closed)throw $e("COL21",{collection:e.name,version:e.schema.version})}var SN=function(){function e(r){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=r,this.subs.push(this.collection.eventBulks$.pipe(Ar(n=>!n.isLocal)).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&jf().then(()=>{this.processTasks()})}))}var t=e.prototype;return t.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},t._handleChangeEvents=function(n){var i=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(Eu(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var o=i+1,a=this.eventCounterMap,s=0;s<n.length;s++){var l=n[s];a.set(l,o+s)}},t.getCounter=function(){return this.processTasks(),this.counter},t.getBuffer=function(){return this.processTasks(),this.buffer},t.getArrayIndexByPointer=function(n){this.processTasks();var i=this.buffer[0],o=this.eventCounterMap.get(i);if(n<o)return null;var a=n-o;return a},t.getFrom=function(n){this.processTasks();var i=[],o=this.getArrayIndexByPointer(n);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(n,i){this.processTasks();var o=this.getFrom(n);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0)},t.close=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},e}();function bN(e){return new SN(e)}var EN=new WeakMap;function PN(e){var t=e.schema.getDocumentPrototype(),r=CN(e),n=Ov,i={};return[t,r,n].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var l=Object.getOwnPropertyDescriptor(o,s),f=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(f=!1),typeof l.value=="function"?Object.defineProperty(i,s,{get(){return l.value.bind(this)},enumerable:f,configurable:!1}):(l.enumerable=f,l.configurable=!1,l.writable&&(l.writable=!1),Object.defineProperty(i,s,l))})}),i}function $N(e){return un(EN,e,()=>rD(PN(e)))}function kN(e,t,r){var n=nD(t,e,Rt.deepFreezeWhenDevMode(r));return e._runHooksSync("post","create",r,n),hr("postCreateRxDocument",n),n}function CN(e){var t={};return Object.entries(e.methods).forEach(([r,n])=>{t[r]=n}),t}var _E={isEqual(e,t,r){e=lw(e),t=lw(t);var n=sf(Fn(e),Fn(t));return n},resolve(e){return e.realMasterState}};function lw(e){return e._attachments||(e=Vt(e),e._attachments={}),e}var SE=["pre","post"],bE=["insert","save","remove","create"],cw=!1,ia=new Set,EE=function(){function e(r,n,i,o,a={},s={},l={},f={},d={},p=pE,v={},w=_E){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=QD(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.eventBulks$={},this.onClose=[],this.closed=!1,this.onRemove=[],this.database=r,this.name=n,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=l,this.attachments=f,this.options=d,this.cacheReplacementPolicy=p,this.statics=v,this.conflictHandler=w,ON(this.asRxCollection),r&&(this.eventBulks$=r.eventBulks$.pipe(Ar(_=>_.collectionName===this.name))),this.database&&ia.add(this)}var t=e.prototype;return t.prepare=async function(){if(!await HS()){for(var n=0;n<10&&ia.size>j0;)n++,await this.promiseWait(30);if(ia.size>j0)throw $e("COL23",{database:this.database.name,collection:this.name,args:{existing:Array.from(ia.values()).map(l=>({db:l.database?l.database.name:"",c:l.name}))}})}this.storageInstance=sE(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new eD(this.storageInstance,this.schema.primaryPath,(l,f)=>lE(this,l,f),l=>this._runHooks("post","save",l)),this.$=this.eventBulks$.pipe(Qu(l=>_b(l))),this.checkpoint$=this.eventBulks$.pipe(yn(l=>l.checkpoint)),this._changeEventBuffer=bN(this.asRxCollection);var i;this._docCache=new nN(this.schema.primaryPath,this.eventBulks$.pipe(Ar(l=>!l.isLocal),yn(l=>l.events)),l=>(i||(i=$N(this.asRxCollection)),kN(this.asRxCollection,i,l)));var o=this.database.internalStore.changeStream().pipe(Ar(l=>{var f=this.name+"-"+this.schema.version,d=l.events.find(p=>p.documentData.context==="collection"&&p.documentData.key===f&&p.operation==="DELETE");return!!d})).subscribe(async()=>{await this.close(),await Promise.all(this.onRemove.map(l=>l()))});this._subs.push(o);var a=await this.database.storageToken,s=this.storageInstance.changeStream().subscribe(l=>{var f={id:l.id,isLocal:!1,internal:!1,collectionName:this.name,storageToken:a,events:l.events,databaseToken:this.database.token,checkpoint:l.checkpoint,context:l.context};this.database.$emit(f)});return this._subs.push(s),bc},t.cleanup=function(n){throw Rr(this),He("cleanup")},t.migrationNeeded=function(){throw He("migration-schema")},t.getMigrationState=function(){throw He("migration-schema")},t.startMigration=function(n=10){return Rr(this),this.getMigrationState().startMigration(n)},t.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},t.insert=async function(n){Rr(this);var i=await this.bulkInsert([n]),o=i.error[0];cf(this,n[this.schema.primaryPath],n,o);var a=at(i.success[0]);return a},t.insertIfNotExists=async function(n){var i=await this.bulkInsert([n]);if(i.error.length>0){var o=i.error[0];if(o.status===409){var a=o.documentInDb;return Xp(this._docCache,[a])[0]}else throw o}return i.success[0]},t.bulkInsert=async function(n){if(Rr(this),n.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=new Set,a;if(this.hasHooks("pre","insert"))a=await Promise.all(n.map($=>{var g=Gl(this.schema,$);return this._runHooks("pre","insert",g).then(()=>(o.add(g[i]),{document:g}))}));else{a=new Array(n.length);for(var s=this.schema,l=0;l<n.length;l++){var f=n[l],d=Gl(s,f);o.add(d[i]),a[l]={document:d}}}if(o.size!==n.length)throw $e("COL22",{collection:this.name,args:{documents:n}});var p=await this.storageInstance.bulkWrite(a,"rx-collection-bulk-insert"),v,w=this,_={get success(){if(!v){var $=Mo(w.schema.primaryPath,a,p);v=Xp(w._docCache,$)}return v},error:p.error};if(this.hasHooks("post","insert")){var E=new Map;a.forEach($=>{var g=$.document;E.set(g[i],g)}),await Promise.all(_.success.map($=>this._runHooks("post","insert",E.get($.primary),$)))}return _},t.bulkRemove=async function(n){Rr(this);var i=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var o;typeof n[0]=="string"?o=await this.findByIds(n).exec():(o=new Map,n.forEach(w=>o.set(w.primary,w)));var a=[],s=new Map;Array.from(o.values()).forEach(w=>{var _=w.toMutableJSON(!0);a.push(_),s.set(w.primary,_)}),await Promise.all(a.map(w=>{var _=w[this.schema.primaryPath];return this._runHooks("pre","remove",w,o.get(_))}));var l=a.map(w=>{var _=Vt(w);return _._deleted=!0,{previous:w,document:_}}),f=await this.storageInstance.bulkWrite(l,"rx-collection-bulk-remove"),d=Mo(this.schema.primaryPath,l,f),p=[],v=d.map(w=>{var _=w[i],E=this._docCache.getCachedRxDocument(w);return p.push(E),_});return await Promise.all(v.map(w=>this._runHooks("post","remove",s.get(w),o.get(w)))),{success:p,error:f.error}},t.bulkUpsert=async function(n){Rr(this);var i=[],o=new Map;n.forEach(f=>{var d=Gl(this.schema,f),p=d[this.schema.primaryPath];if(!p)throw $e("COL3",{primaryPath:this.schema.primaryPath,data:d,schema:this.schema.jsonSchema});o.set(p,d),i.push(d)});var a=await this.bulkInsert(i),s=a.success.slice(0),l=[];return await Promise.all(a.error.map(async f=>{if(f.status!==409)l.push(f);else{var d=f.documentId,p=uf(o,d),v=at(f.documentInDb),w=this._docCache.getCachedRxDocuments([v])[0],_=await w.incrementalModify(()=>p);s.push(_)}})),{error:l,success:s}},t.upsert=async function(n){Rr(this);var i=await this.bulkUpsert([n]);return cf(this.asRxCollection,n[this.schema.primaryPath],n,i.error[0]),i.success[0]},t.incrementalUpsert=function(n){Rr(this);var i=Gl(this.schema,n),o=i[this.schema.primaryPath];if(!o)throw $e("COL4",{data:n});var a=this._incrementalUpsertQueues.get(o);return a||(a=bc),a=a.then(()=>TN(this,o,i)).then(s=>s.inserted?s.doc:xN(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(n){Rr(this),hr("prePrepareRxQuery",{op:"find",queryObj:n,collection:this}),n||(n=kc());var i=Rs("find",n,this);return i},t.findOne=function(n){Rr(this),hr("prePrepareRxQuery",{op:"findOne",queryObj:n,collection:this});var i;if(typeof n=="string")i=Rs("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=kc()),n.limit)throw $e("QU6");n=Vt(n),n.limit=1,i=Rs("findOne",n,this)}return i},t.count=function(n){Rr(this),n||(n=kc());var i=Rs("count",n,this);return i},t.findByIds=function(n){Rr(this);var i={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},o=Rs("findByIds",i,this);return o},t.exportJSON=function(){throw He("json-dump")},t.importJSON=function(n){throw He("json-dump")},t.insertCRDT=function(n){throw He("crdt")},t.addPipeline=function(n){throw He("pipeline")},t.addHook=function(n,i,o,a=!1){if(typeof o!="function")throw jp("COL7",{key:i,when:n});if(!SE.includes(n))throw jp("COL8",{key:i,when:n});if(!bE.includes(i))throw $e("COL9",{key:i});if(n==="post"&&i==="create"&&a===!0)throw $e("COL10",{when:n,key:i,parallel:a});var s=o.bind(this),l=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][l].push(s)},t.getHooks=function(n,i){return!this.hooks[i]||!this.hooks[i][n]?{series:[],parallel:[]}:this.hooks[i][n]},t.hasHooks=function(n,i){if(!this.hooks[i]||!this.hooks[i][n])return!1;var o=this.getHooks(n,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(n,i,o,a){var s=this.getHooks(n,i);if(!s)return bc;var l=s.series.map(f=>()=>f(o,a));return Ux(l).then(()=>Promise.all(s.parallel.map(f=>f(o,a))))},t._runHooksSync=function(n,i,o,a){if(this.hasHooks(n,i)){var s=this.getHooks(n,i);s&&s.series.forEach(l=>l(o,a))}},t.promiseWait=function(n){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},n);this.timeouts.add(a)});return i},t.close=async function(){return this.closed?Wa:(ia.delete(this),await Promise.all(this.onClose.map(n=>n())),this.closed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.close(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Gu("postCloseRxCollection",this).then(()=>!0))))},t.remove=async function(){await this.close(),await Promise.all(this.onRemove.map(n=>n())),await wE(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.multiInstance,this.database.password,this.database.hashFunction)},Wi(e,[{key:"insert$",get:function(){return this.$.pipe(Ar(r=>r.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(Ar(r=>r.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(Ar(r=>r.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function ON(e){if(!cw){cw=!0;var t=Object.getPrototypeOf(e);bE.forEach(r=>{SE.map(n=>{var i=n+FS(r);t[i]=function(o,a){return this.addHook(n,r,o,a)}})})}}function xN(e,t){return e.incrementalModify(r=>t)}function TN(e,t,r){var n=e._docCache.getLatestDocumentDataIfExists(t);return n?Promise.resolve({doc:e._docCache.getCachedRxDocuments([n])[0],inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(r).then(o=>({doc:o,inserted:!0})))}async function RN({database:e,name:t,schema:r,instanceCreationOptions:n={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:l={},options:f={},localDocuments:d=!1,cacheReplacementPolicy:p=pE,conflictHandler:v=_E}){var w={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:r.jsonSchema,options:n,multiInstance:e.multiInstance,password:e.password,devMode:Rt.isDevMode()};hr("preCreateRxStorageInstance",w);var _=await _N(e,w),E=new EE(e,t,r,_,n,i,s,l,f,p,a,v);try{await E.prepare(),Object.entries(a).forEach(([$,g])=>{Object.defineProperty(E,$,{get:()=>g.bind(E)})}),hr("createRxCollection",{collection:E,creator:{name:t,schema:r,storageInstance:_,instanceCreationOptions:n,migrationStrategies:i,methods:s,attachments:l,options:f,cacheReplacementPolicy:p,localDocuments:d,statics:a}}),o&&E.schema.version!==0&&await E.migratePromise()}catch($){throw ia.delete(E),await _.close(),$}return E}var PE=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};PE.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Qp(this)},wrapCall:function(t){var r=this;this._qC++;var n;try{n=t()}catch(i){throw this.unlock(),i}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(i){return r.unlock(),i}).catch(function(i){throw r.unlock(),i})},requestIdlePromise:function(t){var r=this;t=t||{};var n,i=new Promise(function(s){return n=s}),o=function(){Eh(r,i),n()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),Qp(this),i},cancelIdlePromise:function(t){Eh(this,t)},requestIdleCallback:function(t,r){var n=this._lHN++,i=this.requestIdlePromise(r);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return t()}),n},cancelIdleCallback:function(t){var r=this._hPM.get(t);this.cancelIdlePromise(r)},clear:function(){var t=this;this._iC.forEach(function(r){return Eh(t,r)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function DN(e){if(e._iC.size!==0){var t=e._iC.values(),r=t.next().value;r._manRes(),setTimeout(function(){return Qp(e)},0)}}function Eh(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var r=e._pHM.get(t);e._hPM.delete(r),e._pHM.delete(t)}e._iC.delete(t)}}function Qp(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}DN(e),e._tryIR=!1},0)},0))}class Iv{constructor(t){oo(this,"ttl");oo(this,"map",new Map);oo(this,"_to",!1);this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,$E()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,NN(this)},0))}clear(){this.map.clear()}}function NN(e){const t=$E()-e.ttl,r=e.map[Symbol.iterator]();for(;;){const n=r.next().value;if(!n)return;const i=n[0];if(n[1]<t)e.map.delete(i);else return}}function $E(){return Date.now()}var Zp=new Set,fw=new Map,kE=function(){function e(r,n,i,o,a,s,l=!1,f={},d,p,v,w,_,E){this.idleQueue=new PE,this.rxdbVersion=qS,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onClose=[],this.closed=!1,this.collections={},this.states={},this.eventBulks$=new Fo,this.closePromise=null,this.observable$=this.eventBulks$.pipe(Qu($=>_b($))),this.storageToken=Wa,this.storageTokenDocument=Wa,this.emittedEventBulkIds=new Iv(60*1e3),this.name=r,this.token=n,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=l,this.options=f,this.internalStore=d,this.hashFunction=p,this.cleanupPolicy=v,this.allowSlowCount=w,this.reactivity=_,this.onClosed=E,this.name!=="pseudoInstance"&&(this.internalStore=sE(this.asRxDatabase,d,Av),this.storageTokenDocument=gN(this.asRxDatabase).catch($=>this.startupErrors.push($)),this.storageToken=this.storageTokenDocument.then($=>$.data.token).catch($=>this.startupErrors.push($)))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw $e("DB14",{database:this.name});return this.reactivity},t.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},t.removeCollectionDoc=async function(n,i){var o=await VR(this.internalStore,Gp(uw(n,i),Zs));if(!o)throw $e("SNH",{name:n,schema:i});var a=Uf(o);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")},t.addCollections=async function(n){var i={},o={},a=[],s={};await Promise.all(Object.entries(n).map(async([d,p])=>{var v=d,w=p.schema;i[v]=w;var _=rT(w,this.hashFunction);if(o[v]=_,this.collections[d])throw $e("DB3",{name:d});var E=uw(d,w),$={id:Gp(E,Zs),key:E,context:Zs,data:{name:v,schemaHash:await _.hash,schema:_.jsonSchema,version:_.version,connectedStorages:[]},_deleted:!1,_meta:pv(),_rev:mv(),_attachments:{}};a.push({document:$});var g=Object.assign({},p,{name:v,schema:_,database:this}),y=Vt(p);y.database=this,y.name=d,hr("preCreateRxCollection",y),g.conflictHandler=y.conflictHandler,s[v]=g}));var l=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await zN(this),await Promise.all(l.error.map(async d=>{if(d.status!==409)throw $e("DB12",{database:this.name,writeError:d});var p=at(d.documentInDb),v=p.data.name,w=o[v];if(p.data.schemaHash!==await w.hash)throw $e("DB6",{database:this.name,collection:v,previousSchemaHash:p.data.schemaHash,schemaHash:await w.hash,previousSchema:p.data.schema,schema:at(i[v])})}));var f={};return await Promise.all(Object.keys(n).map(async d=>{var p=s[d],v=await RN(p);f[d]=v,this.collections[d]=v,this[d]||Object.defineProperty(this,d,{get:()=>this.collections[d]})})),f},t.lockedRun=function(n){return this.idleQueue.wrapCall(n)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(n){throw He("json-dump")},t.addState=function(n){throw He("state")},t.importJSON=function(n){throw He("json-dump")},t.backup=function(n){throw He("backup")},t.leaderElector=function(){throw He("leader-election")},t.isLeader=function(){throw He("leader-election")},t.waitForLeadership=function(){throw He("leader-election")},t.migrationStates=function(){throw He("migration-schema")},t.close=function(){if(this.closePromise)return this.closePromise;var{promise:n,resolve:i}=CE(),o=a=>{this.onClosed&&this.onClosed(),this.closed=!0,i(a)};return this.closePromise=n,(async()=>{if(await Gu("preCloseRxDatabase",this),this.eventBulks$.complete(),this._subs.map(a=>a.unsubscribe()),this.name==="pseudoInstance"){o(!1);return}return this.requestIdlePromise().then(()=>Promise.all(this.onClose.map(a=>a()))).then(()=>Promise.all(Object.keys(this.collections).map(a=>this.collections[a]).map(a=>a.close()))).then(()=>this.internalStore.close()).then(()=>o(!0))})(),n},t.remove=function(){return this.close().then(()=>IN(this.name,this.storage,this.multiInstance,this.password))},Wi(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function MN(e,t){if(Zp.has(OE(e,t)))throw $e("DB8",{name:e,storage:t.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function CE(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}function OE(e,t){return t.name+"|"+e}async function xE(e,t,r,n,i,o){var a=await t.createStorageInstance({databaseInstanceToken:e,databaseName:r,collectionName:HR,schema:Av,options:n,multiInstance:i,password:o,devMode:Rt.isDevMode()});return a}function AN({storage:e,instanceCreationOptions:t,name:r,password:n,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:l,closeDuplicates:f=!1,allowSlowCount:d=!1,localDocuments:p=!1,hashFunction:v=LS,reactivity:w}){hr("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:r,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:p});var _=OE(r,e),E=fw.get(_)||new Set,$=CE(),g=Array.from(E),y=()=>{E.delete($.promise),Zp.delete(_)};return E.add($.promise),fw.set(_,E),(async()=>{if(f&&await Promise.all(g.map(B=>B.catch(()=>null).then(F=>F&&F.close()))),a){if(!Rt.isDevMode())throw $e("DB9",{database:r})}else MN(r,e);Zp.add(_);var b=Lf(10),O=await xE(b,e,r,t,i,n),T=new kE(r,b,e,t,n,i,o,s,O,v,l,d,w,y);return await Gu("createRxDatabase",{database:T,creator:{storage:e,instanceCreationOptions:t,name:r,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:p}}),T})().then(b=>{$.resolve(b)}).catch(b=>{$.reject(b),y()}),$.promise}async function IN(e,t,r=!0,n){var i=Lf(10),o=await xE(i,t,e,{},r,n),a=await yE(o),s=new Set;a.forEach(f=>s.add(f.data.name));var l=Array.from(s);return await Promise.all(l.map(f=>wE(t,o,i,e,f,r,n))),await Gu("postRemoveRxDatabase",{databaseName:e,storage:t}),await o.remove(),l}async function zN(e){if(await e.storageToken,e.startupErrors[0])throw e.startupErrors[0]}var jN={RxSchema:XS.prototype,RxDocument:Ov,RxQuery:mE.prototype,RxCollection:EE.prototype,RxDatabase:kE.prototype},Ph=new Set,dw=new Set;function LN(e){if(hr("preAddRxPlugin",{plugin:e,plugins:Ph}),!Ph.has(e)){{if(dw.has(e.name))throw $e("PL3",{name:e.name,plugin:e});Ph.add(e),dw.add(e.name)}if(!e.rxdb)throw jp("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,r])=>r(jN[t])),e.overwritable&&Object.assign(Rt,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,r])=>{r.after&&ku[t].push(r.after),r.before&&ku[t].unshift(r.before)})}}function FN(e){return e&&typeof e.then=="function"}Promise.resolve(!1);Promise.resolve(!0);var $o=Promise.resolve();function TE(e,t){return e||(e=0),new Promise(function(r){return setTimeout(function(){return r(t)},e)})}function BN(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function zv(){return Math.random().toString(36).substring(2)}var $h=0;function el(){var e=Date.now()*1e3;return e<=$h&&(e=$h+1),$h=e,e}var KN=el,WN="native";function UN(e){var t={time:el(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t}function qN(e){e.bc.close(),e.subFns=[]}function HN(e,t){try{return e.bc.postMessage(t,!1),$o}catch(r){return Promise.reject(r)}}function VN(e,t){e.messagesCallback=t}function YN(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function XN(){return 150}var GN={create:UN,close:qN,onMessage:VN,postMessage:HN,canBeUsed:YN,type:WN,averageResponseTime:XN,microSeconds:KN};function jv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var QN=el,ZN="pubkey.broadcast-channel-0-",Gn="messages",qf={durability:"relaxed"},JN="idb";function RE(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Lv(e){e.commit&&e.commit()}function eM(e){var t=RE(),r=ZN+e,n=t.open(r);return n.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Gn,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){n.onerror=function(a){return o(a)},n.onsuccess=function(){i(n.result)}})}function tM(e,t,r){var n=Date.now(),i={uuid:t,time:n,data:r},o=e.transaction([Gn],"readwrite",qf);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(f){return s(f)};var l=o.objectStore(Gn);l.add(i),Lv(o)})}function rM(e,t){var r=e.transaction(Gn,"readonly",qf),n=r.objectStore(Gn),i=[],o=IDBKeyRange.bound(t+1,1/0);if(n.getAll){var a=n.getAll(o);return new Promise(function(l,f){a.onerror=function(d){return f(d)},a.onsuccess=function(d){l(d.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),n.openCursor(o)}catch{return n.openCursor()}}return new Promise(function(l,f){var d=s();d.onerror=function(p){return f(p)},d.onsuccess=function(p){var v=p.target.result;v?v.value.id<t+1?v.continue(t+1):(i.push(v.value),v.continue()):(Lv(r),l(i))}})}function nM(e,t){if(e.closed)return Promise.resolve([]);var r=e.db.transaction(Gn,"readwrite",qf),n=r.objectStore(Gn);return Promise.all(t.map(function(i){var o=n.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function iM(e,t){var r=Date.now()-t,n=e.transaction(Gn,"readonly",qf),i=n.objectStore(Gn),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var l=s.target.result;if(l){var f=l.value;f.time<r?(o.push(f),l.continue()):(Lv(n),a(o))}else a(o)}})}function oM(e){return iM(e.db,e.options.idb.ttl).then(function(t){return nM(e,t.map(function(r){return r.id}))})}function aM(e,t){return t=jv(t),eM(e).then(function(r){var n={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:zv(),eMIs:new Iv(t.idb.ttl*2),writeBlockPromise:$o,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,t.idb.onclose&&t.idb.onclose()},DE(n),n})}function DE(e){e.closed||NE(e).then(function(){return TE(e.options.idb.fallbackInterval)}).then(function(){return DE(e)})}function sM(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function NE(e){return e.closed||!e.messagesCallback?$o:rM(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(n){return!!n}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return sM(n,e)}).sort(function(n,i){return n.time-i.time});return r.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),$o})}function uM(e){e.closed=!0,e.db.close()}function lM(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return tM(e.db,e.uuid,t)}).then(function(){BN(0,10)===0&&oM(e)}),e.writeBlockPromise}function cM(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,NE(e)}function fM(){return!!RE()}function dM(e){return e.idb.fallbackInterval*2}var hM={create:aM,close:uM,onMessage:cM,postMessage:lM,canBeUsed:fM,type:JN,averageResponseTime:dM,microSeconds:QN},pM=el,mM="pubkey.broadcastChannel-",vM="localstorage";function ME(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function AE(e){return mM+e}function yM(e,t){return new Promise(function(r){TE().then(function(){var n=AE(e.channelName),i={token:zv(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);ME().setItem(n,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=n,a.newValue=o,window.dispatchEvent(a),r()})})}function gM(e,t){var r=AE(e),n=function(o){o.key===r&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",n),n}function wM(e){window.removeEventListener("storage",e)}function _M(e,t){if(t=jv(t),!IE())throw new Error("BroadcastChannel: localstorage cannot be used");var r=zv(),n=new Iv(t.localstorage.removeTimeout),i={channelName:e,uuid:r,eMIs:n};return i.listener=gM(e,function(o){i.messagesCallback&&o.uuid!==r&&(!o.token||n.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(n.add(o.token),i.messagesCallback(o.data)))}),i}function SM(e){wM(e.listener)}function bM(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t}function IE(){var e=ME();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function EM(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var PM={create:_M,close:SM,onMessage:bM,postMessage:yM,canBeUsed:IE,type:vM,averageResponseTime:EM,microSeconds:pM},zE=el,$M="simulate",Fv=new Set;function kM(e){var t={time:zE(),name:e,messagesCallback:null};return Fv.add(t),t}function CM(e){Fv.delete(e)}var jE=5;function OM(e,t){return new Promise(function(r){return setTimeout(function(){var n=Array.from(Fv);n.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),r()},jE)})}function xM(e,t){e.messagesCallback=t}function TM(){return!0}function RM(){return jE}var DM={create:kM,close:CM,onMessage:xM,postMessage:OM,canBeUsed:TM,type:$M,averageResponseTime:RM,microSeconds:zE},hw=[GN,hM,PM];function NM(e){var t=[].concat(e.methods,hw).filter(Boolean);if(e.type){if(e.type==="simulate")return DM;var r=t.find(function(i){return i.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var n=t.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(hw.map(function(i){return i.type})))}var LE=new Set,MM=0,Bv=function(t,r){this.id=MM++,LE.add(this),this.name=t,pw&&(r=pw),this.options=jv(r),this.method=NM(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,AM(this)};Bv._pubkey=!0;var pw;Bv.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return mw(this,"message",t)},postInternal:function(t){return mw(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),r={time:t,fn:e};yw(this,"message",this._onML),e&&typeof e=="function"?(this._onML=r,vw(this,"message",r)):this._onML=null},addEventListener:function(t,r){var n=this.method.microSeconds(),i={time:n,fn:r};vw(this,t,i)},removeEventListener:function(t,r){var n=this._addEL[t].find(function(i){return i.fn===r});yw(this,t,n)},close:function(){var t=this;if(!this.closed){LE.delete(this),this.closed=!0;var r=this._prepP?this._prepP:$o;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function mw(e,t,r){var n=e.method.microSeconds(),i={time:n,type:t,data:r},o=e._prepP?e._prepP:$o;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function AM(e){var t=e.method.create(e.name,e.options);FN(t)?(e._prepP=t,t.then(function(r){e._state=r})):e._state=t}function FE(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function vw(e,t,r){e._addEL[t].push(r),IM(e)}function yw(e,t,r){e._addEL[t]=e._addEL[t].filter(function(n){return n!==r}),zM(e)}function IM(e){if(!e._iL&&FE(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}function zM(e){if(e._iL&&!FE(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var ff=new Map;function jM(e,t,r,n){var i=ff.get(t);return i||(i={bc:new Bv(["RxDB:",e,r].join("|")),refs:new Set},ff.set(t,i)),i.refs.add(n),i.bc}function gw(e,t){var r=ff.get(e);if(r&&(r.refs.delete(t),r.refs.size===0))return ff.delete(e),r.bc.close()}function LM(e,t,r,n){if(t.multiInstance){var i=n||jM(e,t.databaseInstanceToken,r.databaseName,r),o=new Fo,a=v=>{v.storageName===e&&v.databaseName===t.databaseName&&v.collectionName===t.collectionName&&v.version===t.schema.version&&o.next(v.eventBulk)};i.addEventListener("message",a);var s=r.changeStream(),l=!1,f=s.subscribe(v=>{l||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:v})});r.changeStream=function(){return o.asObservable().pipe(AT(s))};var d=r.close.bind(r);r.close=async function(){return l=!0,f.unsubscribe(),i.removeEventListener("message",a),n||await gw(t.databaseInstanceToken,r),d()};var p=r.remove.bind(r);r.remove=async function(){return l=!0,f.unsubscribe(),i.removeEventListener("message",a),n||await gw(t.databaseInstanceToken,r),p()}}}var FM=new Map;function BM(e,t){var r=un(FM,t,()=>new Map);function n(i){return un(r,JSON.stringify(i),()=>e(i))}return i=>Object.assign({},i.storage,{name:"validate-"+t+"-"+i.storage.name,async createStorageInstance(o){var a=await i.storage.createStorageInstance(o),s=qi(o.schema.primaryKey),l;Wx(()=>l=n(o.schema));var f=a.bulkWrite.bind(a);return a.bulkWrite=(d,p)=>{l||(l=n(o.schema));var v=[],w=[];d.forEach(E=>{var $=E.document[s],g=l(E.document);g.length>0?v.push({status:422,isError:!0,documentId:$,writeRow:E,validationErrors:g,schema:a.schema}):w.push(E)});var _=w.length>0?f(w,p):Promise.resolve({error:[],success:[]});return _.then(E=>(v.forEach($=>{E.error.push($)}),E))},a}})}var BE={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gg,function(){var r=function(u,c){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(h[S]=m[S])})(u,c)},n=function(){return(n=Object.assign||function(u){for(var c,h=1,m=arguments.length;h<m;h++)for(var S in c=arguments[h])Object.prototype.hasOwnProperty.call(c,S)&&(u[S]=c[S]);return u}).apply(this,arguments)};function i(u,c,h){if(h||arguments.length===2)for(var m,S=0,P=c.length;S<P;S++)!m&&S in c||((m=m||Array.prototype.slice.call(c,0,S))[S]=c[S]);return u.concat(m||Array.prototype.slice.call(c))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:gg,a=Object.keys,s=Array.isArray;function l(u,c){return typeof c!="object"||a(c).forEach(function(h){u[h]=c[h]}),u}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function p(u,c){return d.call(u,c)}function v(u,c){typeof c=="function"&&(c=c(f(u))),(typeof Reflect>"u"?a:Reflect.ownKeys)(c).forEach(function(h){_(u,h,c[h])})}var w=Object.defineProperty;function _(u,c,h,m){w(u,c,l(h&&p(h,"get")&&typeof h.get=="function"?{get:h.get,set:h.set,configurable:!0}:{value:h,configurable:!0,writable:!0},m))}function E(u){return{from:function(c){return u.prototype=Object.create(c.prototype),_(u.prototype,"constructor",u),{extend:v.bind(null,u.prototype)}}}}var $=Object.getOwnPropertyDescriptor,g=[].slice;function y(u,c,h){return g.call(u,c,h)}function b(u,c){return c(u)}function O(u){if(!u)throw new Error("Assertion Failed")}function T(u){o.setImmediate?setImmediate(u):setTimeout(u,0)}function B(u,c){if(typeof c=="string"&&p(u,c))return u[c];if(!c)return u;if(typeof c!="string"){for(var h=[],m=0,S=c.length;m<S;++m){var P=B(u,c[m]);h.push(P)}return h}var C=c.indexOf(".");if(C!==-1){var x=u[c.substr(0,C)];return x==null?void 0:B(x,c.substr(C+1))}}function F(u,c,h){if(u&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof c!="string"&&"length"in c){O(typeof h!="string"&&"length"in h);for(var m=0,S=c.length;m<S;++m)F(u,c[m],h[m])}else{var P,C,x=c.indexOf(".");x!==-1?(P=c.substr(0,x),(C=c.substr(x+1))===""?h===void 0?s(u)&&!isNaN(parseInt(P))?u.splice(P,1):delete u[P]:u[P]=h:F(x=!(x=u[P])||!p(u,P)?u[P]={}:x,C,h)):h===void 0?s(u)&&!isNaN(parseInt(c))?u.splice(c,1):delete u[c]:u[c]=h}}function Q(u){var c,h={};for(c in u)p(u,c)&&(h[c]=u[c]);return h}var de=[].concat;function se(u){return de.apply([],u)}var Tn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(se([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(c){return c+u+"Array"})}))).filter(function(u){return o[u]}),te=new Set(Tn.map(function(u){return o[u]})),ie=null;function we(u){return ie=new WeakMap,u=function c(h){if(!h||typeof h!="object")return h;var m=ie.get(h);if(m)return m;if(s(h)){m=[],ie.set(h,m);for(var S=0,P=h.length;S<P;++S)m.push(c(h[S]))}else if(te.has(h.constructor))m=h;else{var C,x=f(h);for(C in m=x===Object.prototype?{}:Object.create(x),ie.set(h,m),h)p(h,C)&&(m[C]=c(h[C]))}return m}(u),ie=null,u}var Se={}.toString;function Re(u){return Se.call(u).slice(8,-1)}var Fe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ue=typeof Fe=="symbol"?function(u){var c;return u!=null&&(c=u[Fe])&&c.apply(u)}:function(){return null};function J(u,c){return c=u.indexOf(c),0<=c&&u.splice(c,1),0<=c}var pe={};function H(u){var c,h,m,S;if(arguments.length===1){if(s(u))return u.slice();if(this===pe&&typeof u=="string")return[u];if(S=Ue(u)){for(h=[];!(m=S.next()).done;)h.push(m.value);return h}if(u==null)return[u];if(typeof(c=u.length)!="number")return[u];for(h=new Array(c);c--;)h[c]=u[c];return h}for(c=arguments.length,h=new Array(c);c--;)h[c]=arguments[c];return h}var I=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},On=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(On),G={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function K(u,c){this.name=u,this.message=c}function k(u,c){return u+". Errors: "+Object.keys(c).map(function(h){return c[h].toString()}).filter(function(h,m,S){return S.indexOf(h)===m}).join(`
`)}function D(u,c,h,m){this.failures=c,this.failedKeys=m,this.successCount=h,this.message=k(u,c)}function X(u,c){this.name="BulkError",this.failures=Object.keys(c).map(function(h){return c[h]}),this.failuresByPos=c,this.message=k(u,this.failures)}E(K).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(D).from(K),E(X).from(K);var ve=Tr.reduce(function(u,c){return u[c]=c+"Error",u},{}),_e=K,oe=Tr.reduce(function(u,c){var h=c+"Error";function m(S,P){this.name=h,S?typeof S=="string"?(this.message="".concat(S).concat(P?`
 `+P:""),this.inner=P||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=G[c]||h,this.inner=null)}return E(m).from(_e),u[c]=m,u},{});oe.Syntax=SyntaxError,oe.Type=TypeError,oe.Range=RangeError;var Ie=On.reduce(function(u,c){return u[c+"Error"]=oe[c],u},{}),Xe=Tr.reduce(function(u,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(u[c+"Error"]=oe[c]),u},{});function ze(){}function qr(u){return u}function ss(u,c){return u==null||u===qr?c:function(h){return c(u(h))}}function Hr(u,c){return function(){u.apply(this,arguments),c.apply(this,arguments)}}function us(u,c){return u===ze?c:function(){var h=u.apply(this,arguments);h!==void 0&&(arguments[0]=h);var m=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var P=c.apply(this,arguments);return m&&(this.onsuccess=this.onsuccess?Hr(m,this.onsuccess):m),S&&(this.onerror=this.onerror?Hr(S,this.onerror):S),P!==void 0?P:h}}function ls(u,c){return u===ze?c:function(){u.apply(this,arguments);var h=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?Hr(h,this.onsuccess):h),m&&(this.onerror=this.onerror?Hr(m,this.onerror):m)}}function cs(u,c){return u===ze?c:function(h){var m=u.apply(this,arguments);l(h,m);var S=this.onsuccess,P=this.onerror;return this.onsuccess=null,this.onerror=null,h=c.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Hr(S,this.onsuccess):S),P&&(this.onerror=this.onerror?Hr(P,this.onerror):P),m===void 0?h===void 0?void 0:h:l(m,h)}}function fs(u,c){return u===ze?c:function(){return c.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function Xi(u,c){return u===ze?c:function(){var h=u.apply(this,arguments);if(h&&typeof h.then=="function"){for(var m=this,S=arguments.length,P=new Array(S);S--;)P[S]=arguments[S];return h.then(function(){return c.apply(m,P)})}return c.apply(this,arguments)}}Xe.ModifyError=D,Xe.DexieError=K,Xe.BulkError=X;var ir=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ko(u){ir=u}var Cn={},Wo=100,Tn=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,f(u),u];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,f(c),u]}(),On=Tn[0],Tr=Tn[1],Tn=Tn[2],Tr=Tr&&Tr.then,mr=On&&On.constructor,Gi=!!Tn,ei=function(u,c){ds.push([u,c]),qo&&(queueMicrotask(h$),qo=!1)},Uo=!0,qo=!0,Qi=[],il=[],nd=qr,ti={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ze,pgp:!1,env:{},finalize:ze},be=ti,ds=[],Zi=0,ol=[];function he(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=be;if(typeof u!="function"){if(u!==Cn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&od(this,this._value))}this._state=null,this._value=null,++c.ref,function h(m,S){try{S(function(P){if(m._state===null){if(P===m)throw new TypeError("A promise cannot be resolved with itself.");var C=m._lib&&Ho();P&&typeof P.then=="function"?h(m,function(x,N){P instanceof he?P._then(x,N):P.then(x,N)}):(m._state=!0,m._value=P,By(m)),C&&Vo()}},od.bind(null,m))}catch(P){od(m,P)}}(this,u)}var id={get:function(){var u=be,c=ll;function h(m,S){var P=this,C=!u.global&&(u!==be||c!==ll),x=C&&!ni(),N=new he(function(A,L){ad(P,new Fy(Wy(m,u,C,x),Wy(S,u,C,x),A,L,u))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return h.prototype=Cn,h},set:function(u){_(this,"then",u&&u.prototype===Cn?id:{get:function(){return u},set:id.set})}};function Fy(u,c,h,m,S){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof c=="function"?c:null,this.resolve=h,this.reject=m,this.psd=S}function od(u,c){var h,m;il.push(c),u._state===null&&(h=u._lib&&Ho(),c=nd(c),u._state=!1,u._value=c,m=u,Qi.some(function(S){return S._value===m._value})||Qi.push(m),By(u),h&&Vo())}function By(u){var c=u._listeners;u._listeners=[];for(var h=0,m=c.length;h<m;++h)ad(u,c[h]);var S=u._PSD;--S.ref||S.finalize(),Zi===0&&(++Zi,ei(function(){--Zi==0&&sd()},[]))}function ad(u,c){if(u._state!==null){var h=u._state?c.onFulfilled:c.onRejected;if(h===null)return(u._state?c.resolve:c.reject)(u._value);++c.psd.ref,++Zi,ei(d$,[h,u,c])}else u._listeners.push(c)}function d$(u,c,h){try{var m,S=c._value;!c._state&&il.length&&(il=[]),m=ir&&c._consoleTask?c._consoleTask.run(function(){return u(S)}):u(S),c._state||il.indexOf(S)!==-1||function(P){for(var C=Qi.length;C;)if(Qi[--C]._value===P._value)return Qi.splice(C,1)}(c),h.resolve(m)}catch(P){h.reject(P)}finally{--Zi==0&&sd(),--h.psd.ref||h.psd.finalize()}}function h$(){Ji(ti,function(){Ho()&&Vo()})}function Ho(){var u=Uo;return qo=Uo=!1,u}function Vo(){var u,c,h;do for(;0<ds.length;)for(u=ds,ds=[],h=u.length,c=0;c<h;++c){var m=u[c];m[0].apply(null,m[1])}while(0<ds.length);qo=Uo=!0}function sd(){var u=Qi;Qi=[],u.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)});for(var c=ol.slice(0),h=c.length;h;)c[--h]()}function al(u){return new he(Cn,!1,u)}function rt(u,c){var h=be;return function(){var m=Ho(),S=be;try{return ii(h,!0),u.apply(this,arguments)}catch(P){c&&c(P)}finally{ii(S,!1),m&&Vo()}}}v(he.prototype,{then:id,_then:function(u,c){ad(this,new Fy(null,null,u,c,be))},catch:function(u){if(arguments.length===1)return this.then(null,u);var c=u,h=arguments[1];return typeof c=="function"?this.then(null,function(m){return(m instanceof c?h:al)(m)}):this.then(null,function(m){return(m&&m.name===c?h:al)(m)})},finally:function(u){return this.then(function(c){return he.resolve(u()).then(function(){return c})},function(c){return he.resolve(u()).then(function(){return al(c)})})},timeout:function(u,c){var h=this;return u<1/0?new he(function(m,S){var P=setTimeout(function(){return S(new oe.Timeout(c))},u);h.then(m,S).finally(clearTimeout.bind(null,P))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(he.prototype,Symbol.toStringTag,"Dexie.Promise"),ti.env=Ky(),v(he,{all:function(){var u=H.apply(null,arguments).map(cl);return new he(function(c,h){u.length===0&&c([]);var m=u.length;u.forEach(function(S,P){return he.resolve(S).then(function(C){u[P]=C,--m||c(u)},h)})})},resolve:function(u){return u instanceof he?u:u&&typeof u.then=="function"?new he(function(c,h){u.then(c,h)}):new he(Cn,!0,u)},reject:al,race:function(){var u=H.apply(null,arguments).map(cl);return new he(function(c,h){u.map(function(m){return he.resolve(m).then(c,h)})})},PSD:{get:function(){return be},set:function(u){return be=u}},totalEchoes:{get:function(){return ll}},newPSD:ri,usePSD:Ji,scheduler:{get:function(){return ei},set:function(u){ei=u}},rejectionMapper:{get:function(){return nd},set:function(u){nd=u}},follow:function(u,c){return new he(function(h,m){return ri(function(S,P){var C=be;C.unhandleds=[],C.onunhandled=P,C.finalize=Hr(function(){var x,N=this;x=function(){N.unhandleds.length===0?S():P(N.unhandleds[0])},ol.push(function A(){x(),ol.splice(ol.indexOf(A),1)}),++Zi,ei(function(){--Zi==0&&sd()},[])},C.finalize),u()},c,h,m)})}}),mr&&(mr.allSettled&&_(he,"allSettled",function(){var u=H.apply(null,arguments).map(cl);return new he(function(c){u.length===0&&c([]);var h=u.length,m=new Array(h);u.forEach(function(S,P){return he.resolve(S).then(function(C){return m[P]={status:"fulfilled",value:C}},function(C){return m[P]={status:"rejected",reason:C}}).then(function(){return--h||c(m)})})})}),mr.any&&typeof AggregateError<"u"&&_(he,"any",function(){var u=H.apply(null,arguments).map(cl);return new he(function(c,h){u.length===0&&h(new AggregateError([]));var m=u.length,S=new Array(m);u.forEach(function(P,C){return he.resolve(P).then(function(x){return c(x)},function(x){S[C]=x,--m||h(new AggregateError(S))})})})}),mr.withResolvers&&(he.withResolvers=mr.withResolvers));var $t={awaits:0,echoes:0,id:0},p$=0,sl=[],ul=0,ll=0,m$=0;function ri(u,c,h,m){var S=be,P=Object.create(S);return P.parent=S,P.ref=0,P.global=!1,P.id=++m$,ti.env,P.env=Gi?{Promise:he,PromiseProp:{value:he,configurable:!0,writable:!0},all:he.all,race:he.race,allSettled:he.allSettled,any:he.any,resolve:he.resolve,reject:he.reject}:{},c&&l(P,c),++S.ref,P.finalize=function(){--this.parent.ref||this.parent.finalize()},m=Ji(P,u,h,m),P.ref===0&&P.finalize(),m}function Yo(){return $t.id||($t.id=++p$),++$t.awaits,$t.echoes+=Wo,$t.id}function ni(){return!!$t.awaits&&(--$t.awaits==0&&($t.id=0),$t.echoes=$t.awaits*Wo,!0)}function cl(u){return $t.echoes&&u&&u.constructor===mr?(Yo(),u.then(function(c){return ni(),c},function(c){return ni(),ft(c)})):u}function v$(){var u=sl[sl.length-1];sl.pop(),ii(u,!1)}function ii(u,c){var h,m=be;(c?!$t.echoes||ul++&&u===be:!ul||--ul&&u===be)||queueMicrotask(c?(function(S){++ll,$t.echoes&&--$t.echoes!=0||($t.echoes=$t.awaits=$t.id=0),sl.push(be),ii(S,!0)}).bind(null,u):v$),u!==be&&(be=u,m===ti&&(ti.env=Ky()),Gi&&(h=ti.env.Promise,c=u.env,(m.global||u.global)&&(Object.defineProperty(o,"Promise",c.PromiseProp),h.all=c.all,h.race=c.race,h.resolve=c.resolve,h.reject=c.reject,c.allSettled&&(h.allSettled=c.allSettled),c.any&&(h.any=c.any))))}function Ky(){var u=o.Promise;return Gi?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Ji(u,c,h,m,S){var P=be;try{return ii(u,!0),c(h,m,S)}finally{ii(P,!1)}}function Wy(u,c,h,m){return typeof u!="function"?u:function(){var S=be;h&&Yo(),ii(c,!0);try{return u.apply(this,arguments)}finally{ii(S,!1),m&&queueMicrotask(ni)}}}function ud(u){Promise===mr&&$t.echoes===0?ul===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+Tr).indexOf("[native code]")===-1&&(Yo=ni=ze);var ft=he.reject,eo=String.fromCharCode(65535),xn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Uy="String expected.",Xo=[],fl="__dbnames",ld="readonly",cd="readwrite";function to(u,c){return u?c?function(){return u.apply(this,arguments)&&c.apply(this,arguments)}:u:c}var qy={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function dl(u){return typeof u!="string"||/\./.test(u)?function(c){return c}:function(c){return c[u]===void 0&&u in c&&delete(c=we(c))[u],c}}function Hy(){throw oe.Type()}function Be(u,c){try{var h=Vy(u),m=Vy(c);if(h!==m)return h==="Array"?1:m==="Array"?-1:h==="binary"?1:m==="binary"?-1:h==="string"?1:m==="string"?-1:h==="Date"?1:m!=="Date"?NaN:-1;switch(h){case"number":case"Date":case"string":return c<u?1:u<c?-1:0;case"binary":return function(S,P){for(var C=S.length,x=P.length,N=C<x?C:x,A=0;A<N;++A)if(S[A]!==P[A])return S[A]<P[A]?-1:1;return C===x?0:C<x?-1:1}(Yy(u),Yy(c));case"Array":return function(S,P){for(var C=S.length,x=P.length,N=C<x?C:x,A=0;A<N;++A){var L=Be(S[A],P[A]);if(L!==0)return L}return C===x?0:C<x?-1:1}(u,c)}}catch{}return NaN}function Vy(u){var c=typeof u;return c!="object"?c:ArrayBuffer.isView(u)?"binary":(u=Re(u),u==="ArrayBuffer"?"binary":u)}function Yy(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var Xy=(Ze.prototype._trans=function(u,c,h){var m=this._tx||be.trans,S=this.name,P=ir&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function C(A,L,R){if(!R.schema[S])throw new oe.NotFound("Table "+S+" not part of transaction");return c(R.idbtrans,R)}var x=Ho();try{var N=m&&m.db._novip===this.db._novip?m===be.trans?m._promise(u,C,h):ri(function(){return m._promise(u,C,h)},{trans:m,transless:be.transless||be}):function A(L,R,U,M){if(L.idbdb&&(L._state.openComplete||be.letThrough||L._vip)){var j=L._createTransaction(R,U,L._dbSchema);try{j.create(),L._state.PR1398_maxLoop=3}catch(W){return W.name===ve.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return A(L,R,U,M)})):ft(W)}return j._promise(R,function(W,z){return ri(function(){return be.trans=j,M(W,z,j)})}).then(function(W){if(R==="readwrite")try{j.idbtrans.commit()}catch{}return R==="readonly"?W:j._completion.then(function(){return W})})}if(L._state.openComplete)return ft(new oe.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return ft(new oe.DatabaseClosed);L.open().catch(ze)}return L._state.dbReadyPromise.then(function(){return A(L,R,U,M)})}(this.db,u,[this.name],C);return P&&(N._consoleTask=P,N=N.catch(function(A){return console.trace(A),ft(A)})),N}finally{x&&Vo()}},Ze.prototype.get=function(u,c){var h=this;return u&&u.constructor===Object?this.where(u).first(c):u==null?ft(new oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return h.core.get({trans:m,key:u}).then(function(S){return h.hook.reading.fire(S)})}).then(c)},Ze.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(s(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var c=a(u);if(c.length===1)return this.where(c[0]).equals(u[c[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&c.every(function(A){return 0<=x.keyPath.indexOf(A)})){for(var N=0;N<c.length;++N)if(c.indexOf(x.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(x,N){return x.keyPath.length-N.keyPath.length})[0];if(h&&this.db._maxKey!==eo){var P=h.keyPath.slice(0,c.length);return this.where(P).equals(P.map(function(N){return u[N]}))}!h&&ir&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var m=this.schema.idxByName;function S(x,N){return Be(x,N)===0}var C=c.reduce(function(R,N){var A=R[0],L=R[1],R=m[N],U=u[N];return[A||R,A||!R?to(L,R&&R.multi?function(M){return M=B(M,N),s(M)&&M.some(function(j){return S(U,j)})}:function(M){return S(U,B(M,N))}):L]},[null,null]),P=C[0],C=C[1];return P?this.where(P.name).equals(u[P.keyPath]).filter(C):h?this.filter(C):this.where(c).equals("")},Ze.prototype.filter=function(u){return this.toCollection().and(u)},Ze.prototype.count=function(u){return this.toCollection().count(u)},Ze.prototype.offset=function(u){return this.toCollection().offset(u)},Ze.prototype.limit=function(u){return this.toCollection().limit(u)},Ze.prototype.each=function(u){return this.toCollection().each(u)},Ze.prototype.toArray=function(u){return this.toCollection().toArray(u)},Ze.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ze.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,s(u)?"[".concat(u.join("+"),"]"):u))},Ze.prototype.reverse=function(){return this.toCollection().reverse()},Ze.prototype.mapToClass=function(u){var c,h=this.db,m=this.name;function S(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Hy&&(function(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function L(){this.constructor=N}r(N,A),N.prototype=A===null?Object.create(A):(L.prototype=A.prototype,new L)}(S,c=u),Object.defineProperty(S.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),S.prototype.table=function(){return m},u=S);for(var P=new Set,C=u.prototype;C;C=f(C))Object.getOwnPropertyNames(C).forEach(function(N){return P.add(N)});function x(N){if(!N)return N;var A,L=Object.create(u.prototype);for(A in N)if(!P.has(A))try{L[A]=N[A]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),u},Ze.prototype.defineClass=function(){return this.mapToClass(function(u){l(this,u)})},Ze.prototype.add=function(u,c){var h=this,m=this.schema.primKey,S=m.auto,P=m.keyPath,C=u;return P&&S&&(C=dl(P)(u)),this._trans("readwrite",function(x){return h.core.mutate({trans:x,type:"add",keys:c!=null?[c]:null,values:[C]})}).then(function(x){return x.numFailures?he.reject(x.failures[0]):x.lastResult}).then(function(x){if(P)try{F(u,P,x)}catch{}return x})},Ze.prototype.update=function(u,c){return typeof u!="object"||s(u)?this.where(":id").equals(u).modify(c):(u=B(u,this.schema.primKey.keyPath),u===void 0?ft(new oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(c))},Ze.prototype.put=function(u,c){var h=this,m=this.schema.primKey,S=m.auto,P=m.keyPath,C=u;return P&&S&&(C=dl(P)(u)),this._trans("readwrite",function(x){return h.core.mutate({trans:x,type:"put",values:[C],keys:c!=null?[c]:null})}).then(function(x){return x.numFailures?he.reject(x.failures[0]):x.lastResult}).then(function(x){if(P)try{F(u,P,x)}catch{}return x})},Ze.prototype.delete=function(u){var c=this;return this._trans("readwrite",function(h){return c.core.mutate({trans:h,type:"delete",keys:[u]})}).then(function(h){return h.numFailures?he.reject(h.failures[0]):void 0})},Ze.prototype.clear=function(){var u=this;return this._trans("readwrite",function(c){return u.core.mutate({trans:c,type:"deleteRange",range:qy})}).then(function(c){return c.numFailures?he.reject(c.failures[0]):void 0})},Ze.prototype.bulkGet=function(u){var c=this;return this._trans("readonly",function(h){return c.core.getMany({keys:u,trans:h}).then(function(m){return m.map(function(S){return c.hook.reading.fire(S)})})})},Ze.prototype.bulkAdd=function(u,c,h){var m=this,S=Array.isArray(c)?c:void 0,P=(h=h||(S?void 0:c))?h.allKeys:void 0;return this._trans("readwrite",function(C){var A=m.schema.primKey,x=A.auto,A=A.keyPath;if(A&&S)throw new oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==u.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var N=u.length,A=A&&x?u.map(dl(A)):u;return m.core.mutate({trans:C,type:"add",keys:S,values:A,wantResults:P}).then(function(j){var R=j.numFailures,U=j.results,M=j.lastResult,j=j.failures;if(R===0)return P?U:M;throw new X("".concat(m.name,".bulkAdd(): ").concat(R," of ").concat(N," operations failed"),j)})})},Ze.prototype.bulkPut=function(u,c,h){var m=this,S=Array.isArray(c)?c:void 0,P=(h=h||(S?void 0:c))?h.allKeys:void 0;return this._trans("readwrite",function(C){var A=m.schema.primKey,x=A.auto,A=A.keyPath;if(A&&S)throw new oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==u.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var N=u.length,A=A&&x?u.map(dl(A)):u;return m.core.mutate({trans:C,type:"put",keys:S,values:A,wantResults:P}).then(function(j){var R=j.numFailures,U=j.results,M=j.lastResult,j=j.failures;if(R===0)return P?U:M;throw new X("".concat(m.name,".bulkPut(): ").concat(R," of ").concat(N," operations failed"),j)})})},Ze.prototype.bulkUpdate=function(u){var c=this,h=this.core,m=u.map(function(C){return C.key}),S=u.map(function(C){return C.changes}),P=[];return this._trans("readwrite",function(C){return h.getMany({trans:C,keys:m,cache:"clone"}).then(function(x){var N=[],A=[];u.forEach(function(R,U){var M=R.key,j=R.changes,W=x[U];if(W){for(var z=0,q=Object.keys(j);z<q.length;z++){var V=q[z],Y=j[V];if(V===c.schema.primKey.keyPath){if(Be(Y,M)!==0)throw new oe.Constraint("Cannot update primary key in bulkUpdate()")}else F(W,V,Y)}P.push(U),N.push(M),A.push(W)}});var L=N.length;return h.mutate({trans:C,type:"put",keys:N,values:A,updates:{keys:m,changeSpecs:S}}).then(function(R){var U=R.numFailures,M=R.failures;if(U===0)return L;for(var j=0,W=Object.keys(M);j<W.length;j++){var z,q=W[j],V=P[Number(q)];V!=null&&(z=M[q],delete M[q],M[V]=z)}throw new X("".concat(c.name,".bulkUpdate(): ").concat(U," of ").concat(L," operations failed"),M)})})})},Ze.prototype.bulkDelete=function(u){var c=this,h=u.length;return this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"delete",keys:u})}).then(function(C){var S=C.numFailures,P=C.lastResult,C=C.failures;if(S===0)return P;throw new X("".concat(c.name,".bulkDelete(): ").concat(S," of ").concat(h," operations failed"),C)})},Ze);function Ze(){}function hs(u){function c(C,x){if(x){for(var N=arguments.length,A=new Array(N-1);--N;)A[N-1]=arguments[N];return h[C].subscribe.apply(null,A),u}if(typeof C=="string")return h[C]}var h={};c.addEventType=P;for(var m=1,S=arguments.length;m<S;++m)P(arguments[m]);return c;function P(C,x,N){if(typeof C!="object"){var A;x=x||fs;var L={subscribers:[],fire:N=N||ze,subscribe:function(R){L.subscribers.indexOf(R)===-1&&(L.subscribers.push(R),L.fire=x(L.fire,R))},unsubscribe:function(R){L.subscribers=L.subscribers.filter(function(U){return U!==R}),L.fire=L.subscribers.reduce(x,N)}};return h[C]=c[C]=L}a(A=C).forEach(function(R){var U=A[R];if(s(U))P(R,A[R][0],A[R][1]);else{if(U!=="asap")throw new oe.InvalidArgument("Invalid event config");var M=P(R,qr,function(){for(var j=arguments.length,W=new Array(j);j--;)W[j]=arguments[j];M.subscribers.forEach(function(z){T(function(){z.apply(null,W)})})})}})}}function ps(u,c){return E(c).from({prototype:u}),c}function Go(u,c){return!(u.filter||u.algorithm||u.or)&&(c?u.justLimit:!u.replayFilter)}function fd(u,c){u.filter=to(u.filter,c)}function dd(u,c,h){var m=u.replayFilter;u.replayFilter=m?function(){return to(m(),c())}:c,u.justLimit=h&&!m}function hl(u,c){if(u.isPrimKey)return c.primaryKey;var h=c.getIndexByKeyPath(u.index);if(!h)throw new oe.Schema("KeyPath "+u.index+" on object store "+c.name+" is not indexed");return h}function Gy(u,c,h){var m=hl(u,c.schema);return c.openCursor({trans:h,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:m,range:u.range}})}function pl(u,c,h,m){var S=u.replayFilter?to(u.filter,u.replayFilter()):u.filter;if(u.or){var P={},C=function(x,N,A){var L,R;S&&!S(N,A,function(U){return N.stop(U)},function(U){return N.fail(U)})||((R=""+(L=N.primaryKey))=="[object ArrayBuffer]"&&(R=""+new Uint8Array(L)),p(P,R)||(P[R]=!0,c(x,N,A)))};return Promise.all([u.or._iterate(C,h),Qy(Gy(u,m,h),u.algorithm,C,!u.keysOnly&&u.valueMapper)])}return Qy(Gy(u,m,h),to(u.algorithm,S),c,!u.keysOnly&&u.valueMapper)}function Qy(u,c,h,m){var S=rt(m?function(P,C,x){return h(m(P),C,x)}:h);return u.then(function(P){if(P)return P.start(function(){var C=function(){return P.continue()};c&&!c(P,function(x){return C=x},function(x){P.stop(x),C=ze},function(x){P.fail(x),C=ze})||S(P.value,P,function(x){return C=x}),C()})})}var Tn=Symbol(),ms=(Zy.prototype.execute=function(u){if(this.add!==void 0){var c=this.add;if(s(c))return i(i([],s(u)?u:[],!0),c,!0).sort();if(typeof c=="number")return(Number(u)||0)+c;if(typeof c=="bigint")try{return BigInt(u)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var h=this.remove;if(s(h))return s(u)?u.filter(function(m){return!h.includes(m)}).sort():[];if(typeof h=="number")return Number(u)-h;if(typeof h=="bigint")try{return BigInt(u)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof u=="string"&&u.startsWith(c)?this.replacePrefix[1]+u.substring(c.length):u},Zy);function Zy(u){Object.assign(this,u)}var y$=(We.prototype._read=function(u,c){var h=this._ctx;return h.error?h.table._trans(null,ft.bind(null,h.error)):h.table._trans("readonly",u).then(c)},We.prototype._write=function(u){var c=this._ctx;return c.error?c.table._trans(null,ft.bind(null,c.error)):c.table._trans("readwrite",u,"locked")},We.prototype._addAlgorithm=function(u){var c=this._ctx;c.algorithm=to(c.algorithm,u)},We.prototype._iterate=function(u,c){return pl(this._ctx,u,c,this._ctx.table.core)},We.prototype.clone=function(u){var c=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return u&&l(h,u),c._ctx=h,c},We.prototype.raw=function(){return this._ctx.valueMapper=null,this},We.prototype.each=function(u){var c=this._ctx;return this._read(function(h){return pl(c,u,h,c.table.core)})},We.prototype.count=function(u){var c=this;return this._read(function(h){var m=c._ctx,S=m.table.core;if(Go(m,!0))return S.count({trans:h,query:{index:hl(m,S.schema),range:m.range}}).then(function(C){return Math.min(C,m.limit)});var P=0;return pl(m,function(){return++P,!1},h,S).then(function(){return P})}).then(u)},We.prototype.sortBy=function(u,c){var h=u.split(".").reverse(),m=h[0],S=h.length-1;function P(N,A){return A?P(N[h[A]],A-1):N[m]}var C=this._ctx.dir==="next"?1:-1;function x(N,A){return Be(P(N,S),P(A,S))*C}return this.toArray(function(N){return N.sort(x)}).then(c)},We.prototype.toArray=function(u){var c=this;return this._read(function(h){var m=c._ctx;if(m.dir==="next"&&Go(m,!0)&&0<m.limit){var S=m.valueMapper,P=hl(m,m.table.core.schema);return m.table.core.query({trans:h,limit:m.limit,values:!0,query:{index:P,range:m.range}}).then(function(x){return x=x.result,S?x.map(S):x})}var C=[];return pl(m,function(x){return C.push(x)},h,m.table.core).then(function(){return C})},u)},We.prototype.offset=function(u){var c=this._ctx;return u<=0||(c.offset+=u,Go(c)?dd(c,function(){var h=u;return function(m,S){return h===0||(h===1?--h:S(function(){m.advance(h),h=0}),!1)}}):dd(c,function(){var h=u;return function(){return--h<0}})),this},We.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),dd(this._ctx,function(){var c=u;return function(h,m,S){return--c<=0&&m(S),0<=c}},!0),this},We.prototype.until=function(u,c){return fd(this._ctx,function(h,m,S){return!u(h.value)||(m(S),c)}),this},We.prototype.first=function(u){return this.limit(1).toArray(function(c){return c[0]}).then(u)},We.prototype.last=function(u){return this.reverse().first(u)},We.prototype.filter=function(u){var c;return fd(this._ctx,function(h){return u(h.value)}),(c=this._ctx).isMatch=to(c.isMatch,u),this},We.prototype.and=function(u){return this.filter(u)},We.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},We.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},We.prototype.desc=function(){return this.reverse()},We.prototype.eachKey=function(u){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,m){u(m.key,m)})},We.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},We.prototype.eachPrimaryKey=function(u){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,m){u(m.primaryKey,m)})},We.prototype.keys=function(u){var c=this._ctx;c.keysOnly=!c.isMatch;var h=[];return this.each(function(m,S){h.push(S.key)}).then(function(){return h}).then(u)},We.prototype.primaryKeys=function(u){var c=this._ctx;if(c.dir==="next"&&Go(c,!0)&&0<c.limit)return this._read(function(m){var S=hl(c,c.table.core.schema);return c.table.core.query({trans:m,values:!1,limit:c.limit,query:{index:S,range:c.range}})}).then(function(m){return m.result}).then(u);c.keysOnly=!c.isMatch;var h=[];return this.each(function(m,S){h.push(S.primaryKey)}).then(function(){return h}).then(u)},We.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},We.prototype.firstKey=function(u){return this.limit(1).keys(function(c){return c[0]}).then(u)},We.prototype.lastKey=function(u){return this.reverse().firstKey(u)},We.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var c={};return fd(this._ctx,function(S){var m=S.primaryKey.toString(),S=p(c,m);return c[m]=!0,!S}),this},We.prototype.modify=function(u){var c=this,h=this._ctx;return this._write(function(m){var S,P,C;C=typeof u=="function"?u:(S=a(u),P=S.length,function(z){for(var q=!1,V=0;V<P;++V){var Y=S[V],Z=u[Y],re=B(z,Y);Z instanceof ms?(F(z,Y,Z.execute(re)),q=!0):re!==Z&&(F(z,Y,Z),q=!0)}return q});var x=h.table.core,R=x.schema.primaryKey,N=R.outbound,A=R.extractKey,L=200,R=c.db._options.modifyChunkSize;R&&(L=typeof R=="object"?R[x.name]||R["*"]||200:R);function U(z,Y){var V=Y.failures,Y=Y.numFailures;j+=z-Y;for(var Z=0,re=a(V);Z<re.length;Z++){var le=re[Z];M.push(V[le])}}var M=[],j=0,W=[];return c.clone().primaryKeys().then(function(z){function q(Y){var Z=Math.min(L,z.length-Y);return x.getMany({trans:m,keys:z.slice(Y,Y+Z),cache:"immutable"}).then(function(re){for(var le=[],ne=[],ae=N?[]:null,ce=[],ue=0;ue<Z;++ue){var ye=re[ue],Oe={value:we(ye),primKey:z[Y+ue]};C.call(Oe,Oe.value,Oe)!==!1&&(Oe.value==null?ce.push(z[Y+ue]):N||Be(A(ye),A(Oe.value))===0?(ne.push(Oe.value),N&&ae.push(z[Y+ue])):(ce.push(z[Y+ue]),le.push(Oe.value)))}return Promise.resolve(0<le.length&&x.mutate({trans:m,type:"add",values:le}).then(function(Ne){for(var Me in Ne.failures)ce.splice(parseInt(Me),1);U(le.length,Ne)})).then(function(){return(0<ne.length||V&&typeof u=="object")&&x.mutate({trans:m,type:"put",keys:ae,values:ne,criteria:V,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<Y}).then(function(Ne){return U(ne.length,Ne)})}).then(function(){return(0<ce.length||V&&u===hd)&&x.mutate({trans:m,type:"delete",keys:ce,criteria:V,isAdditionalChunk:0<Y}).then(function(Ne){return U(ce.length,Ne)})}).then(function(){return z.length>Y+Z&&q(Y+L)})})}var V=Go(h)&&h.limit===1/0&&(typeof u!="function"||u===hd)&&{index:h.index,range:h.range};return q(0).then(function(){if(0<M.length)throw new D("Error modifying one or more objects",M,j,W);return z.length})})})},We.prototype.delete=function(){var u=this._ctx,c=u.range;return Go(u)&&(u.isPrimKey||c.type===3)?this._write(function(h){var m=u.table.core.schema.primaryKey,S=c;return u.table.core.count({trans:h,query:{index:m,range:S}}).then(function(P){return u.table.core.mutate({trans:h,type:"deleteRange",range:S}).then(function(C){var x=C.failures;if(C.lastResult,C.results,C=C.numFailures,C)throw new D("Could not delete some values",Object.keys(x).map(function(N){return x[N]}),P-C);return P-C})})}):this.modify(hd)},We);function We(){}var hd=function(u,c){return c.value=null};function g$(u,c){return u<c?-1:u===c?0:1}function w$(u,c){return c<u?-1:u===c?0:1}function vr(u,c,h){return u=u instanceof eg?new u.Collection(u):u,u._ctx.error=new(h||TypeError)(c),u}function Qo(u){return new u.Collection(u,function(){return Jy("")}).limit(0)}function ml(u,c,h,m){var S,P,C,x,N,A,L,R=h.length;if(!h.every(function(j){return typeof j=="string"}))return vr(u,Uy);function U(j){S=j==="next"?function(z){return z.toUpperCase()}:function(z){return z.toLowerCase()},P=j==="next"?function(z){return z.toLowerCase()}:function(z){return z.toUpperCase()},C=j==="next"?g$:w$;var W=h.map(function(z){return{lower:P(z),upper:S(z)}}).sort(function(z,q){return C(z.lower,q.lower)});x=W.map(function(z){return z.upper}),N=W.map(function(z){return z.lower}),L=(A=j)==="next"?"":m}U("next"),u=new u.Collection(u,function(){return oi(x[0],N[R-1]+m)}),u._ondirectionchange=function(j){U(j)};var M=0;return u._addAlgorithm(function(j,W,z){var q=j.key;if(typeof q!="string")return!1;var V=P(q);if(c(V,N,M))return!0;for(var Y=null,Z=M;Z<R;++Z){var re=function(le,ne,ae,ce,ue,ye){for(var Oe=Math.min(le.length,ce.length),Ne=-1,Me=0;Me<Oe;++Me){var yr=ne[Me];if(yr!==ce[Me])return ue(le[Me],ae[Me])<0?le.substr(0,Me)+ae[Me]+ae.substr(Me+1):ue(le[Me],ce[Me])<0?le.substr(0,Me)+ce[Me]+ae.substr(Me+1):0<=Ne?le.substr(0,Ne)+ne[Ne]+ae.substr(Ne+1):null;ue(le[Me],yr)<0&&(Ne=Me)}return Oe<ce.length&&ye==="next"?le+ae.substr(le.length):Oe<le.length&&ye==="prev"?le.substr(0,ae.length):Ne<0?null:le.substr(0,Ne)+ce[Ne]+ae.substr(Ne+1)}(q,V,x[Z],N[Z],C,A);re===null&&Y===null?M=Z+1:(Y===null||0<C(Y,re))&&(Y=re)}return W(Y!==null?function(){j.continue(Y+L)}:z),!1}),u}function oi(u,c,h,m){return{type:2,lower:u,upper:c,lowerOpen:h,upperOpen:m}}function Jy(u){return{type:1,lower:u,upper:u}}var eg=(Object.defineProperty(kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),kt.prototype.between=function(u,c,h,m){h=h!==!1,m=m===!0;try{return 0<this._cmp(u,c)||this._cmp(u,c)===0&&(h||m)&&(!h||!m)?Qo(this):new this.Collection(this,function(){return oi(u,c,!h,!m)})}catch{return vr(this,xn)}},kt.prototype.equals=function(u){return u==null?vr(this,xn):new this.Collection(this,function(){return Jy(u)})},kt.prototype.above=function(u){return u==null?vr(this,xn):new this.Collection(this,function(){return oi(u,void 0,!0)})},kt.prototype.aboveOrEqual=function(u){return u==null?vr(this,xn):new this.Collection(this,function(){return oi(u,void 0,!1)})},kt.prototype.below=function(u){return u==null?vr(this,xn):new this.Collection(this,function(){return oi(void 0,u,!1,!0)})},kt.prototype.belowOrEqual=function(u){return u==null?vr(this,xn):new this.Collection(this,function(){return oi(void 0,u)})},kt.prototype.startsWith=function(u){return typeof u!="string"?vr(this,Uy):this.between(u,u+eo,!0,!0)},kt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):ml(this,function(c,h){return c.indexOf(h[0])===0},[u],eo)},kt.prototype.equalsIgnoreCase=function(u){return ml(this,function(c,h){return c===h[0]},[u],"")},kt.prototype.anyOfIgnoreCase=function(){var u=H.apply(pe,arguments);return u.length===0?Qo(this):ml(this,function(c,h){return h.indexOf(c)!==-1},u,"")},kt.prototype.startsWithAnyOfIgnoreCase=function(){var u=H.apply(pe,arguments);return u.length===0?Qo(this):ml(this,function(c,h){return h.some(function(m){return c.indexOf(m)===0})},u,eo)},kt.prototype.anyOf=function(){var u=this,c=H.apply(pe,arguments),h=this._cmp;try{c.sort(h)}catch{return vr(this,xn)}if(c.length===0)return Qo(this);var m=new this.Collection(this,function(){return oi(c[0],c[c.length-1])});m._ondirectionchange=function(P){h=P==="next"?u._ascending:u._descending,c.sort(h)};var S=0;return m._addAlgorithm(function(P,C,x){for(var N=P.key;0<h(N,c[S]);)if(++S===c.length)return C(x),!1;return h(N,c[S])===0||(C(function(){P.continue(c[S])}),!1)}),m},kt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},kt.prototype.noneOf=function(){var u=H.apply(pe,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return vr(this,xn)}var c=u.reduce(function(h,m){return h?h.concat([[h[h.length-1][1],m]]):[[-1/0,m]]},null);return c.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},kt.prototype.inAnyRange=function(q,c){var h=this,m=this._cmp,S=this._ascending,P=this._descending,C=this._min,x=this._max;if(q.length===0)return Qo(this);if(!q.every(function(V){return V[0]!==void 0&&V[1]!==void 0&&S(V[0],V[1])<=0}))return vr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oe.InvalidArgument);var N=!c||c.includeLowers!==!1,A=c&&c.includeUppers===!0,L,R=S;function U(V,Y){return R(V[0],Y[0])}try{(L=q.reduce(function(V,Y){for(var Z=0,re=V.length;Z<re;++Z){var le=V[Z];if(m(Y[0],le[1])<0&&0<m(Y[1],le[0])){le[0]=C(le[0],Y[0]),le[1]=x(le[1],Y[1]);break}}return Z===re&&V.push(Y),V},[])).sort(U)}catch{return vr(this,xn)}var M=0,j=A?function(V){return 0<S(V,L[M][1])}:function(V){return 0<=S(V,L[M][1])},W=N?function(V){return 0<P(V,L[M][0])}:function(V){return 0<=P(V,L[M][0])},z=j,q=new this.Collection(this,function(){return oi(L[0][0],L[L.length-1][1],!N,!A)});return q._ondirectionchange=function(V){R=V==="next"?(z=j,S):(z=W,P),L.sort(U)},q._addAlgorithm(function(V,Y,Z){for(var re,le=V.key;z(le);)if(++M===L.length)return Y(Z),!1;return!j(re=le)&&!W(re)||(h._cmp(le,L[M][1])===0||h._cmp(le,L[M][0])===0||Y(function(){R===S?V.continue(L[M][0]):V.continue(L[M][1])}),!1)}),q},kt.prototype.startsWithAnyOf=function(){var u=H.apply(pe,arguments);return u.every(function(c){return typeof c=="string"})?u.length===0?Qo(this):this.inAnyRange(u.map(function(c){return[c,c+eo]})):vr(this,"startsWithAnyOf() only works with strings")},kt);function kt(){}function fn(u){return rt(function(c){return vs(c),u(c.target.error),!1})}function vs(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var ys="storagemutated",pd="x-storagemutated-1",ai=hs(null,ys),_$=(dn.prototype._lock=function(){return O(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},dn.prototype._unlock=function(){if(O(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Ji(u[1],u[0])}catch{}}return this},dn.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},dn.prototype.create=function(u){var c=this;if(!this.mode)return this;var h=this.db.idbdb,m=this.db._state.dbOpenError;if(O(!this.idbtrans),!u&&!h)switch(m&&m.name){case"DatabaseClosedError":throw new oe.DatabaseClosed(m);case"MissingAPIError":throw new oe.MissingAPI(m.message,m);default:throw new oe.OpenFailed(m)}if(!this.active)throw new oe.TransactionInactive;return O(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||h).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=rt(function(S){vs(S),c._reject(u.error)}),u.onabort=rt(function(S){vs(S),c.active&&c._reject(new oe.Abort(u.error)),c.active=!1,c.on("abort").fire(S)}),u.oncomplete=rt(function(){c.active=!1,c._resolve(),"mutatedParts"in u&&ai.storagemutated.fire(u.mutatedParts)}),this},dn.prototype._promise=function(u,c,h){var m=this;if(u==="readwrite"&&this.mode!=="readwrite")return ft(new oe.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new oe.TransactionInactive);if(this._locked())return new he(function(P,C){m._blockedFuncs.push([function(){m._promise(u,c,h).then(P,C)},be])});if(h)return ri(function(){var P=new he(function(C,x){m._lock();var N=c(C,x,m);N&&N.then&&N.then(C,x)});return P.finally(function(){return m._unlock()}),P._lib=!0,P});var S=new he(function(P,C){var x=c(P,C,m);x&&x.then&&x.then(P,C)});return S._lib=!0,S},dn.prototype._root=function(){return this.parent?this.parent._root():this},dn.prototype.waitFor=function(u){var c,h=this._root(),m=he.resolve(u);h._waitingFor?h._waitingFor=h._waitingFor.then(function(){return m}):(h._waitingFor=m,h._waitingQueue=[],c=h.idbtrans.objectStore(h.storeNames[0]),function P(){for(++h._spinCount;h._waitingQueue.length;)h._waitingQueue.shift()();h._waitingFor&&(c.get(-1/0).onsuccess=P)}());var S=h._waitingFor;return new he(function(P,C){m.then(function(x){return h._waitingQueue.push(rt(P.bind(null,x)))},function(x){return h._waitingQueue.push(rt(C.bind(null,x)))}).finally(function(){h._waitingFor===S&&(h._waitingFor=null)})})},dn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oe.Abort))},dn.prototype.table=function(u){var c=this._memoizedTables||(this._memoizedTables={});if(p(c,u))return c[u];var h=this.schema[u];if(!h)throw new oe.NotFound("Table "+u+" not part of transaction");return h=new this.db.Table(u,h,this),h.core=this.db.core.table(u),c[u]=h},dn);function dn(){}function md(u,c,h,m,S,P,C){return{name:u,keyPath:c,unique:h,multi:m,auto:S,compound:P,src:(h&&!C?"&":"")+(m?"*":"")+(S?"++":"")+tg(c)}}function tg(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function vd(u,c,h){return{name:u,primKey:c,indexes:h,mappedClass:null,idxByName:(m=function(S){return[S.name,S]},h.reduce(function(S,P,C){return C=m(P,C),C&&(S[C[0]]=C[1]),S},{}))};var m}var gs=function(u){try{return u.only([[]]),gs=function(){return[[]]},[[]]}catch{return gs=function(){return eo},eo}};function yd(u){return u==null?function(){}:typeof u=="string"?(c=u).split(".").length===1?function(h){return h[c]}:function(h){return B(h,c)}:function(h){return B(h,u)};var c}function rg(u){return[].slice.call(u)}var S$=0;function ws(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function b$(u,c,N){function m(z){if(z.type===3)return null;if(z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var M=z.lower,j=z.upper,W=z.lowerOpen,z=z.upperOpen;return M===void 0?j===void 0?null:c.upperBound(j,!!z):j===void 0?c.lowerBound(M,!!W):c.bound(M,j,!!W,!!z)}function S(U){var M,j=U.name;return{name:j,schema:U,mutate:function(W){var z=W.trans,q=W.type,V=W.keys,Y=W.values,Z=W.range;return new Promise(function(re,le){re=rt(re);var ne=z.objectStore(j),ae=ne.keyPath==null,ce=q==="put"||q==="add";if(!ce&&q!=="delete"&&q!=="deleteRange")throw new Error("Invalid operation type: "+q);var ue,ye=(V||Y||{length:1}).length;if(V&&Y&&V.length!==Y.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Oe(Yt){++yr,vs(Yt)}var Ne=[],Me=[],yr=0;if(q==="deleteRange"){if(Z.type===4)return re({numFailures:yr,failures:Me,results:[],lastResult:void 0});Z.type===3?Ne.push(ue=ne.clear()):Ne.push(ue=ne.delete(m(Z)))}else{var ae=ce?ae?[Y,V]:[Y,null]:[V,null],Ce=ae[0],Lt=ae[1];if(ce)for(var Ft=0;Ft<ye;++Ft)Ne.push(ue=Lt&&Lt[Ft]!==void 0?ne[q](Ce[Ft],Lt[Ft]):ne[q](Ce[Ft])),ue.onerror=Oe;else for(Ft=0;Ft<ye;++Ft)Ne.push(ue=ne[q](Ce[Ft])),ue.onerror=Oe}function Ol(Yt){Yt=Yt.target.result,Ne.forEach(function(io,Ad){return io.error!=null&&(Me[Ad]=io.error)}),re({numFailures:yr,failures:Me,results:q==="delete"?V:Ne.map(function(io){return io.result}),lastResult:Yt})}ue.onerror=function(Yt){Oe(Yt),Ol(Yt)},ue.onsuccess=Ol})},getMany:function(W){var z=W.trans,q=W.keys;return new Promise(function(V,Y){V=rt(V);for(var Z,re=z.objectStore(j),le=q.length,ne=new Array(le),ae=0,ce=0,ue=function(Ne){Ne=Ne.target,ne[Ne._pos]=Ne.result,++ce===ae&&V(ne)},ye=fn(Y),Oe=0;Oe<le;++Oe)q[Oe]!=null&&((Z=re.get(q[Oe]))._pos=Oe,Z.onsuccess=ue,Z.onerror=ye,++ae);ae===0&&V(ne)})},get:function(W){var z=W.trans,q=W.key;return new Promise(function(V,Y){V=rt(V);var Z=z.objectStore(j).get(q);Z.onsuccess=function(re){return V(re.target.result)},Z.onerror=fn(Y)})},query:(M=A,function(W){return new Promise(function(z,q){z=rt(z);var V,Y,Z,ae=W.trans,re=W.values,le=W.limit,ue=W.query,ne=le===1/0?void 0:le,ce=ue.index,ue=ue.range,ae=ae.objectStore(j),ce=ce.isPrimaryKey?ae:ae.index(ce.name),ue=m(ue);if(le===0)return z({result:[]});M?((ne=re?ce.getAll(ue,ne):ce.getAllKeys(ue,ne)).onsuccess=function(ye){return z({result:ye.target.result})},ne.onerror=fn(q)):(V=0,Y=!re&&"openKeyCursor"in ce?ce.openKeyCursor(ue):ce.openCursor(ue),Z=[],Y.onsuccess=function(ye){var Oe=Y.result;return Oe?(Z.push(re?Oe.value:Oe.primaryKey),++V===le?z({result:Z}):void Oe.continue()):z({result:Z})},Y.onerror=fn(q))})}),openCursor:function(W){var z=W.trans,q=W.values,V=W.query,Y=W.reverse,Z=W.unique;return new Promise(function(re,le){re=rt(re);var ce=V.index,ne=V.range,ae=z.objectStore(j),ae=ce.isPrimaryKey?ae:ae.index(ce.name),ce=Y?Z?"prevunique":"prev":Z?"nextunique":"next",ue=!q&&"openKeyCursor"in ae?ae.openKeyCursor(m(ne),ce):ae.openCursor(m(ne),ce);ue.onerror=fn(le),ue.onsuccess=rt(function(ye){var Oe,Ne,Me,yr,Ce=ue.result;Ce?(Ce.___id=++S$,Ce.done=!1,Oe=Ce.continue.bind(Ce),Ne=(Ne=Ce.continuePrimaryKey)&&Ne.bind(Ce),Me=Ce.advance.bind(Ce),yr=function(){throw new Error("Cursor not stopped")},Ce.trans=z,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=rt(le),Ce.next=function(){var Lt=this,Ft=1;return this.start(function(){return Ft--?Lt.continue():Lt.stop()}).then(function(){return Lt})},Ce.start=function(Lt){function Ft(){if(ue.result)try{Lt()}catch(Yt){Ce.fail(Yt)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var Ol=new Promise(function(Yt,io){Yt=rt(Yt),ue.onerror=fn(io),Ce.fail=io,Ce.stop=function(Ad){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=yr,Yt(Ad)}});return ue.onsuccess=rt(function(Yt){ue.onsuccess=Ft,Ft()}),Ce.continue=Oe,Ce.continuePrimaryKey=Ne,Ce.advance=Me,Ft(),Ol},re(Ce)):re(null)},le)})},count:function(W){var z=W.query,q=W.trans,V=z.index,Y=z.range;return new Promise(function(Z,re){var le=q.objectStore(j),ne=V.isPrimaryKey?le:le.index(V.name),le=m(Y),ne=le?ne.count(le):ne.count();ne.onsuccess=rt(function(ae){return Z(ae.target.result)}),ne.onerror=fn(re)})}}}var P,C,x,L=(C=N,x=rg((P=u).objectStoreNames),{schema:{name:P.name,tables:x.map(function(U){return C.objectStore(U)}).map(function(U){var M=U.keyPath,z=U.autoIncrement,j=s(M),W={},z={name:U.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M==null,compound:j,keyPath:M,autoIncrement:z,unique:!0,extractKey:yd(M)},indexes:rg(U.indexNames).map(function(q){return U.index(q)}).map(function(Z){var V=Z.name,Y=Z.unique,re=Z.multiEntry,Z=Z.keyPath,re={name:V,compound:s(Z),keyPath:Z,unique:Y,multiEntry:re,extractKey:yd(Z)};return W[ws(Z)]=re}),getIndexByKeyPath:function(q){return W[ws(q)]}};return W[":id"]=z.primaryKey,M!=null&&(W[ws(M)]=z.primaryKey),z})},hasGetAll:0<x.length&&"getAll"in C.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),N=L.schema,A=L.hasGetAll,L=N.tables.map(S),R={};return L.forEach(function(U){return R[U.name]=U}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(U){if(!R[U])throw new Error("Table '".concat(U,"' not found"));return R[U]},MIN_KEY:-1/0,MAX_KEY:gs(c),schema:N}}function E$(u,c,h,m){var S=h.IDBKeyRange;return h.indexedDB,{dbcore:(m=b$(c,S,m),u.dbcore.reduce(function(P,C){return C=C.create,n(n({},P),C(P))},m))}}function vl(u,m){var h=m.db,m=E$(u._middlewares,h,u._deps,m);u.core=m.dbcore,u.tables.forEach(function(S){var P=S.name;u.core.schema.tables.some(function(C){return C.name===P})&&(S.core=u.core.table(P),u[P]instanceof u.Table&&(u[P].core=S.core))})}function yl(u,c,h,m){h.forEach(function(S){var P=m[S];c.forEach(function(C){var x=function N(A,L){return $(A,L)||(A=f(A))&&N(A,L)}(C,S);(!x||"value"in x&&x.value===void 0)&&(C===u.Transaction.prototype||C instanceof u.Transaction?_(C,S,{get:function(){return this.table(S)},set:function(N){w(this,S,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):C[S]=new u.Table(S,P))})})}function gd(u,c){c.forEach(function(h){for(var m in h)h[m]instanceof u.Table&&delete h[m]})}function P$(u,c){return u._cfg.version-c._cfg.version}function $$(u,c,h,m){var S=u._dbSchema;h.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=vd("$meta",ig("")[0],[]),u._storeNames.push("$meta"));var P=u._createTransaction("readwrite",u._storeNames,S);P.create(h),P._completion.catch(m);var C=P._reject.bind(P),x=be.transless||be;ri(function(){return be.trans=P,be.transless=x,c!==0?(vl(u,h),A=c,((N=P).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(L){return L??A}):he.resolve(A)).then(function(L){return U=L,M=P,j=h,W=[],L=(R=u)._versions,z=R._dbSchema=wl(0,R.idbdb,j),(L=L.filter(function(q){return q._cfg.version>=U})).length!==0?(L.forEach(function(q){W.push(function(){var V=z,Y=q._cfg.dbschema;_l(R,V,j),_l(R,Y,j),z=R._dbSchema=Y;var Z=wd(V,Y);Z.add.forEach(function(ce){_d(j,ce[0],ce[1].primKey,ce[1].indexes)}),Z.change.forEach(function(ce){if(ce.recreate)throw new oe.Upgrade("Not yet support for changing primary key");var ue=j.objectStore(ce.name);ce.add.forEach(function(ye){return gl(ue,ye)}),ce.change.forEach(function(ye){ue.deleteIndex(ye.name),gl(ue,ye)}),ce.del.forEach(function(ye){return ue.deleteIndex(ye)})});var re=q._cfg.contentUpgrade;if(re&&q._cfg.version>U){vl(R,j),M._memoizedTables={};var le=Q(Y);Z.del.forEach(function(ce){le[ce]=V[ce]}),gd(R,[R.Transaction.prototype]),yl(R,[R.Transaction.prototype],a(le),le),M.schema=le;var ne,ae=I(re);return ae&&Yo(),Z=he.follow(function(){var ce;(ne=re(M))&&ae&&(ce=ni.bind(null,null),ne.then(ce,ce))}),ne&&typeof ne.then=="function"?he.resolve(ne):Z.then(function(){return ne})}}),W.push(function(V){var Y,Z,re=q._cfg.dbschema;Y=re,Z=V,[].slice.call(Z.db.objectStoreNames).forEach(function(le){return Y[le]==null&&Z.db.deleteObjectStore(le)}),gd(R,[R.Transaction.prototype]),yl(R,[R.Transaction.prototype],R._storeNames,R._dbSchema),M.schema=R._dbSchema}),W.push(function(V){R.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(R.idbdb.version/10)===q._cfg.version?(R.idbdb.deleteObjectStore("$meta"),delete R._dbSchema.$meta,R._storeNames=R._storeNames.filter(function(Y){return Y!=="$meta"})):V.objectStore("$meta").put(q._cfg.version,"version"))})}),function q(){return W.length?he.resolve(W.shift()(M.idbtrans)).then(q):he.resolve()}().then(function(){ng(z,j)})):he.resolve();var R,U,M,j,W,z}).catch(C)):(a(S).forEach(function(L){_d(h,L,S[L].primKey,S[L].indexes)}),vl(u,h),void he.follow(function(){return u.on.populate.fire(P)}).catch(C));var N,A})}function k$(u,c){ng(u._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var h=wl(0,u.idbdb,c);_l(u,u._dbSchema,c);for(var m=0,S=wd(h,u._dbSchema).change;m<S.length;m++){var P=function(C){if(C.change.length||C.recreate)return console.warn("Unable to patch indexes of table ".concat(C.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=c.objectStore(C.name);C.add.forEach(function(N){ir&&console.debug("Dexie upgrade patch: Creating missing index ".concat(C.name,".").concat(N.src)),gl(x,N)})}(S[m]);if(typeof P=="object")return P.value}}function wd(u,c){var h,m={del:[],add:[],change:[]};for(h in u)c[h]||m.del.push(h);for(h in c){var S=u[h],P=c[h];if(S){var C={name:h,def:P,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(P.primKey.keyPath||"")||S.primKey.auto!==P.primKey.auto)C.recreate=!0,m.change.push(C);else{var x=S.idxByName,N=P.idxByName,A=void 0;for(A in x)N[A]||C.del.push(A);for(A in N){var L=x[A],R=N[A];L?L.src!==R.src&&C.change.push(R):C.add.push(R)}(0<C.del.length||0<C.add.length||0<C.change.length)&&m.change.push(C)}}else m.add.push([h,P])}return m}function _d(u,c,h,m){var S=u.db.createObjectStore(c,h.keyPath?{keyPath:h.keyPath,autoIncrement:h.auto}:{autoIncrement:h.auto});return m.forEach(function(P){return gl(S,P)}),S}function ng(u,c){a(u).forEach(function(h){c.db.objectStoreNames.contains(h)||(ir&&console.debug("Dexie: Creating missing table",h),_d(c,h,u[h].primKey,u[h].indexes))})}function gl(u,c){u.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function wl(u,c,h){var m={};return y(c.objectStoreNames,0).forEach(function(S){for(var P=h.objectStore(S),C=md(tg(A=P.keyPath),A||"",!0,!1,!!P.autoIncrement,A&&typeof A!="string",!0),x=[],N=0;N<P.indexNames.length;++N){var L=P.index(P.indexNames[N]),A=L.keyPath,L=md(L.name,A,!!L.unique,!!L.multiEntry,!1,A&&typeof A!="string",!1);x.push(L)}m[S]=vd(S,C,x)}),m}function _l(u,c,h){for(var m=h.db.objectStoreNames,S=0;S<m.length;++S){var P=m[S],C=h.objectStore(P);u._hasGetAll="getAll"in C;for(var x=0;x<C.indexNames.length;++x){var N=C.indexNames[x],A=C.index(N).keyPath,L=typeof A=="string"?A:"["+y(A).join("+")+"]";!c[P]||(A=c[P].idxByName[L])&&(A.name=N,delete c[P].idxByName[L],c[P].idxByName[N]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function ig(u){return u.split(",").map(function(c,h){var m=(c=c.trim()).replace(/([&*]|\+\+)/g,""),S=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return md(m,S||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),s(S),h===0)})}var C$=(Sl.prototype._parseStoresSpec=function(u,c){a(u).forEach(function(h){if(u[h]!==null){var m=ig(u[h]),S=m.shift();if(S.unique=!0,S.multi)throw new oe.Schema("Primary key cannot be multi-valued");m.forEach(function(P){if(P.auto)throw new oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!P.keyPath)throw new oe.Schema("Index must have a name and cannot be an empty string")}),c[h]=vd(h,S,m)}})},Sl.prototype.stores=function(h){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,h):h;var h=c._versions,m={},S={};return h.forEach(function(P){l(m,P._cfg.storesSource),S=P._cfg.dbschema={},P._parseStoresSpec(m,S)}),c._dbSchema=S,gd(c,[c._allTables,c,c.Transaction.prototype]),yl(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],a(S),S),c._storeNames=a(S),this},Sl.prototype.upgrade=function(u){return this._cfg.contentUpgrade=Xi(this._cfg.contentUpgrade||ze,u),this},Sl);function Sl(){}function Sd(u,c){var h=u._dbNamesDB;return h||(h=u._dbNamesDB=new Rn(fl,{addons:[],indexedDB:u,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),h.table("dbnames")}function bd(u){return u&&typeof u.databases=="function"}function Ed(u){return ri(function(){return be.letThrough=!0,u()})}function Pd(u){return!("from"in u)}var jt=function(u,c){if(!this){var h=new jt;return u&&"d"in u&&l(h,u),h}l(this,arguments.length?{d:1,from:u,to:1<arguments.length?c:u}:{d:0})};function _s(u,c,h){var m=Be(c,h);if(!isNaN(m)){if(0<m)throw RangeError();if(Pd(u))return l(u,{from:c,to:h,d:1});var S=u.l,m=u.r;if(Be(h,u.from)<0)return S?_s(S,c,h):u.l={from:c,to:h,d:1,l:null,r:null},ag(u);if(0<Be(c,u.to))return m?_s(m,c,h):u.r={from:c,to:h,d:1,l:null,r:null},ag(u);Be(c,u.from)<0&&(u.from=c,u.l=null,u.d=m?m.d+1:1),0<Be(h,u.to)&&(u.to=h,u.r=null,u.d=u.l?u.l.d+1:1),h=!u.r,S&&!u.l&&Ss(u,S),m&&h&&Ss(u,m)}}function Ss(u,c){Pd(c)||function h(m,N){var P=N.from,C=N.to,x=N.l,N=N.r;_s(m,P,C),x&&h(m,x),N&&h(m,N)}(u,c)}function og(u,c){var h=bl(c),m=h.next();if(m.done)return!1;for(var S=m.value,P=bl(u),C=P.next(S.from),x=C.value;!m.done&&!C.done;){if(Be(x.from,S.to)<=0&&0<=Be(x.to,S.from))return!0;Be(S.from,x.from)<0?S=(m=h.next(x.from)).value:x=(C=P.next(S.from)).value}return!1}function bl(u){var c=Pd(u)?null:{s:0,n:u};return{next:function(h){for(var m=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,m)for(;c.n.l&&Be(h,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!m||Be(h,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function ag(u){var c,h,m=(((c=u.r)===null||c===void 0?void 0:c.d)||0)-(((h=u.l)===null||h===void 0?void 0:h.d)||0),S=1<m?"r":m<-1?"l":"";S&&(c=S=="r"?"l":"r",h=n({},u),m=u[S],u.from=m.from,u.to=m.to,u[S]=m[S],h[S]=m[c],(u[c]=h).d=sg(h)),u.d=sg(u)}function sg(h){var c=h.r,h=h.l;return(c?h?Math.max(c.d,h.d):c.d:h?h.d:0)+1}function El(u,c){return a(c).forEach(function(h){u[h]?Ss(u[h],c[h]):u[h]=function m(S){var P,C,x={};for(P in S)p(S,P)&&(C=S[P],x[P]=!C||typeof C!="object"||te.has(C.constructor)?C:m(C));return x}(c[h])}),u}function $d(u,c){return u.all||c.all||Object.keys(u).some(function(h){return c[h]&&og(c[h],u[h])})}v(jt.prototype,((Tr={add:function(u){return Ss(this,u),this},addKey:function(u){return _s(this,u,u),this},addKeys:function(u){var c=this;return u.forEach(function(h){return _s(c,h,h)}),this},hasKey:function(u){var c=bl(this).next(u).value;return c&&Be(c.from,u)<=0&&0<=Be(c.to,u)}})[Fe]=function(){return bl(this)},Tr));var ro={},kd={},Cd=!1;function Pl(u){El(kd,u),Cd||(Cd=!0,setTimeout(function(){Cd=!1,Od(kd,!(kd={}))},0))}function Od(u,c){c===void 0&&(c=!1);var h=new Set;if(u.all)for(var m=0,S=Object.values(ro);m<S.length;m++)ug(C=S[m],u,h,c);else for(var P in u){var C,x=/^idb\:\/\/(.*)\/(.*)\//.exec(P);x&&(P=x[1],x=x[2],(C=ro["idb://".concat(P,"/").concat(x)])&&ug(C,u,h,c))}h.forEach(function(N){return N()})}function ug(u,c,h,m){for(var S=[],P=0,C=Object.entries(u.queries.query);P<C.length;P++){for(var x=C[P],N=x[0],A=[],L=0,R=x[1];L<R.length;L++){var U=R[L];$d(c,U.obsSet)?U.subscribers.forEach(function(z){return h.add(z)}):m&&A.push(U)}m&&S.push([N,A])}if(m)for(var M=0,j=S;M<j.length;M++){var W=j[M],N=W[0],A=W[1];u.queries.query[N]=A}}function O$(u){var c=u._state,h=u._deps.indexedDB;if(c.isBeingOpened||u.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?ft(c.dbOpenError):u});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var m=c.openCanceller,S=Math.round(10*u.verno),P=!1;function C(){if(c.openCanceller!==m)throw new oe.DatabaseClosed("db.open() was cancelled")}function x(){return new he(function(U,M){if(C(),!h)throw new oe.MissingAPI;var j=u.name,W=c.autoSchema||!S?h.open(j):h.open(j,S);if(!W)throw new oe.MissingAPI;W.onerror=fn(M),W.onblocked=rt(u._fireOnBlocked),W.onupgradeneeded=rt(function(z){var q;L=W.transaction,c.autoSchema&&!u._options.allowEmptyDB?(W.onerror=vs,L.abort(),W.result.close(),(q=h.deleteDatabase(j)).onsuccess=q.onerror=rt(function(){M(new oe.NoSuchDatabase("Database ".concat(j," doesnt exist")))})):(L.onerror=fn(M),z=z.oldVersion>Math.pow(2,62)?0:z.oldVersion,R=z<1,u.idbdb=W.result,P&&k$(u,L),$$(u,z/10,L,M))},M),W.onsuccess=rt(function(){L=null;var z,q,V,Y,Z,re=u.idbdb=W.result,le=y(re.objectStoreNames);if(0<le.length)try{var ne=re.transaction((Y=le).length===1?Y[0]:Y,"readonly");if(c.autoSchema)q=re,V=ne,(z=u).verno=q.version/10,V=z._dbSchema=wl(0,q,V),z._storeNames=y(q.objectStoreNames,0),yl(z,[z._allTables],a(V),V);else if(_l(u,u._dbSchema,ne),((Z=wd(wl(0,(Z=u).idbdb,ne),Z._dbSchema)).add.length||Z.change.some(function(ae){return ae.add.length||ae.change.length}))&&!P)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),re.close(),S=re.version+1,P=!0,U(x());vl(u,ne)}catch{}Xo.push(u),re.onversionchange=rt(function(ae){c.vcFired=!0,u.on("versionchange").fire(ae)}),re.onclose=rt(function(ae){u.on("close").fire(ae)}),R&&(Z=u._deps,ne=j,re=Z.indexedDB,Z=Z.IDBKeyRange,bd(re)||ne===fl||Sd(re,Z).put({name:ne}).catch(ze)),U()},M)}).catch(function(U){switch(U==null?void 0:U.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(0<S)return S=0,x()}return he.reject(U)})}var N,A=c.dbReadyResolve,L=null,R=!1;return he.race([m,(typeof navigator>"u"?he.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(U){function M(){return indexedDB.databases().finally(U)}N=setInterval(M,100),M()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(x)]).then(function(){return C(),c.onReadyBeingFired=[],he.resolve(Ed(function(){return u.on.ready.fire(u.vip)})).then(function U(){if(0<c.onReadyBeingFired.length){var M=c.onReadyBeingFired.reduce(Xi,ze);return c.onReadyBeingFired=[],he.resolve(Ed(function(){return M(u.vip)})).then(U)}})}).finally(function(){c.openCanceller===m&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(U){c.dbOpenError=U;try{L&&L.abort()}catch{}return m===c.openCanceller&&u._close(),ft(U)}).finally(function(){c.openComplete=!0,A()}).then(function(){var U;return R&&(U={},u.tables.forEach(function(M){M.schema.indexes.forEach(function(j){j.name&&(U["idb://".concat(u.name,"/").concat(M.name,"/").concat(j.name)]=new jt(-1/0,[[[]]]))}),U["idb://".concat(u.name,"/").concat(M.name,"/")]=U["idb://".concat(u.name,"/").concat(M.name,"/:dels")]=new jt(-1/0,[[[]]])}),ai(ys).fire(U),Od(U,!0)),u})}function xd(u){function c(P){return u.next(P)}var h=S(c),m=S(function(P){return u.throw(P)});function S(P){return function(N){var x=P(N),N=x.value;return x.done?N:N&&typeof N.then=="function"?N.then(h,m):s(N)?Promise.all(N).then(h,m):h(N)}}return S(c)()}function $l(u,c,h){for(var m=s(u)?u.slice():[u],S=0;S<h;++S)m.push(c);return m}var x$={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return n(n({},u),{table:function(c){var h=u.table(c),m=h.schema,S={},P=[];function C(R,U,M){var j=ws(R),W=S[j]=S[j]||[],z=R==null?0:typeof R=="string"?1:R.length,q=0<U,q=n(n({},M),{name:q?"".concat(j,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:q,keyTail:U,keyLength:z,extractKey:yd(R),unique:!q&&M.unique});return W.push(q),q.isPrimaryKey||P.push(q),1<z&&C(z===2?R[0]:R.slice(0,z-1),U+1,M),W.sort(function(V,Y){return V.keyTail-Y.keyTail}),q}c=C(m.primaryKey.keyPath,0,m.primaryKey),S[":id"]=[c];for(var x=0,N=m.indexes;x<N.length;x++){var A=N[x];C(A.keyPath,0,A)}function L(R){var U,M=R.query.index;return M.isVirtual?n(n({},R),{query:{index:M.lowLevelIndex,range:(U=R.query.range,M=M.keyTail,{type:U.type===1?2:U.type,lower:$l(U.lower,U.lowerOpen?u.MAX_KEY:u.MIN_KEY,M),lowerOpen:!0,upper:$l(U.upper,U.upperOpen?u.MIN_KEY:u.MAX_KEY,M),upperOpen:!0})}}):R}return n(n({},h),{schema:n(n({},m),{primaryKey:c,indexes:P,getIndexByKeyPath:function(R){return(R=S[ws(R)])&&R[0]}}),count:function(R){return h.count(L(R))},query:function(R){return h.query(L(R))},openCursor:function(R){var U=R.query.index,M=U.keyTail,j=U.isVirtual,W=U.keyLength;return j?h.openCursor(L(R)).then(function(q){return q&&z(q)}):h.openCursor(R);function z(q){return Object.create(q,{continue:{value:function(V){V!=null?q.continue($l(V,R.reverse?u.MAX_KEY:u.MIN_KEY,M)):R.unique?q.continue(q.key.slice(0,W).concat(R.reverse?u.MIN_KEY:u.MAX_KEY,M)):q.continue()}},continuePrimaryKey:{value:function(V,Y){q.continuePrimaryKey($l(V,u.MAX_KEY,M),Y)}},primaryKey:{get:function(){return q.primaryKey}},key:{get:function(){var V=q.key;return W===1?V[0]:V.slice(0,W)}},value:{get:function(){return q.value}}})}}})}})}};function Td(u,c,h,m){return h=h||{},m=m||"",a(u).forEach(function(S){var P,C,x;p(c,S)?(P=u[S],C=c[S],typeof P=="object"&&typeof C=="object"&&P&&C?(x=Re(P))!==Re(C)?h[m+S]=c[S]:x==="Object"?Td(P,C,h,m+S+"."):P!==C&&(h[m+S]=c[S]):P!==C&&(h[m+S]=c[S])):h[m+S]=void 0}),a(c).forEach(function(S){p(u,S)||(h[m+S]=c[S])}),h}function Rd(u,c){return c.type==="delete"?c.keys:c.keys||c.values.map(u.extractKey)}var T$={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return n(n({},u),{table:function(c){var h=u.table(c),m=h.schema.primaryKey;return n(n({},h),{mutate:function(S){var P=be.trans,C=P.table(c).hook,x=C.deleting,N=C.creating,A=C.updating;switch(S.type){case"add":if(N.fire===ze)break;return P._promise("readwrite",function(){return L(S)},!0);case"put":if(N.fire===ze&&A.fire===ze)break;return P._promise("readwrite",function(){return L(S)},!0);case"delete":if(x.fire===ze)break;return P._promise("readwrite",function(){return L(S)},!0);case"deleteRange":if(x.fire===ze)break;return P._promise("readwrite",function(){return function R(U,M,j){return h.query({trans:U,values:!1,query:{index:m,range:M},limit:j}).then(function(W){var z=W.result;return L({type:"delete",keys:z,trans:U}).then(function(q){return 0<q.numFailures?Promise.reject(q.failures[0]):z.length<j?{failures:[],numFailures:0,lastResult:void 0}:R(U,n(n({},M),{lower:z[z.length-1],lowerOpen:!0}),j)})})}(S.trans,S.range,1e4)},!0)}return h.mutate(S);function L(R){var U,M,j,W=be.trans,z=R.keys||Rd(m,R);if(!z)throw new Error("Keys missing");return(R=R.type==="add"||R.type==="put"?n(n({},R),{keys:z}):n({},R)).type!=="delete"&&(R.values=i([],R.values,!0)),R.keys&&(R.keys=i([],R.keys,!0)),U=h,j=z,((M=R).type==="add"?Promise.resolve([]):U.getMany({trans:M.trans,keys:j,cache:"immutable"})).then(function(q){var V=z.map(function(Y,Z){var re,le,ne,ae=q[Z],ce={onerror:null,onsuccess:null};return R.type==="delete"?x.fire.call(ce,Y,ae,W):R.type==="add"||ae===void 0?(re=N.fire.call(ce,Y,R.values[Z],W),Y==null&&re!=null&&(R.keys[Z]=Y=re,m.outbound||F(R.values[Z],m.keyPath,Y))):(re=Td(ae,R.values[Z]),(le=A.fire.call(ce,re,Y,ae,W))&&(ne=R.values[Z],Object.keys(le).forEach(function(ue){p(ne,ue)?ne[ue]=le[ue]:F(ne,ue,le[ue])}))),ce});return h.mutate(R).then(function(Y){for(var Z=Y.failures,re=Y.results,le=Y.numFailures,Y=Y.lastResult,ne=0;ne<z.length;++ne){var ae=(re||z)[ne],ce=V[ne];ae==null?ce.onerror&&ce.onerror(Z[ne]):ce.onsuccess&&ce.onsuccess(R.type==="put"&&q[ne]?R.values[ne]:ae)}return{failures:Z,results:re,numFailures:le,lastResult:Y}}).catch(function(Y){return V.forEach(function(Z){return Z.onerror&&Z.onerror(Y)}),Promise.reject(Y)})})}}})}})}};function lg(u,c,h){try{if(!c||c.keys.length<u.length)return null;for(var m=[],S=0,P=0;S<c.keys.length&&P<u.length;++S)Be(c.keys[S],u[P])===0&&(m.push(h?we(c.values[S]):c.values[S]),++P);return m.length===u.length?m:null}catch{return null}}var R$={stack:"dbcore",level:-1,create:function(u){return{table:function(c){var h=u.table(c);return n(n({},h),{getMany:function(m){if(!m.cache)return h.getMany(m);var S=lg(m.keys,m.trans._cache,m.cache==="clone");return S?he.resolve(S):h.getMany(m).then(function(P){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?we(P):P},P})},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),h.mutate(m)}})}}}};function cg(u,c){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function fg(u,c){switch(u){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var D$={stack:"dbcore",level:0,name:"Observability",create:function(u){var c=u.schema.name,h=new jt(u.MIN_KEY,u.MAX_KEY);return n(n({},u),{transaction:function(m,S,P){if(be.subscr&&S!=="readonly")throw new oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return u.transaction(m,S,P)},table:function(m){var S=u.table(m),P=S.schema,C=P.primaryKey,R=P.indexes,x=C.extractKey,N=C.outbound,A=C.autoIncrement&&R.filter(function(M){return M.compound&&M.keyPath.includes(C.keyPath)}),L=n(n({},S),{mutate:function(M){function j(ue){return ue="idb://".concat(c,"/").concat(m,"/").concat(ue),Y[ue]||(Y[ue]=new jt)}var W,z,q,V=M.trans,Y=M.mutatedParts||(M.mutatedParts={}),Z=j(""),re=j(":dels"),le=M.type,ce=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[Rd(C,M).filter(function(ue){return ue}),M.values]:[],ne=ce[0],ae=ce[1],ce=M.trans._cache;return s(ne)?(Z.addKeys(ne),(ce=le==="delete"||ne.length===ae.length?lg(ne,ce):null)||re.addKeys(ne),(ce||ae)&&(W=j,z=ce,q=ae,P.indexes.forEach(function(ue){var ye=W(ue.name||"");function Oe(Me){return Me!=null?ue.extractKey(Me):null}function Ne(Me){return ue.multiEntry&&s(Me)?Me.forEach(function(yr){return ye.addKey(yr)}):ye.addKey(Me)}(z||q).forEach(function(Me,Lt){var Ce=z&&Oe(z[Lt]),Lt=q&&Oe(q[Lt]);Be(Ce,Lt)!==0&&(Ce!=null&&Ne(Ce),Lt!=null&&Ne(Lt))})}))):ne?(ae={from:(ae=ne.lower)!==null&&ae!==void 0?ae:u.MIN_KEY,to:(ae=ne.upper)!==null&&ae!==void 0?ae:u.MAX_KEY},re.add(ae),Z.add(ae)):(Z.add(h),re.add(h),P.indexes.forEach(function(ue){return j(ue.name).add(h)})),S.mutate(M).then(function(ue){return!ne||M.type!=="add"&&M.type!=="put"||(Z.addKeys(ue.results),A&&A.forEach(function(ye){for(var Oe=M.values.map(function(Ce){return ye.extractKey(Ce)}),Ne=ye.keyPath.findIndex(function(Ce){return Ce===C.keyPath}),Me=0,yr=ue.results.length;Me<yr;++Me)Oe[Me][Ne]=ue.results[Me];j(ye.name).addKeys(Oe)})),V.mutatedParts=El(V.mutatedParts||{},Y),ue})}}),R=function(j){var W=j.query,j=W.index,W=W.range;return[j,new jt((j=W.lower)!==null&&j!==void 0?j:u.MIN_KEY,(W=W.upper)!==null&&W!==void 0?W:u.MAX_KEY)]},U={get:function(M){return[C,new jt(M.key)]},getMany:function(M){return[C,new jt().addKeys(M.keys)]},count:R,query:R,openCursor:R};return a(U).forEach(function(M){L[M]=function(j){var W=be.subscr,z=!!W,q=cg(be,S)&&fg(M,j)?j.obsSet={}:W;if(z){var V=function(ae){return ae="idb://".concat(c,"/").concat(m,"/").concat(ae),q[ae]||(q[ae]=new jt)},Y=V(""),Z=V(":dels"),W=U[M](j),z=W[0],W=W[1];if((M==="query"&&z.isPrimaryKey&&!j.values?Z:V(z.name||"")).add(W),!z.isPrimaryKey){if(M!=="count"){var re=M==="query"&&N&&j.values&&S.query(n(n({},j),{values:!1}));return S[M].apply(this,arguments).then(function(ae){if(M==="query"){if(N&&j.values)return re.then(function(Oe){return Oe=Oe.result,Y.addKeys(Oe),ae});var ce=j.values?ae.result.map(x):ae.result;(j.values?Y:Z).addKeys(ce)}else if(M==="openCursor"){var ue=ae,ye=j.values;return ue&&Object.create(ue,{key:{get:function(){return Z.addKey(ue.primaryKey),ue.key}},primaryKey:{get:function(){var Oe=ue.primaryKey;return Z.addKey(Oe),Oe}},value:{get:function(){return ye&&Y.addKey(ue.primaryKey),ue.value}}})}return ae})}Z.add(h)}}return S[M].apply(this,arguments)}}),L}})}};function dg(u,c,h){if(h.numFailures===0)return c;if(c.type==="deleteRange")return null;var m=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return h.numFailures===m?null:(c=n({},c),s(c.keys)&&(c.keys=c.keys.filter(function(S,P){return!(P in h.failures)})),"values"in c&&s(c.values)&&(c.values=c.values.filter(function(S,P){return!(P in h.failures)})),c)}function Dd(u,c){return h=u,((m=c).lower===void 0||(m.lowerOpen?0<Be(h,m.lower):0<=Be(h,m.lower)))&&(u=u,(c=c).upper===void 0||(c.upperOpen?Be(u,c.upper)<0:Be(u,c.upper)<=0));var h,m}function hg(u,c,U,m,S,P){if(!U||U.length===0)return u;var C=c.query.index,x=C.multiEntry,N=c.query.range,A=m.schema.primaryKey.extractKey,L=C.extractKey,R=(C.lowLevelIndex||C).extractKey,U=U.reduce(function(M,j){var W=M,z=[];if(j.type==="add"||j.type==="put")for(var q=new jt,V=j.values.length-1;0<=V;--V){var Y,Z=j.values[V],re=A(Z);q.hasKey(re)||(Y=L(Z),(x&&s(Y)?Y.some(function(ue){return Dd(ue,N)}):Dd(Y,N))&&(q.addKey(re),z.push(Z)))}switch(j.type){case"add":var le=new jt().addKeys(c.values?M.map(function(ye){return A(ye)}):M),W=M.concat(c.values?z.filter(function(ye){return ye=A(ye),!le.hasKey(ye)&&(le.addKey(ye),!0)}):z.map(function(ye){return A(ye)}).filter(function(ye){return!le.hasKey(ye)&&(le.addKey(ye),!0)}));break;case"put":var ne=new jt().addKeys(j.values.map(function(ye){return A(ye)}));W=M.filter(function(ye){return!ne.hasKey(c.values?A(ye):ye)}).concat(c.values?z:z.map(function(ye){return A(ye)}));break;case"delete":var ae=new jt().addKeys(j.keys);W=M.filter(function(ye){return!ae.hasKey(c.values?A(ye):ye)});break;case"deleteRange":var ce=j.range;W=M.filter(function(ye){return!Dd(A(ye),ce)})}return W},u);return U===u?u:(U.sort(function(M,j){return Be(R(M),R(j))||Be(A(M),A(j))}),c.limit&&c.limit<1/0&&(U.length>c.limit?U.length=c.limit:u.length===c.limit&&U.length<c.limit&&(S.dirty=!0)),P?Object.freeze(U):U)}function pg(u,c){return Be(u.lower,c.lower)===0&&Be(u.upper,c.upper)===0&&!!u.lowerOpen==!!c.lowerOpen&&!!u.upperOpen==!!c.upperOpen}function N$(u,c){return function(h,m,S,P){if(h===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((m=Be(h,m))===0){if(S&&P)return 0;if(S)return 1;if(P)return-1}return m}(u.lower,c.lower,u.lowerOpen,c.lowerOpen)<=0&&0<=function(h,m,S,P){if(h===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((m=Be(h,m))===0){if(S&&P)return 0;if(S)return-1;if(P)return 1}return m}(u.upper,c.upper,u.upperOpen,c.upperOpen)}function M$(u,c,h,m){u.subscribers.add(h),m.addEventListener("abort",function(){var S,P;u.subscribers.delete(h),u.subscribers.size===0&&(S=u,P=c,setTimeout(function(){S.subscribers.size===0&&J(P,S)},3e3))})}var A$={stack:"dbcore",level:0,name:"Cache",create:function(u){var c=u.schema.name;return n(n({},u),{transaction:function(h,m,S){var P,C,x=u.transaction(h,m,S);return m==="readwrite"&&(C=(P=new AbortController).signal,S=function(N){return function(){if(P.abort(),m==="readwrite"){for(var A=new Set,L=0,R=h;L<R.length;L++){var U=R[L],M=ro["idb://".concat(c,"/").concat(U)];if(M){var j=u.table(U),W=M.optimisticOps.filter(function(ye){return ye.trans===x});if(x._explicit&&N&&x.mutatedParts)for(var z=0,q=Object.values(M.queries.query);z<q.length;z++)for(var V=0,Y=(le=q[z]).slice();V<Y.length;V++)$d((ne=Y[V]).obsSet,x.mutatedParts)&&(J(le,ne),ne.subscribers.forEach(function(ye){return A.add(ye)}));else if(0<W.length){M.optimisticOps=M.optimisticOps.filter(function(ye){return ye.trans!==x});for(var Z=0,re=Object.values(M.queries.query);Z<re.length;Z++)for(var le,ne,ae,ce=0,ue=(le=re[Z]).slice();ce<ue.length;ce++)(ne=ue[ce]).res!=null&&x.mutatedParts&&(N&&!ne.dirty?(ae=Object.isFrozen(ne.res),ae=hg(ne.res,ne.req,W,j,ne,ae),ne.dirty?(J(le,ne),ne.subscribers.forEach(function(ye){return A.add(ye)})):ae!==ne.res&&(ne.res=ae,ne.promise=he.resolve({result:ae}))):(ne.dirty&&J(le,ne),ne.subscribers.forEach(function(ye){return A.add(ye)})))}}}A.forEach(function(ye){return ye()})}}},x.addEventListener("abort",S(!1),{signal:C}),x.addEventListener("error",S(!1),{signal:C}),x.addEventListener("complete",S(!0),{signal:C})),x},table:function(h){var m=u.table(h),S=m.schema.primaryKey;return n(n({},m),{mutate:function(P){var C=be.trans;if(S.outbound||C.db._options.cache==="disabled"||C.explicit||C.idbtrans.mode!=="readwrite")return m.mutate(P);var x=ro["idb://".concat(c,"/").concat(h)];return x?(C=m.mutate(P),P.type!=="add"&&P.type!=="put"||!(50<=P.values.length||Rd(S,P).some(function(N){return N==null}))?(x.optimisticOps.push(P),P.mutatedParts&&Pl(P.mutatedParts),C.then(function(N){0<N.numFailures&&(J(x.optimisticOps,P),(N=dg(0,P,N))&&x.optimisticOps.push(N),P.mutatedParts&&Pl(P.mutatedParts))}),C.catch(function(){J(x.optimisticOps,P),P.mutatedParts&&Pl(P.mutatedParts)})):C.then(function(N){var A=dg(0,n(n({},P),{values:P.values.map(function(L,R){var U;return N.failures[R]?L:(L=(U=S.keyPath)!==null&&U!==void 0&&U.includes(".")?we(L):n({},L),F(L,S.keyPath,N.results[R]),L)})}),N);x.optimisticOps.push(A),queueMicrotask(function(){return P.mutatedParts&&Pl(P.mutatedParts)})}),C):m.mutate(P)},query:function(P){if(!cg(be,m)||!fg("query",P))return m.query(P);var C=((A=be.trans)===null||A===void 0?void 0:A.db._options.cache)==="immutable",R=be,x=R.requery,N=R.signal,A=function(j,W,z,q){var V=ro["idb://".concat(j,"/").concat(W)];if(!V)return[];if(!(W=V.queries[z]))return[null,!1,V,null];var Y=W[(q.query?q.query.index.name:null)||""];if(!Y)return[null,!1,V,null];switch(z){case"query":var Z=Y.find(function(re){return re.req.limit===q.limit&&re.req.values===q.values&&pg(re.req.query.range,q.query.range)});return Z?[Z,!0,V,Y]:[Y.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=q.limit&&(!q.values||re.req.values)&&N$(re.req.query.range,q.query.range)}),!1,V,Y];case"count":return Z=Y.find(function(re){return pg(re.req.query.range,q.query.range)}),[Z,!!Z,V,Y]}}(c,h,"query",P),L=A[0],R=A[1],U=A[2],M=A[3];return L&&R?L.obsSet=P.obsSet:(R=m.query(P).then(function(j){var W=j.result;if(L&&(L.res=W),C){for(var z=0,q=W.length;z<q;++z)Object.freeze(W[z]);Object.freeze(W)}else j.result=we(W);return j}).catch(function(j){return M&&L&&J(M,L),Promise.reject(j)}),L={obsSet:P.obsSet,promise:R,subscribers:new Set,type:"query",req:P,dirty:!1},M?M.push(L):(M=[L],(U=U||(ro["idb://".concat(c,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[P.query.index.name||""]=M)),M$(L,M,x,N),L.promise.then(function(j){return{result:hg(j.result,P,U==null?void 0:U.optimisticOps,m,L,C)}})}})}})}};function kl(u,c){return new Proxy(u,{get:function(h,m,S){return m==="db"?c:Reflect.get(h,m,S)}})}var Rn=(dt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new oe.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var c=this._versions,h=c.filter(function(m){return m._cfg.version===u})[0];return h||(h=new this.Version(u),c.push(h),c.sort(P$),h.stores({}),this._state.autoSchema=!1,h)},dt.prototype._whenReady=function(u){var c=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?u():new he(function(h,m){if(c._state.openComplete)return m(new oe.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void m(new oe.DatabaseClosed);c.open().catch(ze)}c._state.dbReadyPromise.then(h,m)}).then(u)},dt.prototype.use=function(u){var c=u.stack,h=u.create,m=u.level,S=u.name;return S&&this.unuse({stack:c,name:S}),u=this._middlewares[c]||(this._middlewares[c]=[]),u.push({stack:c,create:h,level:m??10,name:S}),u.sort(function(P,C){return P.level-C.level}),this},dt.prototype.unuse=function(u){var c=u.stack,h=u.name,m=u.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(S){return m?S.create!==m:!!h&&S.name!==h})),this},dt.prototype.open=function(){var u=this;return Ji(ti,function(){return O$(u)})},dt.prototype._close=function(){var u=this._state,c=Xo.indexOf(this);if(0<=c&&Xo.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new he(function(h){u.dbReadyResolve=h}),u.openCanceller=new he(function(h,m){u.cancelOpen=m}))},dt.prototype.close=function(h){var c=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,h=this._state;c?(h.isBeingOpened&&h.cancelOpen(new oe.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new oe.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},dt.prototype.delete=function(u){var c=this;u===void 0&&(u={disableAutoOpen:!0});var h=0<arguments.length&&typeof arguments[0]!="object",m=this._state;return new he(function(S,P){function C(){c.close(u);var x=c._deps.indexedDB.deleteDatabase(c.name);x.onsuccess=rt(function(){var N,A,L;N=c._deps,A=c.name,L=N.indexedDB,N=N.IDBKeyRange,bd(L)||A===fl||Sd(L,N).delete(A).catch(ze),S()}),x.onerror=fn(P),x.onblocked=c._fireOnBlocked}if(h)throw new oe.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(C):C()})},dt.prototype.backendDB=function(){return this.idbdb},dt.prototype.isOpen=function(){return this.idbdb!==null},dt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},dt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},dt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(dt.prototype,"tables",{get:function(){var u=this;return a(this._allTables).map(function(c){return u._allTables[c]})},enumerable:!1,configurable:!0}),dt.prototype.transaction=function(){var u=(function(c,h,m){var S=arguments.length;if(S<2)throw new oe.InvalidArgument("Too few arguments");for(var P=new Array(S-1);--S;)P[S-1]=arguments[S];return m=P.pop(),[c,se(P),m]}).apply(this,arguments);return this._transaction.apply(this,u)},dt.prototype._transaction=function(u,c,h){var m=this,S=be.trans;S&&S.db===this&&u.indexOf("!")===-1||(S=null);var P,C,x=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(C=c.map(function(A){if(A=A instanceof m.Table?A.name:A,typeof A!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return A}),u=="r"||u===ld)P=ld;else{if(u!="rw"&&u!=cd)throw new oe.InvalidArgument("Invalid transaction mode: "+u);P=cd}if(S){if(S.mode===ld&&P===cd){if(!x)throw new oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&C.forEach(function(A){if(S&&S.storeNames.indexOf(A)===-1){if(!x)throw new oe.SubTransaction("Table "+A+" not included in parent transaction.");S=null}}),x&&S&&!S.active&&(S=null)}}catch(A){return S?S._promise(null,function(L,R){R(A)}):ft(A)}var N=(function A(L,R,U,M,j){return he.resolve().then(function(){var W=be.transless||be,z=L._createTransaction(R,U,L._dbSchema,M);if(z.explicit=!0,W={trans:z,transless:W},M)z.idbtrans=M.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(Y){return Y.name===ve.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return A(L,R,U,null,j)})):ft(Y)}var q,V=I(j);return V&&Yo(),W=he.follow(function(){var Y;(q=j.call(z,z))&&(V?(Y=ni.bind(null,null),q.then(Y,Y)):typeof q.next=="function"&&typeof q.throw=="function"&&(q=xd(q)))},W),(q&&typeof q.then=="function"?he.resolve(q).then(function(Y){return z.active?Y:ft(new oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):W.then(function(){return q})).then(function(Y){return M&&z._resolve(),z._completion.then(function(){return Y})}).catch(function(Y){return z._reject(Y),ft(Y)})})}).bind(null,this,P,C,S,h);return S?S._promise(P,N,"lock"):be.trans?Ji(be.transless,function(){return m._whenReady(N)}):this._whenReady(N)},dt.prototype.table=function(u){if(!p(this._allTables,u))throw new oe.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},dt);function dt(u,c){var h=this;this._middlewares={},this.verno=0;var m=dt.dependencies;this._options=c=n({addons:dt.addons,autoOpen:!0,indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},m=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,P,C,x,N,A={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ze,dbReadyPromise:null,cancelOpen:ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};A.dbReadyPromise=new he(function(R){A.dbReadyResolve=R}),A.openCanceller=new he(function(R,U){A.cancelOpen=U}),this._state=A,this.name=u,this.on=hs(this,"populate","blocked","versionchange","close",{ready:[Xi,ze]}),this.on.ready.subscribe=b(this.on.ready.subscribe,function(R){return function(U,M){dt.vip(function(){var j,W=h._state;W.openComplete?(W.dbOpenError||he.resolve().then(U),M&&R(U)):W.onReadyBeingFired?(W.onReadyBeingFired.push(U),M&&R(U)):(R(U),j=h,M||R(function z(){j.on.ready.unsubscribe(U),j.on.ready.unsubscribe(z)}))})}}),this.Collection=(S=this,ps(y$.prototype,function(q,z){this.db=S;var M=qy,j=null;if(z)try{M=z()}catch(V){j=V}var W=q._ctx,z=W.table,q=z.hook.reading.fire;this._ctx={table:z,index:W.index,isPrimKey:!W.index||z.schema.primKey.keyPath&&W.index===z.schema.primKey.name,range:M,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:j,or:W.or,valueMapper:q!==qr?q:null}})),this.Table=(P=this,ps(Xy.prototype,function(R,U,M){this.db=P,this._tx=M,this.name=R,this.schema=U,this.hook=P._allTables[R]?P._allTables[R].hook:hs(null,{creating:[us,ze],reading:[ss,qr],updating:[cs,ze],deleting:[ls,ze]})})),this.Transaction=(C=this,ps(_$.prototype,function(R,U,M,j,W){var z=this;this.db=C,this.mode=R,this.storeNames=U,this.schema=M,this.chromeTransactionDurability=j,this.idbtrans=null,this.on=hs(this,"complete","error","abort"),this.parent=W||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new he(function(q,V){z._resolve=q,z._reject=V}),this._completion.then(function(){z.active=!1,z.on.complete.fire()},function(q){var V=z.active;return z.active=!1,z.on.error.fire(q),z.parent?z.parent._reject(q):V&&z.idbtrans&&z.idbtrans.abort(),ft(q)})})),this.Version=(x=this,ps(C$.prototype,function(R){this.db=x,this._cfg={version:R,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(N=this,ps(eg.prototype,function(R,U,M){if(this.db=N,this._ctx={table:R,index:U===":id"?null:U,or:M},this._cmp=this._ascending=Be,this._descending=function(j,W){return Be(W,j)},this._max=function(j,W){return 0<Be(j,W)?j:W},this._min=function(j,W){return Be(j,W)<0?j:W},this._IDBKeyRange=N._deps.IDBKeyRange,!this._IDBKeyRange)throw new oe.MissingAPI})),this.on("versionchange",function(R){0<R.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(R){!R.newVersion||R.newVersion<R.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(R.oldVersion/10))}),this._maxKey=gs(c.IDBKeyRange),this._createTransaction=function(R,U,M,j){return new h.Transaction(R,U,M,h._options.chromeTransactionDurability,j)},this._fireOnBlocked=function(R){h.on("blocked").fire(R),Xo.filter(function(U){return U.name===h.name&&U!==h&&!U._state.vcFired}).map(function(U){return U.on("versionchange").fire(R)})},this.use(R$),this.use(A$),this.use(D$),this.use(x$),this.use(T$);var L=new Proxy(this,{get:function(R,U,M){if(U==="_vip")return!0;if(U==="table")return function(W){return kl(h.table(W),L)};var j=Reflect.get(R,U,M);return j instanceof Xy?kl(j,L):U==="tables"?j.map(function(W){return kl(W,L)}):U==="_createTransaction"?function(){return kl(j.apply(this,arguments),L)}:j}});this.vip=L,m.forEach(function(R){return R(h)})}var Cl,Tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",I$=(Nd.prototype.subscribe=function(u,c,h){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:c,complete:h})},Nd.prototype[Tr]=function(){return this},Nd);function Nd(u){this._subscribe=u}try{Cl={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Cl={indexedDB:null,IDBKeyRange:null}}function mg(u){var c,h=!1,m=new I$(function(S){var P=I(u),C,x=!1,N={},A={},L={get closed(){return x},unsubscribe:function(){x||(x=!0,C&&C.abort(),R&&ai.storagemutated.unsubscribe(M))}};S.start&&S.start(L);var R=!1,U=function(){return ud(j)},M=function(W){El(N,W),$d(A,N)&&U()},j=function(){var W,z,q;!x&&Cl.indexedDB&&(N={},W={},C&&C.abort(),C=new AbortController,q=function(V){var Y=Ho();try{P&&Yo();var Z=ri(u,V);return Z=P?Z.finally(ni):Z}finally{Y&&Vo()}}(z={subscr:W,signal:C.signal,requery:U,querier:u,trans:null}),Promise.resolve(q).then(function(V){h=!0,c=V,x||z.signal.aborted||(N={},function(Y){for(var Z in Y)if(p(Y,Z))return;return 1}(A=W)||R||(ai(ys,M),R=!0),ud(function(){return!x&&S.next&&S.next(V)}))},function(V){h=!1,["DatabaseClosedError","AbortError"].includes(V==null?void 0:V.name)||x||ud(function(){x||S.error&&S.error(V)})}))};return setTimeout(U,0),L});return m.hasValue=function(){return h},m.getValue=function(){return c},m}var no=Rn;function Md(u){var c=si;try{si=!0,ai.storagemutated.fire(u),Od(u,!0)}finally{si=c}}v(no,n(n({},Xe),{delete:function(u){return new no(u,{addons:[]}).delete()},exists:function(u){return new no(u,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return c=no.dependencies,h=c.indexedDB,c=c.IDBKeyRange,(bd(h)?Promise.resolve(h.databases()).then(function(m){return m.map(function(S){return S.name}).filter(function(S){return S!==fl})}):Sd(h,c).toCollection().primaryKeys()).then(u)}catch{return ft(new oe.MissingAPI)}var c,h},defineClass:function(){return function(u){l(this,u)}},ignoreTransaction:function(u){return be.trans?Ji(be.transless,u):u()},vip:Ed,async:function(u){return function(){try{var c=xd(u.apply(this,arguments));return c&&typeof c.then=="function"?c:he.resolve(c)}catch(h){return ft(h)}}},spawn:function(u,c,h){try{var m=xd(u.apply(h,c||[]));return m&&typeof m.then=="function"?m:he.resolve(m)}catch(S){return ft(S)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(u,c){return c=he.resolve(typeof u=="function"?no.ignoreTransaction(u):u).timeout(c||6e4),be.trans?be.trans.waitFor(c):c},Promise:he,debug:{get:function(){return ir},set:function(u){Ko(u)}},derive:E,extend:l,props:v,override:b,Events:hs,on:ai,liveQuery:mg,extendObservabilitySet:El,getByKeyPath:B,setByKeyPath:F,delByKeyPath:function(u,c){typeof c=="string"?F(u,c,void 0):"length"in c&&[].map.call(c,function(h){F(u,h,void 0)})},shallowClone:Q,deepClone:we,getObjectDiff:Td,cmp:Be,asap:T,minKey:-1/0,addons:[],connections:Xo,errnames:ve,dependencies:Cl,cache:ro,semVer:"4.0.10",version:"4.0.10".split(".").map(function(u){return parseInt(u)}).reduce(function(u,c,h){return u+c/Math.pow(10,2*h)})})),no.maxKey=gs(no.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ai(ys,function(u){si||(u=new CustomEvent(pd,{detail:u}),si=!0,dispatchEvent(u),si=!1)}),addEventListener(pd,function(u){u=u.detail,si||Md(u)}));var Zo,si=!1,vg=function(){};return typeof BroadcastChannel<"u"&&((vg=function(){(Zo=new BroadcastChannel(pd)).onmessage=function(u){return u.data&&Md(u.data)}})(),typeof Zo.unref=="function"&&Zo.unref(),ai(ys,function(u){si||Zo.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Rn.disableBfCache&&u.persisted){ir&&console.debug("Dexie: handling persisted pagehide"),Zo!=null&&Zo.close();for(var c=0,h=Xo;c<h.length;c++)h[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Rn.disableBfCache&&u.persisted&&(ir&&console.debug("Dexie: handling persisted pageshow"),vg(),Md({all:new jt(-1/0,[[]])}))})),he.rejectionMapper=function(u,c){return!u||u instanceof K||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Ie[u.name]?u:(c=new Ie[u.name](c||u.message,u),"stack"in u&&_(c,"stack",{get:function(){return this.inner.stack}}),c)},Ko(ir),n(Rn,Object.freeze({__proto__:null,Dexie:Rn,liveQuery:mg,Entity:Hy,cmp:Be,PropModSymbol:Tn,PropModification:ms,replacePrefix:function(u,c){return new ms({replacePrefix:[u,c]})},add:function(u){return new ms({add:u})},remove:function(u){return new ms({remove:u})},default:Rn,RangeSet:jt,mergeRanges:Ss,rangesOverlap:og}),{default:Rn}),Rn})})(BE);var KM=BE.exports;const Jp=Bu(KM),ww=Symbol.for("Dexie"),em=globalThis[ww]||(globalThis[ww]=Jp);if(Jp.semVer!==em.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Jp.semVer} and ${em.semVer}`);var df="docs",WM="changes",_w="attachments",KE="dexie",Sw=new Map,Cc=new Map;function UM(e,t,r,n){var i="rxdb-dexie-"+e+"--"+n.version+"--"+t,o=un(Sw,i,()=>{var a=(async()=>{var s=Vt(r);s.autoOpen=!1;var l=new em(i,s);r.onCreate&&await r.onCreate(l,i);var f={[df]:VM(n),[WM]:"++sequence, id",[_w]:"id"};return l.version(1).stores(f),await l.open(),{dexieDb:l,dexieTable:l[df],dexieAttachmentsTable:l[_w],booleanIndexes:YM(n)}})();return Sw.set(i,o),Cc.set(o,0),a});return o}async function qM(e){var t=await e,r=Cc.get(e),n=r-1;n===0?(t.dexieDb.close(),Cc.delete(e)):Cc.set(e,n)}var tm="__";function ns(e){var t=e.split(".");if(t.length>1)return t.map(n=>ns(n)).join(".");if(e.startsWith("|")){var r=e.substring(1);return tm+r}else return e}function WE(e){var t=e.split(".");if(t.length>1)return t.map(n=>WE(n)).join(".");if(e.startsWith(tm)){var r=e.substring(tm.length);return"|"+r}else return e}function HM(e,t){if(!t)return t;var r=Vt(t);return r=rm(r),e.forEach(n=>{var i=es(t,n),o=i?"1":"0",a=ns(n);WS(r,a,o)}),r}function UE(e,t){return t&&(t=Vt(t),t=nm(t),e.forEach(r=>{var n=es(t,r),i=n==="1";WS(t,r,i)}),t)}function rm(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(r=>rm(r));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="object"&&(n=rm(n)),t[ns(r)]=n}),t}}function nm(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(r=>nm(r));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([r,n])=>{(typeof n=="object"||Array.isArray(e))&&(n=nm(n)),t[WE(r)]=n}),t}}function VM(e){var t=[],r=qi(e.primaryKey);t.push([r]),t.push(["_deleted",r]),e.indexes&&e.indexes.forEach(o=>{var a=hv(o);t.push(a)}),t.push(["_meta.lwt",r]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>ns(a)));var n=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");n=n.filter((o,a,s)=>s.indexOf(o)===a);var i=n.join(", ");return i}async function bw(e,t){var r=await e,n=await r.dexieTable.bulkGet(t);return n.map(i=>UE(r.booleanIndexes,i))}function Ql(e,t){return e+"||"+t}function YM(e){var t=new Set,r=[];return e.indexes?(e.indexes.forEach(n=>{var i=hv(n);i.forEach(o=>{if(!t.has(o)){t.add(o);var a=Cu(e,o);a.type==="boolean"&&r.push(o)}})}),r.push("_deleted"),kx(r)):r}function Ew(e){return e===Ca?-1/0:e}function Pw(e,t,r){if(e.includes(t)){var n=r===ka||r===!0?"1":"0";return n}else return r}function qE(e,t,r){if(!r){if(typeof window>"u")throw new Error("IDBKeyRange missing");r=window.IDBKeyRange}var n=t.startKeys.map((a,s)=>{var l=t.index[s];return Pw(e,l,a)}).map(Ew),i=t.endKeys.map((a,s)=>{var l=t.index[s];return Pw(e,l,a)}).map(Ew),o=r.bound(n,i,!t.inclusiveStart,!t.inclusiveEnd);return o}async function $w(e,t){var r=await e.internals,n=t.query,i=n.skip?n.skip:0,o=n.limit?n.limit:1/0,a=i+o,s=t.queryPlan,l=!1;s.selectorSatisfiedByIndex||(l=Cv(e.schema,t.query));var f=qE(r.booleanIndexes,s,r.dexieDb._options.IDBKeyRange),d=s.index,p=[];if(await r.dexieDb.transaction("r",r.dexieTable,async w=>{var _=w.idbtrans,E=_.objectStore(df),$,g;g="["+d.map(b=>ns(b)).join("+")+"]",$=E.index(g);var y=$.openCursor(f);await new Promise(b=>{y.onsuccess=function(O){var T=O.target.result;if(T){var B=UE(r.booleanIndexes,T.value);(!l||l(B))&&p.push(B),s.sortSatisfiedByIndex&&p.length===a?b():T.continue()}else b()}})}),!s.sortSatisfiedByIndex){var v=oE(e.schema,t.query);p=p.sort(v)}return p=p.slice(i,a),{documents:p}}async function XM(e,t){var r=await e.internals,n=t.queryPlan,i=n.index,o=qE(r.booleanIndexes,n,r.dexieDb._options.IDBKeyRange),a=-1;return await r.dexieDb.transaction("r",r.dexieTable,async s=>{var l=s.idbtrans,f=l.objectStore(df),d,p;p="["+i.map(w=>ns(w)).join("+")+"]",d=f.index(p);var v=d.count(o);a=await new Promise((w,_)=>{v.onsuccess=function(){w(v.result)},v.onerror=E=>_(E)})}),a}var GM=Ui(),kh=!1,QM=function(){function e(r,n,i,o,a,s,l,f){this.changes$=new Fo,this.instanceId=GM++,this.storage=r,this.databaseName=n,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=l,this.devMode=f,this.primaryPath=qi(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=async function(n,i){ao(this),!kh&&!await HS()&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium/?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),kh=!0,n.forEach(d=>{if(!d.document._rev||d.previous&&!d.previous._rev)throw $e("SNH",{args:{row:d}})});var o=await this.internals,a={error:[]};this.devMode&&(n=n.map(d=>{var p=Uf(d.document);return{previous:d.previous,document:p}}));var s=n.map(d=>d.document[this.primaryPath]),l;if(await o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,async()=>{var d=new Map,p=await bw(this.internals,s);p.forEach(_=>{var E=_;return E&&d.set(E[this.primaryPath],E),E}),l=YR(this,this.primaryPath,d,n,i),a.error=l.errors;var v=[];l.bulkInsertDocs.forEach(_=>{v.push(_.document)}),l.bulkUpdateDocs.forEach(_=>{v.push(_.document)}),v=v.map(_=>HM(o.booleanIndexes,_)),v.length>0&&await o.dexieTable.bulkPut(v);var w=[];l.attachmentsAdd.forEach(_=>{w.push({id:Ql(_.documentId,_.attachmentId),data:_.attachmentData.data})}),l.attachmentsUpdate.forEach(_=>{w.push({id:Ql(_.documentId,_.attachmentId),data:_.attachmentData.data})}),await o.dexieAttachmentsTable.bulkPut(w),await o.dexieAttachmentsTable.bulkDelete(l.attachmentsRemove.map(_=>Ql(_.documentId,_.attachmentId)))}),l=at(l),l.eventBulk.events.length>0){var f=at(l.newestRow).document;l.eventBulk.checkpoint={id:f[this.primaryPath],lwt:f._meta.lwt},this.changes$.next(l.eventBulk)}return a},t.findDocumentsById=async function(n,i){ao(this);var o=await this.internals,a=[];return await o.dexieDb.transaction("r",o.dexieTable,async()=>{var s=await bw(this.internals,n);s.forEach(l=>{l&&(!l._deleted||i)&&a.push(l)})}),a},t.query=function(n){return ao(this),$w(this,n)},t.count=async function(n){if(n.queryPlan.selectorSatisfiedByIndex){var i=await XM(this,n);return{count:i,mode:"fast"}}else{var o=await $w(this,n);return{count:o.documents.length,mode:"slow"}}},t.changeStream=function(){return ao(this),this.changes$.asObservable()},t.cleanup=async function(n){ao(this);var i=await this.internals;return await i.dexieDb.transaction("rw",i.dexieTable,async()=>{var o=Ui()-n,a=await i.dexieTable.where("_meta.lwt").below(o).toArray(),s=[];a.forEach(l=>{l._deleted==="1"&&s.push(l[this.primaryPath])}),await i.dexieTable.bulkDelete(s)}),!0},t.getAttachmentData=async function(n,i,o){ao(this);var a=await this.internals,s=Ql(n,i);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var l=await a.dexieAttachmentsTable.get(s);if(l)return l.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+i)})},t.remove=async function(){ao(this);var n=await this.internals;return await n.dexieTable.clear(),this.close()},t.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await qM(this.internals)})(),this.closed)},e}();async function ZM(e,t,r){var n=UM(t.databaseName,t.collectionName,r,t.schema),i=new QM(e,t.databaseName,t.collectionName,t.schema,n,t.options,r,t.devMode);return await LM(KE,t,i),Promise.resolve(i)}function ao(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var JM=function(){function e(r){this.name=KE,this.rxdbVersion=qS,this.settings=r}var t=e.prototype;return t.createStorageInstance=function(n){if(QR(n),n.schema.indexes){var i=n.schema.indexes.flat();i.filter(o=>!o.includes(".")).forEach(o=>{if(!n.schema.required||!n.schema.required.includes(o))throw $e("DXE1",{field:o,schema:n.schema})})}return ZM(this,n,this.settings)},e}();function eA(e={}){var t=new JM(e);return t}const Hf=e=>rr((t,r,n)=>{let i=0;if(je(r))for(const o of r)i=i|1<<o;else i=r;return e(t&i,i)}),tA=Hf((e,t)=>e==0),rA=Hf((e,t)=>e==t),nA=Hf((e,t)=>e<t),iA=Hf((e,t)=>e>0),oA=Object.freeze(Object.defineProperty({__proto__:null,$all:UR,$and:Kb,$bitsAllClear:tA,$bitsAllSet:rA,$bitsAnyClear:nA,$bitsAnySet:iA,$elemMatch:tE,$eq:qb,$exists:nE,$expr:BR,$gt:Hb,$gte:Vb,$in:Yb,$jsonSchema:KR,$lt:Xb,$lte:Gb,$mod:Jb,$ne:Qb,$nin:Zb,$nor:Wb,$not:Ub,$or:kv,$regex:eE,$size:rE,$type:iE,$where:WR},Symbol.toStringTag,{value:"Module"})),nr={cloneMode:"copy",queryOptions:xb({context:No.init().addQueryOps(oA).addExpressionOps(TR).addExpressionOps(jR)})},Kv=(e,t)=>{switch(e){case"deep":return Ya(t);case"copy":return Ha(t)?new Date(t):je(t)?[...t]:yt(t)?{...t}:Wn(t)?new RegExp(t):t;default:return t}},aA=/^[a-z]+[a-zA-Z0-9]*$/;function HE(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];const t=e.indexOf(".$"),r=e.indexOf("]"),n=e.substring(0,t),i=e.substring(t+3,r);Ve(i===""||aA.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");const o=e.substring(r+2),[a,s]=o?HE(o):[];return[{selector:e,parent:n,child:i||"$",next:a},[i,...s||[]].filter(Boolean)]}const pr=(e,t,r,n,i)=>{const{parent:o,child:a,next:s}=t;if(!a){let f=!1;return Du(e,o,(p,v)=>f=!!n(p,v)||f,i),f}const l=En(e,o);return je(l)?l.map((f,d)=>r[a]&&!r[a].test({[a]:f})?!1:s?pr(f,s,r,n,i):n(l,d)).some(Boolean):!1};function xr(e,t,r,n){const i=[];for(const[o,a]of Object.entries(e)){const[s,l]=HE(o);if(!l.length)n(a,s,{})&&i.push(s.parent);else{const f={};t.forEach(p=>{Object.keys(p).forEach(v=>{l.forEach(w=>{(v===w||v.startsWith(w+"."))&&(f[w]=f[w]||{},Object.assign(f[w],{[v]:p[v]}))})})});const d={};for(const[p,v]of Object.entries(f))d[p]=new Yi(v,r.queryOptions);n(a,s,d)&&i.push(s.parent)}}return i}const sA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>{const s={$each:[i]};return yt(i)&&cn(i,"$each")&&Object.assign(s,i),pr(e,o,a,(l,f)=>{const d=l[f]||(l[f]=[]);return $b([d,s.$each]).length===s.$each.length?!1:(l[f]=Kv(n.cloneMode,JT(d.concat(s.$each))),!0)},{buildGraph:!0})}),uA=new Set(["and","or","xor"]),lA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>{const s=Object.keys(i);return Ve(s.length===1&&uA.has(s[0]),`Invalid bit operator '${s[0]}'. Must be one of 'and', 'or', or 'xor'.`),pr(e,o,a,(l,f)=>{let d=l[f];const p=i[s[0]];if(d!==void 0&&!(Ot(d)&&Ot(p)))return!1;switch(d=d||0,s[0]){case"and":l[f]=d&p;break;case"or":l[f]=d|p;break;case"xor":l[f]=d^p;break}return l[f]!==d},{buildGraph:!0})}),cA=(e,t,r=[],n=nr)=>{const i=Date.now();return xr(t,r,n,(o,a,s)=>pr(e,a,s,(l,f)=>(l[f]=i,!0),{buildGraph:!0}))},fA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>{if(!o.child){const s=En(e,o.parent);Ve(s===void 0||Ot(s),"cannot apply $inc to a value of non-numeric type")}return pr(e,o,a,(s,l)=>(s[l]=(s[l]||(s[l]=0))+i,!0),{buildGraph:!0})}),dA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>pr(e,o,a,(s,l)=>s[l]!==void 0&&Ur(s[l],i)>-1?!1:(s[l]=i,!0),{buildGraph:!0})),hA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>pr(e,o,a,(s,l)=>s[l]!==void 0&&Ur(s[l],i)<1?!1:(s[l]=i,!0),{buildGraph:!0})),pA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>pr(e,o,a,(s,l)=>{const f=s[l];return s[l]=s[l]===void 0?0:s[l]*i,s[l]!==f},{buildGraph:!0})),mA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>pr(e,o,a,(s,l)=>{const f=s[l];return Ve(je(f),`path '${o.selector}' contains an element of non-array type.`),f.length?(i===-1?f.splice(0,1):f.pop(),!0):!1})),VE=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>{const s=!yt(i)||Object.keys(i).some(Vi),l=new Yi(s?{k:i}:i,n.queryOptions),f=s?d=>l.test({k:d}):d=>l.test(d);return pr(e,o,a,(d,p)=>{const v=d[p],w=new Array;return v.map(E=>{const $=f(E);return $||w.push(E),$}).some(Boolean)?(d[p]=w,!0):!1})}),vA=(e,t,r=[],n=nr)=>{const i={};return Object.entries(t).forEach(([o,a])=>{i[o]={$in:a}}),VE(e,i,r,n)},yA=Object.freeze(["$each","$slice","$sort","$position"]),gA=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>{const s={$each:[i]};return yt(i)&&yA.some(l=>cn(i,l))&&Object.assign(s,i),pr(e,o,a,(l,f)=>{const d=l[f]||(l[f]=[]),p=d.slice(0,s.$slice||d.length),v=d.length,w=Ot(s.$position)?s.$position:d.length;if(d.splice(w,0,...Kv(n.cloneMode,s.$each)),s.$sort){const _=yt(s.$sort)?Object.keys(s.$sort||{}).pop():"",E=_?s.$sort[_]:s.$sort,$=_?g=>En(g,_):g=>g;d.sort((g,y)=>E*Ur($(g),$(y)))}return Ot(s.$slice)&&(s.$slice<0?d.splice(0,d.length+s.$slice):d.splice(s.$slice)),v!=d.length||!on(p,d)},{descendArray:!0,buildGraph:!0})}),YE=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>pr(e,o,a,(s,l)=>on(s[l],i)?!1:(s[l]=Kv(n.cloneMode,i),!0),{buildGraph:!0})),wA=(e,t,r=[],n=nr)=>{const i=[],o=xr(t,r,n,(a,s,l)=>pr(e,s,l,(f,d)=>cn(f,d)?(i.push(...YE(e,{[a]:f[d]},r,n)),delete f[d],!0):!1));return Array.from(new Set(o.concat(i)))},_A=(e,t,r=[],n=nr)=>xr(t,r,n,(i,o,a)=>pr(e,o,a,(s,l)=>cn(s,l)?(je(s)?s[l]=null:delete s[l],!0):!1)),kw=Object.freeze(Object.defineProperty({__proto__:null,$addToSet:sA,$bit:lA,$currentDate:cA,$inc:fA,$max:dA,$min:hA,$mul:pA,$pop:mA,$pull:VE,$pullAll:vA,$push:gA,$rename:wA,$set:YE,$unset:_A},Symbol.toStringTag,{value:"Module"}));function XE(e){return e=e??nr,(t,r,n=[],i={},o=e)=>{const a=Object.entries(r);Ve(a.length===1,"Update expression must contain only one operator.");const[s,l]=a[0];Ve(cn(kw,s),`Update operator '${s}' is not supported.`);const f=kw[s];return Object.keys(i).length&&!new Yi(i,o.queryOptions).test(t)?[]:f(t,l,n,o)}}XE();var Ch;function GE(e,t){if(!Ch){var r=XE({cloneMode:"none"});Ch=(n,i)=>{var o=Ka(n);return r(o,i),o}}return Ch(e,t)}function SA(e){return this.incrementalModify(t=>{var r=GE(t,e);return r})}function bA(e){var t=this._data,r=GE(t,e);return this._saveData(r,t)}async function EA(e){return na(this.asRxQuery,t=>t.update(e))}var PA={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=bA,e.incrementalUpdate=SA},RxQuery:e=>{e.update=EA}}},im={exports:{}},QE={},an={},Xa={},tl={},Te={},Iu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((b,O)=>`${b}${O}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((b,O)=>(O instanceof r&&(b[O.str]=(b[O.str]||0)+1),b),{})}}e._Code=n,e.nil=new n("");function i(g,...y){const b=[g[0]];let O=0;for(;O<y.length;)s(b,y[O]),b.push(g[++O]);return new n(b)}e._=i;const o=new n("+");function a(g,...y){const b=[w(g[0])];let O=0;for(;O<y.length;)b.push(o),s(b,y[O]),b.push(o,w(g[++O]));return l(b),new n(b)}e.str=a;function s(g,y){y instanceof n?g.push(...y._items):y instanceof r?g.push(y):g.push(p(y))}e.addCodeArg=s;function l(g){let y=1;for(;y<g.length-1;){if(g[y]===o){const b=f(g[y-1],g[y+1]);if(b!==void 0){g.splice(y-1,3,b);continue}g[y++]="+"}y++}}function f(g,y){if(y==='""')return g;if(g==='""')return y;if(typeof g=="string")return y instanceof r||g[g.length-1]!=='"'?void 0:typeof y!="string"?`${g.slice(0,-1)}${y}"`:y[0]==='"'?g.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(g instanceof r))return`"${g}${y.slice(1)}`}function d(g,y){return y.emptyStr()?g:g.emptyStr()?y:a`${g}${y}`}e.strConcat=d;function p(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:w(Array.isArray(g)?g.join(","):g)}function v(g){return new n(w(g))}e.stringify=v;function w(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=w;function _(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=_;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function $(g){return new n(g.toString())}e.regexpCode=$})(Iu);var om={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Iu;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,p;if(!((p=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||p===void 0)&&p.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=i;class o extends t.Name{constructor(f,d){super(d),this.prefix=f}setValue(f,{property:d,itemIndex:p}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${p}]`}}e.ValueScopeName=o;const a=(0,t._)`\n`;class s extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?a:t.nil}}get(){return this._scope}name(f){return new o(f,this._newName(f))}value(f,d){var p;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(f),{prefix:w}=v,_=(p=d.key)!==null&&p!==void 0?p:d.ref;let E=this._values[w];if(E){const y=E.get(_);if(y)return y}else E=this._values[w]=new Map;E.set(_,v);const $=this._scope[w]||(this._scope[w]=[]),g=$.length;return $[g]=d.ref,v.setValue(d,{property:w,itemIndex:g}),v}getValue(f,d){const p=this._values[f];if(p)return p.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${f}${p.scopePath}`})}scopeCode(f=this._values,d,p){return this._reduceValues(f,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},d,p)}_reduceValues(f,d,p={},v){let w=t.nil;for(const _ in f){const E=f[_];if(!E)continue;const $=p[_]=p[_]||new Map;E.forEach(g=>{if($.has(g))return;$.set(g,n.Started);let y=d(g);if(y){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;w=(0,t._)`${w}${b} ${g} = ${y};${this.opts._n}`}else if(y=v==null?void 0:v(g))w=(0,t._)`${w}${y}${this.opts._n}`;else throw new r(g);$.set(g,n.Completed)})}return w}}e.ValueScope=s})(om);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Iu,r=om;var n=Iu;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=om;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(k,D){return this}}class a extends o{constructor(k,D,X){super(),this.varKind=k,this.name=D,this.rhs=X}render({es5:k,_n:D}){const X=k?r.varKinds.var:this.varKind,ve=this.rhs===void 0?"":` = ${this.rhs}`;return`${X} ${this.name}${ve};`+D}optimizeNames(k,D){if(k[this.name.str])return this.rhs&&(this.rhs=Se(this.rhs,k,D)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(k,D,X){super(),this.lhs=k,this.rhs=D,this.sideEffects=X}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,D){if(!(this.lhs instanceof t.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=Se(this.rhs,k,D),this}get names(){const k=this.lhs instanceof t.Name?{}:{...this.lhs.names};return we(k,this.rhs)}}class l extends s{constructor(k,D,X,ve){super(k,X,ve),this.op=D}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class f extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class d extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class p extends o{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class v extends o{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,D){return this.code=Se(this.code,k,D),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class w extends o{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((D,X)=>D+X.render(k),"")}optimizeNodes(){const{nodes:k}=this;let D=k.length;for(;D--;){const X=k[D].optimizeNodes();Array.isArray(X)?k.splice(D,1,...X):X?k[D]=X:k.splice(D,1)}return k.length>0?this:void 0}optimizeNames(k,D){const{nodes:X}=this;let ve=X.length;for(;ve--;){const _e=X[ve];_e.optimizeNames(k,D)||(Re(k,_e.names),X.splice(ve,1))}return X.length>0?this:void 0}get names(){return this.nodes.reduce((k,D)=>ie(k,D.names),{})}}class _ extends w{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class E extends w{}class $ extends _{}$.kind="else";class g extends _{constructor(k,D){super(D),this.condition=k}render(k){let D=`if(${this.condition})`+super.render(k);return this.else&&(D+="else "+this.else.render(k)),D}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let D=this.else;if(D){const X=D.optimizeNodes();D=this.else=Array.isArray(X)?new $(X):X}if(D)return k===!1?D instanceof g?D:D.nodes:this.nodes.length?this:new g(Fe(k),D instanceof g?[D]:D.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,D){var X;if(this.else=(X=this.else)===null||X===void 0?void 0:X.optimizeNames(k,D),!!(super.optimizeNames(k,D)||this.else))return this.condition=Se(this.condition,k,D),this}get names(){const k=super.names;return we(k,this.condition),this.else&&ie(k,this.else.names),k}}g.kind="if";class y extends _{}y.kind="for";class b extends y{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,D){if(super.optimizeNames(k,D))return this.iteration=Se(this.iteration,k,D),this}get names(){return ie(super.names,this.iteration.names)}}class O extends y{constructor(k,D,X,ve){super(),this.varKind=k,this.name=D,this.from=X,this.to=ve}render(k){const D=k.es5?r.varKinds.var:this.varKind,{name:X,from:ve,to:_e}=this;return`for(${D} ${X}=${ve}; ${X}<${_e}; ${X}++)`+super.render(k)}get names(){const k=we(super.names,this.from);return we(k,this.to)}}class T extends y{constructor(k,D,X,ve){super(),this.loop=k,this.varKind=D,this.name=X,this.iterable=ve}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,D){if(super.optimizeNames(k,D))return this.iterable=Se(this.iterable,k,D),this}get names(){return ie(super.names,this.iterable.names)}}class B extends _{constructor(k,D,X){super(),this.name=k,this.args=D,this.async=X}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}B.kind="func";class F extends w{render(k){return"return "+super.render(k)}}F.kind="return";class Q extends _{render(k){let D="try"+super.render(k);return this.catch&&(D+=this.catch.render(k)),this.finally&&(D+=this.finally.render(k)),D}optimizeNodes(){var k,D;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(D=this.finally)===null||D===void 0||D.optimizeNodes(),this}optimizeNames(k,D){var X,ve;return super.optimizeNames(k,D),(X=this.catch)===null||X===void 0||X.optimizeNames(k,D),(ve=this.finally)===null||ve===void 0||ve.optimizeNames(k,D),this}get names(){const k=super.names;return this.catch&&ie(k,this.catch.names),this.finally&&ie(k,this.finally.names),k}}class de extends _{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}de.kind="catch";class se extends _{render(k){return"finally"+super.render(k)}}se.kind="finally";class te{constructor(k,D={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...D,_n:D.lines?`
`:""},this._extScope=k,this._scope=new r.Scope({parent:k}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,D){const X=this._extScope.value(k,D);return(this._values[X.prefix]||(this._values[X.prefix]=new Set)).add(X),X}getScopeValue(k,D){return this._extScope.getValue(k,D)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,D,X,ve){const _e=this._scope.toName(D);return X!==void 0&&ve&&(this._constants[_e.str]=X),this._leafNode(new a(k,_e,X)),_e}const(k,D,X){return this._def(r.varKinds.const,k,D,X)}let(k,D,X){return this._def(r.varKinds.let,k,D,X)}var(k,D,X){return this._def(r.varKinds.var,k,D,X)}assign(k,D,X){return this._leafNode(new s(k,D,X))}add(k,D){return this._leafNode(new l(k,e.operators.ADD,D))}code(k){return typeof k=="function"?k():k!==t.nil&&this._leafNode(new v(k)),this}object(...k){const D=["{"];for(const[X,ve]of k)D.length>1&&D.push(","),D.push(X),(X!==ve||this.opts.es5)&&(D.push(":"),(0,t.addCodeArg)(D,ve));return D.push("}"),new t._Code(D)}if(k,D,X){if(this._blockNode(new g(k)),D&&X)this.code(D).else().code(X).endIf();else if(D)this.code(D).endIf();else if(X)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new g(k))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(g,$)}_for(k,D){return this._blockNode(k),D&&this.code(D).endFor(),this}for(k,D){return this._for(new b(k),D)}forRange(k,D,X,ve,_e=this.opts.es5?r.varKinds.var:r.varKinds.let){const oe=this._scope.toName(k);return this._for(new O(_e,oe,D,X),()=>ve(oe))}forOf(k,D,X,ve=r.varKinds.const){const _e=this._scope.toName(k);if(this.opts.es5){const oe=D instanceof t.Name?D:this.var("_arr",D);return this.forRange("_i",0,(0,t._)`${oe}.length`,Ie=>{this.var(_e,(0,t._)`${oe}[${Ie}]`),X(_e)})}return this._for(new T("of",ve,_e,D),()=>X(_e))}forIn(k,D,X,ve=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,t._)`Object.keys(${D})`,X);const _e=this._scope.toName(k);return this._for(new T("in",ve,_e,D),()=>X(_e))}endFor(){return this._endBlockNode(y)}label(k){return this._leafNode(new f(k))}break(k){return this._leafNode(new d(k))}return(k){const D=new F;if(this._blockNode(D),this.code(k),D.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(k,D,X){if(!D&&!X)throw new Error('CodeGen: "try" without "catch" and "finally"');const ve=new Q;if(this._blockNode(ve),this.code(k),D){const _e=this.name("e");this._currNode=ve.catch=new de(_e),D(_e)}return X&&(this._currNode=ve.finally=new se,this.code(X)),this._endBlockNode(de,se)}throw(k){return this._leafNode(new p(k))}block(k,D){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(D),this}endBlock(k){const D=this._blockStarts.pop();if(D===void 0)throw new Error("CodeGen: not in self-balancing block");const X=this._nodes.length-D;if(X<0||k!==void 0&&X!==k)throw new Error(`CodeGen: wrong number of nodes: ${X} vs ${k} expected`);return this._nodes.length=D,this}func(k,D=t.nil,X,ve){return this._blockNode(new B(k,D,X)),ve&&this.code(ve).endFunc(),this}endFunc(){return this._endBlockNode(B)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,D){const X=this._currNode;if(X instanceof k||D&&X instanceof D)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${D?`${k.kind}/${D.kind}`:k.kind}"`)}_elseNode(k){const D=this._currNode;if(!(D instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=D.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const D=this._nodes;D[D.length-1]=k}}e.CodeGen=te;function ie(K,k){for(const D in k)K[D]=(K[D]||0)+(k[D]||0);return K}function we(K,k){return k instanceof t._CodeOrName?ie(K,k.names):K}function Se(K,k,D){if(K instanceof t.Name)return X(K);if(!ve(K))return K;return new t._Code(K._items.reduce((_e,oe)=>(oe instanceof t.Name&&(oe=X(oe)),oe instanceof t._Code?_e.push(...oe._items):_e.push(oe),_e),[]));function X(_e){const oe=D[_e.str];return oe===void 0||k[_e.str]!==1?_e:(delete k[_e.str],oe)}function ve(_e){return _e instanceof t._Code&&_e._items.some(oe=>oe instanceof t.Name&&k[oe.str]===1&&D[oe.str]!==void 0)}}function Re(K,k){for(const D in k)K[D]=(K[D]||0)-(k[D]||0)}function Fe(K){return typeof K=="boolean"||typeof K=="number"||K===null?!K:(0,t._)`!${G(K)}`}e.not=Fe;const Ue=I(e.operators.AND);function J(...K){return K.reduce(Ue)}e.and=J;const pe=I(e.operators.OR);function H(...K){return K.reduce(pe)}e.or=H;function I(K){return(k,D)=>k===t.nil?D:D===t.nil?k:(0,t._)`${G(k)} ${K} ${G(D)}`}function G(K){return K instanceof t.Name?K:(0,t._)`(${K})`}})(Te);var me={};Object.defineProperty(me,"__esModule",{value:!0});me.checkStrictMode=me.getErrorPath=me.Type=me.useFunc=me.setEvaluated=me.evaluatedPropsToName=me.mergeEvaluated=me.eachItem=me.unescapeJsonPointer=me.escapeJsonPointer=me.escapeFragment=me.unescapeFragment=me.schemaRefOrVal=me.schemaHasRulesButRef=me.schemaHasRules=me.checkUnknownRules=me.alwaysValidSchema=me.toHash=void 0;const Ye=Te,$A=Iu;function kA(e){const t={};for(const r of e)t[r]=!0;return t}me.toHash=kA;function CA(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(ZE(e,t),!JE(t,e.self.RULES.all))}me.alwaysValidSchema=CA;function ZE(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||rP(e,`unknown keyword: "${o}"`)}me.checkUnknownRules=ZE;function JE(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}me.schemaHasRules=JE;function OA(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}me.schemaHasRulesButRef=OA;function xA({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Ye._)`${r}`}return(0,Ye._)`${e}${t}${(0,Ye.getProperty)(n)}`}me.schemaRefOrVal=xA;function TA(e){return eP(decodeURIComponent(e))}me.unescapeFragment=TA;function RA(e){return encodeURIComponent(Wv(e))}me.escapeFragment=RA;function Wv(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}me.escapeJsonPointer=Wv;function eP(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}me.unescapeJsonPointer=eP;function DA(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}me.eachItem=DA;function Cw({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,a,s)=>{const l=a===void 0?o:a instanceof Ye.Name?(o instanceof Ye.Name?e(i,o,a):t(i,o,a),a):o instanceof Ye.Name?(t(i,a,o),o):r(o,a);return s===Ye.Name&&!(l instanceof Ye.Name)?n(i,l):l}}me.mergeEvaluated={props:Cw({mergeNames:(e,t,r)=>e.if((0,Ye._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Ye._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Ye._)`${r} || {}`).code((0,Ye._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Ye._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Ye._)`${r} || {}`),Uv(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:tP}),items:Cw({mergeNames:(e,t,r)=>e.if((0,Ye._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Ye._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Ye._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Ye._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function tP(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Ye._)`{}`);return t!==void 0&&Uv(e,r,t),r}me.evaluatedPropsToName=tP;function Uv(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Ye._)`${t}${(0,Ye.getProperty)(n)}`,!0))}me.setEvaluated=Uv;const Ow={};function NA(e,t){return e.scopeValue("func",{ref:t,code:Ow[t.code]||(Ow[t.code]=new $A._Code(t.code))})}me.useFunc=NA;var am;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(am||(me.Type=am={}));function MA(e,t,r){if(e instanceof Ye.Name){const n=t===am.Num;return r?n?(0,Ye._)`"[" + ${e} + "]"`:(0,Ye._)`"['" + ${e} + "']"`:n?(0,Ye._)`"/" + ${e}`:(0,Ye._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Ye.getProperty)(e).toString():"/"+Wv(e)}me.getErrorPath=MA;function rP(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}me.checkStrictMode=rP;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const Wt=Te,AA={data:new Wt.Name("data"),valCxt:new Wt.Name("valCxt"),instancePath:new Wt.Name("instancePath"),parentData:new Wt.Name("parentData"),parentDataProperty:new Wt.Name("parentDataProperty"),rootData:new Wt.Name("rootData"),dynamicAnchors:new Wt.Name("dynamicAnchors"),vErrors:new Wt.Name("vErrors"),errors:new Wt.Name("errors"),this:new Wt.Name("this"),self:new Wt.Name("self"),scope:new Wt.Name("scope"),json:new Wt.Name("json"),jsonPos:new Wt.Name("jsonPos"),jsonLen:new Wt.Name("jsonLen"),jsonPart:new Wt.Name("jsonPart")};Pn.default=AA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Te,r=me,n=Pn;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:g})=>g?(0,t.str)`"${$}" keyword must be ${g} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function i($,g=e.keywordError,y,b){const{it:O}=$,{gen:T,compositeRule:B,allErrors:F}=O,Q=p($,g,y);b??(B||F)?l(T,Q):f(O,(0,t._)`[${Q}]`)}e.reportError=i;function o($,g=e.keywordError,y){const{it:b}=$,{gen:O,compositeRule:T,allErrors:B}=b,F=p($,g,y);l(O,F),T||B||f(b,n.default.vErrors)}e.reportExtraError=o;function a($,g){$.assign(n.default.errors,g),$.if((0,t._)`${n.default.vErrors} !== null`,()=>$.if(g,()=>$.assign((0,t._)`${n.default.vErrors}.length`,g),()=>$.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:$,keyword:g,schemaValue:y,data:b,errsCount:O,it:T}){if(O===void 0)throw new Error("ajv implementation error");const B=$.name("err");$.forRange("i",O,n.default.errors,F=>{$.const(B,(0,t._)`${n.default.vErrors}[${F}]`),$.if((0,t._)`${B}.instancePath === undefined`,()=>$.assign((0,t._)`${B}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),$.assign((0,t._)`${B}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${g}`),T.opts.verbose&&($.assign((0,t._)`${B}.schema`,y),$.assign((0,t._)`${B}.data`,b))})}e.extendErrors=s;function l($,g){const y=$.const("err",g);$.if((0,t._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${n.default.vErrors}.push(${y})`),$.code((0,t._)`${n.default.errors}++`)}function f($,g){const{gen:y,validateName:b,schemaEnv:O}=$;O.$async?y.throw((0,t._)`new ${$.ValidationError}(${g})`):(y.assign((0,t._)`${b}.errors`,g),y.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p($,g,y){const{createErrors:b}=$.it;return b===!1?(0,t._)`{}`:v($,g,y)}function v($,g,y={}){const{gen:b,it:O}=$,T=[w(O,y),_($,y)];return E($,g,T),b.object(...T)}function w({errorPath:$},{instancePath:g}){const y=g?(0,t.str)`${$}${(0,r.getErrorPath)(g,r.Type.Str)}`:$;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,y)]}function _({keyword:$,it:{errSchemaPath:g}},{schemaPath:y,parentSchema:b}){let O=b?g:(0,t.str)`${g}/${$}`;return y&&(O=(0,t.str)`${O}${(0,r.getErrorPath)(y,r.Type.Str)}`),[d.schemaPath,O]}function E($,{params:g,message:y},b){const{keyword:O,data:T,schemaValue:B,it:F}=$,{opts:Q,propertyName:de,topSchemaRef:se,schemaPath:te}=F;b.push([d.keyword,O],[d.params,typeof g=="function"?g($):g||(0,t._)`{}`]),Q.messages&&b.push([d.message,typeof y=="function"?y($):y]),Q.verbose&&b.push([d.schema,B],[d.parentSchema,(0,t._)`${se}${te}`],[n.default.data,T]),de&&b.push([d.propertyName,de])}})(tl);Object.defineProperty(Xa,"__esModule",{value:!0});Xa.boolOrEmptySchema=Xa.topBoolOrEmptySchema=void 0;const IA=tl,zA=Te,jA=Pn,LA={message:"boolean schema is false"};function FA(e){const{gen:t,schema:r,validateName:n}=e;r===!1?nP(e,!1):typeof r=="object"&&r.$async===!0?t.return(jA.default.data):(t.assign((0,zA._)`${n}.errors`,null),t.return(!0))}Xa.topBoolOrEmptySchema=FA;function BA(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),nP(e)):r.var(t,!0)}Xa.boolOrEmptySchema=BA;function nP(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,IA.reportError)(i,LA,void 0,t)}var bt={},Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.getRules=Ao.isJSONType=void 0;const KA=["string","number","integer","boolean","null","object","array"],WA=new Set(KA);function UA(e){return typeof e=="string"&&WA.has(e)}Ao.isJSONType=UA;function qA(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ao.getRules=qA;var Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.shouldUseRule=Un.shouldUseGroup=Un.schemaHasRulesForType=void 0;function HA({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&iP(e,n)}Un.schemaHasRulesForType=HA;function iP(e,t){return t.rules.some(r=>oP(e,r))}Un.shouldUseGroup=iP;function oP(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Un.shouldUseRule=oP;Object.defineProperty(bt,"__esModule",{value:!0});bt.reportTypeError=bt.checkDataTypes=bt.checkDataType=bt.coerceAndCheckDataType=bt.getJSONTypes=bt.getSchemaTypes=bt.DataType=void 0;const VA=Ao,YA=Un,XA=tl,xe=Te,aP=me;var xa;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(xa||(bt.DataType=xa={}));function GA(e){const t=sP(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}bt.getSchemaTypes=GA;function sP(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(VA.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}bt.getJSONTypes=sP;function QA(e,t){const{gen:r,data:n,opts:i}=e,o=ZA(t,i.coerceTypes),a=t.length>0&&!(o.length===0&&t.length===1&&(0,YA.schemaHasRulesForType)(e,t[0]));if(a){const s=qv(t,n,i.strictNumbers,xa.Wrong);r.if(s,()=>{o.length?JA(e,t,o):Hv(e)})}return a}bt.coerceAndCheckDataType=QA;const uP=new Set(["string","number","integer","boolean","null"]);function ZA(e,t){return t?e.filter(r=>uP.has(r)||t==="array"&&r==="array"):[]}function JA(e,t,r){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",(0,xe._)`typeof ${i}`),s=n.let("coerced",(0,xe._)`undefined`);o.coerceTypes==="array"&&n.if((0,xe._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,xe._)`${i}[0]`).assign(a,(0,xe._)`typeof ${i}`).if(qv(t,i,o.strictNumbers),()=>n.assign(s,i))),n.if((0,xe._)`${s} !== undefined`);for(const f of r)(uP.has(f)||f==="array"&&o.coerceTypes==="array")&&l(f);n.else(),Hv(e),n.endIf(),n.if((0,xe._)`${s} !== undefined`,()=>{n.assign(i,s),eI(e,s)});function l(f){switch(f){case"string":n.elseIf((0,xe._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,xe._)`"" + ${i}`).elseIf((0,xe._)`${i} === null`).assign(s,(0,xe._)`""`);return;case"number":n.elseIf((0,xe._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(s,(0,xe._)`+${i}`);return;case"integer":n.elseIf((0,xe._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(s,(0,xe._)`+${i}`);return;case"boolean":n.elseIf((0,xe._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(s,!1).elseIf((0,xe._)`${i} === "true" || ${i} === 1`).assign(s,!0);return;case"null":n.elseIf((0,xe._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(s,null);return;case"array":n.elseIf((0,xe._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(s,(0,xe._)`[${i}]`)}}}function eI({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,xe._)`${t} !== undefined`,()=>e.assign((0,xe._)`${t}[${r}]`,n))}function sm(e,t,r,n=xa.Correct){const i=n===xa.Correct?xe.operators.EQ:xe.operators.NEQ;let o;switch(e){case"null":return(0,xe._)`${t} ${i} null`;case"array":o=(0,xe._)`Array.isArray(${t})`;break;case"object":o=(0,xe._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a((0,xe._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return(0,xe._)`typeof ${t} ${i} ${e}`}return n===xa.Correct?o:(0,xe.not)(o);function a(s=xe.nil){return(0,xe.and)((0,xe._)`typeof ${t} == "number"`,s,r?(0,xe._)`isFinite(${t})`:xe.nil)}}bt.checkDataType=sm;function qv(e,t,r,n){if(e.length===1)return sm(e[0],t,r,n);let i;const o=(0,aP.toHash)(e);if(o.array&&o.object){const a=(0,xe._)`typeof ${t} != "object"`;i=o.null?a:(0,xe._)`!${t} || ${a}`,delete o.null,delete o.array,delete o.object}else i=xe.nil;o.number&&delete o.integer;for(const a in o)i=(0,xe.and)(i,sm(a,t,r,n));return i}bt.checkDataTypes=qv;const tI={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,xe._)`{type: ${e}}`:(0,xe._)`{type: ${t}}`};function Hv(e){const t=rI(e);(0,XA.reportError)(t,tI)}bt.reportTypeError=Hv;function rI(e){const{gen:t,data:r,schema:n}=e,i=(0,aP.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.assignDefaults=void 0;const ea=Te,nI=me;function iI(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)xw(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>xw(e,o,i.default))}Vf.assignDefaults=iI;function xw(e,t,r){const{gen:n,compositeRule:i,data:o,opts:a}=e;if(r===void 0)return;const s=(0,ea._)`${o}${(0,ea.getProperty)(t)}`;if(i){(0,nI.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,ea._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,ea._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,ea._)`${s} = ${(0,ea.stringify)(r)}`)}var wn={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.validateUnion=Ae.validateArray=Ae.usePattern=Ae.callValidateCode=Ae.schemaProperties=Ae.allSchemaProperties=Ae.noPropertyInData=Ae.propertyInData=Ae.isOwnProperty=Ae.hasPropFunc=Ae.reportMissingProp=Ae.checkMissingProp=Ae.checkReportMissingProp=void 0;const et=Te,Vv=me,li=Pn,oI=me;function aI(e,t){const{gen:r,data:n,it:i}=e;r.if(Xv(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,et._)`${t}`},!0),e.error()})}Ae.checkReportMissingProp=aI;function sI({gen:e,data:t,it:{opts:r}},n,i){return(0,et.or)(...n.map(o=>(0,et.and)(Xv(e,t,o,r.ownProperties),(0,et._)`${i} = ${o}`)))}Ae.checkMissingProp=sI;function uI(e,t){e.setParams({missingProperty:t},!0),e.error()}Ae.reportMissingProp=uI;function lP(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,et._)`Object.prototype.hasOwnProperty`})}Ae.hasPropFunc=lP;function Yv(e,t,r){return(0,et._)`${lP(e)}.call(${t}, ${r})`}Ae.isOwnProperty=Yv;function lI(e,t,r,n){const i=(0,et._)`${t}${(0,et.getProperty)(r)} !== undefined`;return n?(0,et._)`${i} && ${Yv(e,t,r)}`:i}Ae.propertyInData=lI;function Xv(e,t,r,n){const i=(0,et._)`${t}${(0,et.getProperty)(r)} === undefined`;return n?(0,et.or)(i,(0,et.not)(Yv(e,t,r))):i}Ae.noPropertyInData=Xv;function cP(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ae.allSchemaProperties=cP;function cI(e,t){return cP(t).filter(r=>!(0,Vv.alwaysValidSchema)(e,t[r]))}Ae.schemaProperties=cI;function fI({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:a},s,l,f){const d=f?(0,et._)`${e}, ${t}, ${n}${i}`:t,p=[[li.default.instancePath,(0,et.strConcat)(li.default.instancePath,o)],[li.default.parentData,a.parentData],[li.default.parentDataProperty,a.parentDataProperty],[li.default.rootData,li.default.rootData]];a.opts.dynamicRef&&p.push([li.default.dynamicAnchors,li.default.dynamicAnchors]);const v=(0,et._)`${d}, ${r.object(...p)}`;return l!==et.nil?(0,et._)`${s}.call(${l}, ${v})`:(0,et._)`${s}(${v})`}Ae.callValidateCode=fI;const dI=(0,et._)`new RegExp`;function hI({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,et._)`${i.code==="new RegExp"?dI:(0,oI.useFunc)(e,i)}(${r}, ${n})`})}Ae.usePattern=hI;function pI(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const s=t.let("valid",!0);return a(()=>t.assign(s,!1)),s}return t.var(o,!0),a(()=>t.break()),o;function a(s){const l=t.const("len",(0,et._)`${r}.length`);t.forRange("i",0,l,f=>{e.subschema({keyword:n,dataProp:f,dataPropType:Vv.Type.Num},o),t.if((0,et.not)(o),s)})}}Ae.validateArray=pI;function mI(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Vv.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,f)=>{const d=e.subschema({keyword:n,schemaProp:f,compositeRule:!0},s);t.assign(a,(0,et._)`${a} || ${s}`),e.mergeValidEvaluated(d,s)||t.if((0,et.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}Ae.validateUnion=mI;Object.defineProperty(wn,"__esModule",{value:!0});wn.validateKeywordUsage=wn.validSchemaType=wn.funcKeywordCode=wn.macroKeywordCode=void 0;const Zt=Te,fo=Pn,vI=Ae,yI=tl;function gI(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=e,s=t.macro.call(a.self,i,o,a),l=fP(r,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const f=r.name("valid");e.subschema({schema:s,schemaPath:Zt.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}wn.macroKeywordCode=gI;function wI(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:a,$data:s,it:l}=e;SI(l,t);const f=!s&&t.compile?t.compile.call(l.self,o,a,l):t.validate,d=fP(n,i,f),p=n.let("valid");e.block$data(p,v),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function v(){if(t.errors===!1)E(),t.modifying&&Tw(e),$(()=>e.error());else{const g=t.async?w():_();t.modifying&&Tw(e),$(()=>_I(e,g))}}function w(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,Zt._)`await `),y=>n.assign(p,!1).if((0,Zt._)`${y} instanceof ${l.ValidationError}`,()=>n.assign(g,(0,Zt._)`${y}.errors`),()=>n.throw(y))),g}function _(){const g=(0,Zt._)`${d}.errors`;return n.assign(g,null),E(Zt.nil),g}function E(g=t.async?(0,Zt._)`await `:Zt.nil){const y=l.opts.passContext?fo.default.this:fo.default.self,b=!("compile"in t&&!s||t.schema===!1);n.assign(p,(0,Zt._)`${g}${(0,vI.callValidateCode)(e,d,y,b)}`,t.modifying)}function $(g){var y;n.if((0,Zt.not)((y=t.valid)!==null&&y!==void 0?y:p),g)}}wn.funcKeywordCode=wI;function Tw(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Zt._)`${n.parentData}[${n.parentDataProperty}]`))}function _I(e,t){const{gen:r}=e;r.if((0,Zt._)`Array.isArray(${t})`,()=>{r.assign(fo.default.vErrors,(0,Zt._)`${fo.default.vErrors} === null ? ${t} : ${fo.default.vErrors}.concat(${t})`).assign(fo.default.errors,(0,Zt._)`${fo.default.vErrors}.length`),(0,yI.extendErrors)(e)},()=>e.error())}function SI({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function fP(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Zt.stringify)(r)})}function bI(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}wn.validSchemaType=bI;function EI({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}wn.validateKeywordUsage=EI;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.extendSubschemaMode=Mi.extendSubschemaData=Mi.getSubschema=void 0;const gn=Te,dP=me;function PI(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return r===void 0?{schema:s,schemaPath:(0,gn._)`${e.schemaPath}${(0,gn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:(0,gn._)`${e.schemaPath}${(0,gn.getProperty)(t)}${(0,gn.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,dP.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Mi.getSubschema=PI;function $I(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:a}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(r!==void 0){const{errorPath:f,dataPathArr:d,opts:p}=t,v=s.let("data",(0,gn._)`${t.data}${(0,gn.getProperty)(r)}`,!0);l(v),e.errorPath=(0,gn.str)`${f}${(0,dP.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,gn._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(i!==void 0){const f=i instanceof gn.Name?i:s.let("data",i,!0);l(f),a!==void 0&&(e.propertyName=a)}o&&(e.dataTypes=o);function l(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}Mi.extendSubschemaData=$I;function kI(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}Mi.extendSubschemaMode=kI;var At={},hP=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},pP={exports:{}},Ei=pP.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Oc(t,n,i,e,"",e)};Ei.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ei.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ei.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ei.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Oc(e,t,r,n,i,o,a,s,l,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,a,s,l,f);for(var d in n){var p=n[d];if(Array.isArray(p)){if(d in Ei.arrayKeywords)for(var v=0;v<p.length;v++)Oc(e,t,r,p[v],i+"/"+d+"/"+v,o,i,d,n,v)}else if(d in Ei.propsKeywords){if(p&&typeof p=="object")for(var w in p)Oc(e,t,r,p[w],i+"/"+d+"/"+CI(w),o,i,d,n,w)}else(d in Ei.keywords||e.allKeys&&!(d in Ei.skipKeywords))&&Oc(e,t,r,p,i+"/"+d,o,i,d,n)}r(n,i,o,a,s,l,f)}}function CI(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var OI=pP.exports;Object.defineProperty(At,"__esModule",{value:!0});At.getSchemaRefs=At.resolveUrl=At.normalizeId=At._getFullPath=At.getFullPath=At.inlineRef=void 0;const xI=me,TI=hP,RI=OI,DI=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function NI(e,t=!0){return typeof e=="boolean"?!0:t===!0?!um(e):t?mP(e)<=t:!1}At.inlineRef=NI;const MI=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function um(e){for(const t in e){if(MI.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(um)||typeof r=="object"&&um(r))return!0}return!1}function mP(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!DI.has(r)&&(typeof e[r]=="object"&&(0,xI.eachItem)(e[r],n=>t+=mP(n)),t===1/0))return 1/0}return t}function vP(e,t="",r){r!==!1&&(t=Ta(t));const n=e.parse(t);return yP(e,n)}At.getFullPath=vP;function yP(e,t){return e.serialize(t).split("#")[0]+"#"}At._getFullPath=yP;const AI=/#\/?$/;function Ta(e){return e?e.replace(AI,""):""}At.normalizeId=Ta;function II(e,t,r){return r=Ta(r),e.resolve(t,r)}At.resolveUrl=II;const zI=/^[a-z_][-a-z0-9._]*$/i;function jI(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Ta(e[r]||t),o={"":i},a=vP(n,i,!1),s={},l=new Set;return RI(e,{allKeys:!0},(p,v,w,_)=>{if(_===void 0)return;const E=a+v;let $=o[_];typeof p[r]=="string"&&($=g.call(this,p[r])),y.call(this,p.$anchor),y.call(this,p.$dynamicAnchor),o[v]=$;function g(b){const O=this.opts.uriResolver.resolve;if(b=Ta($?O($,b):b),l.has(b))throw d(b);l.add(b);let T=this.refs[b];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?f(p,T.schema,b):b!==Ta(E)&&(b[0]==="#"?(f(p,s[b],b),s[b]=p):this.refs[b]=E),b}function y(b){if(typeof b=="string"){if(!zI.test(b))throw new Error(`invalid anchor "${b}"`);g.call(this,`#${b}`)}}}),s;function f(p,v,w){if(v!==void 0&&!TI(p,v))throw d(w)}function d(p){return new Error(`reference "${p}" resolves to more than one schema`)}}At.getSchemaRefs=jI;Object.defineProperty(an,"__esModule",{value:!0});an.getData=an.KeywordCxt=an.validateFunctionCode=void 0;const gP=Xa,Rw=bt,Gv=Un,hf=bt,LI=Vf,Js=wn,Oh=Mi,Ee=Te,ke=Pn,FI=At,qn=me,Ds=tl;function BI(e){if(SP(e)&&(bP(e),_P(e))){UI(e);return}wP(e,()=>(0,gP.topBoolOrEmptySchema)(e))}an.validateFunctionCode=BI;function wP({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,Ee._)`${ke.default.data}, ${ke.default.valCxt}`,n.$async,()=>{e.code((0,Ee._)`"use strict"; ${Dw(r,i)}`),WI(e,i),e.code(o)}):e.func(t,(0,Ee._)`${ke.default.data}, ${KI(i)}`,n.$async,()=>e.code(Dw(r,i)).code(o))}function KI(e){return(0,Ee._)`{${ke.default.instancePath}="", ${ke.default.parentData}, ${ke.default.parentDataProperty}, ${ke.default.rootData}=${ke.default.data}${e.dynamicRef?(0,Ee._)`, ${ke.default.dynamicAnchors}={}`:Ee.nil}}={}`}function WI(e,t){e.if(ke.default.valCxt,()=>{e.var(ke.default.instancePath,(0,Ee._)`${ke.default.valCxt}.${ke.default.instancePath}`),e.var(ke.default.parentData,(0,Ee._)`${ke.default.valCxt}.${ke.default.parentData}`),e.var(ke.default.parentDataProperty,(0,Ee._)`${ke.default.valCxt}.${ke.default.parentDataProperty}`),e.var(ke.default.rootData,(0,Ee._)`${ke.default.valCxt}.${ke.default.rootData}`),t.dynamicRef&&e.var(ke.default.dynamicAnchors,(0,Ee._)`${ke.default.valCxt}.${ke.default.dynamicAnchors}`)},()=>{e.var(ke.default.instancePath,(0,Ee._)`""`),e.var(ke.default.parentData,(0,Ee._)`undefined`),e.var(ke.default.parentDataProperty,(0,Ee._)`undefined`),e.var(ke.default.rootData,ke.default.data),t.dynamicRef&&e.var(ke.default.dynamicAnchors,(0,Ee._)`{}`)})}function UI(e){const{schema:t,opts:r,gen:n}=e;wP(e,()=>{r.$comment&&t.$comment&&PP(e),XI(e),n.let(ke.default.vErrors,null),n.let(ke.default.errors,0),r.unevaluated&&qI(e),EP(e),ZI(e)})}function qI(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Ee._)`${r}.evaluated`),t.if((0,Ee._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ee._)`${e.evaluated}.props`,(0,Ee._)`undefined`)),t.if((0,Ee._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ee._)`${e.evaluated}.items`,(0,Ee._)`undefined`))}function Dw(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Ee._)`/*# sourceURL=${r} */`:Ee.nil}function HI(e,t){if(SP(e)&&(bP(e),_P(e))){VI(e,t);return}(0,gP.boolOrEmptySchema)(e,t)}function _P({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function SP(e){return typeof e.schema!="boolean"}function VI(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&PP(e),GI(e),QI(e);const o=n.const("_errs",ke.default.errors);EP(e,o),n.var(t,(0,Ee._)`${o} === ${ke.default.errors}`)}function bP(e){(0,qn.checkUnknownRules)(e),YI(e)}function EP(e,t){if(e.opts.jtd)return Nw(e,[],!1,t);const r=(0,Rw.getSchemaTypes)(e.schema),n=(0,Rw.coerceAndCheckDataType)(e,r);Nw(e,r,!n,t)}function YI(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,qn.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function XI(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,qn.checkStrictMode)(e,"default is ignored in the schema root")}function GI(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,FI.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function QI(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function PP({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,Ee._)`${ke.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const a=(0,Ee.str)`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,Ee._)`${ke.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function ZI(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,Ee._)`${ke.default.errors} === 0`,()=>t.return(ke.default.data),()=>t.throw((0,Ee._)`new ${i}(${ke.default.vErrors})`)):(t.assign((0,Ee._)`${n}.errors`,ke.default.vErrors),o.unevaluated&&JI(e),t.return((0,Ee._)`${ke.default.errors} === 0`))}function JI({gen:e,evaluated:t,props:r,items:n}){r instanceof Ee.Name&&e.assign((0,Ee._)`${t}.props`,r),n instanceof Ee.Name&&e.assign((0,Ee._)`${t}.items`,n)}function Nw(e,t,r,n){const{gen:i,schema:o,data:a,allErrors:s,opts:l,self:f}=e,{RULES:d}=f;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,qn.schemaHasRulesButRef)(o,d))){i.block(()=>CP(e,"$ref",d.all.$ref.definition));return}l.jtd||ez(e,t),i.block(()=>{for(const v of d.rules)p(v);p(d.post)});function p(v){(0,Gv.shouldUseGroup)(o,v)&&(v.type?(i.if((0,hf.checkDataType)(v.type,a,l.strictNumbers)),Mw(e,v),t.length===1&&t[0]===v.type&&r&&(i.else(),(0,hf.reportTypeError)(e)),i.endIf()):Mw(e,v),s||i.if((0,Ee._)`${ke.default.errors} === ${n||0}`))}}function Mw(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,LI.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,Gv.shouldUseRule)(n,o)&&CP(e,o.keyword,o.definition,t.type)})}function ez(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(tz(e,t),e.opts.allowUnionTypes||rz(e,t),nz(e,e.dataTypes))}function tz(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{$P(e.dataTypes,r)||Qv(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),oz(e,t)}}function rz(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Qv(e,"use allowUnionTypes to allow union type keyword")}function nz(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,Gv.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(a=>iz(t,a))&&Qv(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function iz(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function $P(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function oz(e,t){const r=[];for(const n of e.dataTypes)$P(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Qv(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,qn.checkStrictMode)(e,t,e.opts.strictTypes)}class kP{constructor(t,r,n){if((0,Js.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,qn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",OP(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Js.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ke.default.errors))}result(t,r,n){this.failResult((0,Ee.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Ee.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Ee._)`${r} !== undefined && (${(0,Ee.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ds.reportExtraError:Ds.reportError)(this,this.def.error,r)}$dataError(){(0,Ds.reportError)(this,this.def.$dataError||Ds.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ds.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Ee.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Ee.nil,r=Ee.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:a}=this;n.if((0,Ee.or)((0,Ee._)`${i} === undefined`,r)),t!==Ee.nil&&n.assign(t,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Ee.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,Ee.or)(a(),s());function a(){if(n.length){if(!(r instanceof Ee.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Ee._)`${(0,hf.checkDataTypes)(l,r,o.opts.strictNumbers,hf.DataType.Wrong)}`}return Ee.nil}function s(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ee._)`!${l}(${r})`}return Ee.nil}}subschema(t,r){const n=(0,Oh.getSubschema)(this.it,t);(0,Oh.extendSubschemaData)(n,this.it,t),(0,Oh.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return HI(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=qn.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=qn.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,Ee.Name)),!0}}an.KeywordCxt=kP;function CP(e,t,r,n){const i=new kP(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Js.funcKeywordCode)(i,r):"macro"in r?(0,Js.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Js.funcKeywordCode)(i,r)}const az=/^\/(?:[^~]|~0|~1)*$/,sz=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function OP(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return ke.default.rootData;if(e[0]==="/"){if(!az.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=ke.default.rootData}else{const f=sz.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+f[1];if(i=f[2],i==="#"){if(d>=t)throw new Error(l("property/index",d));return n[t-d]}if(d>t)throw new Error(l("data",d));if(o=r[t-d],!i)return o}let a=o;const s=i.split("/");for(const f of s)f&&(o=(0,Ee._)`${o}${(0,Ee.getProperty)((0,qn.unescapeJsonPointer)(f))}`,a=(0,Ee._)`${a} && ${o}`);return a;function l(f,d){return`Cannot access ${f} ${d} levels up, current level is ${t}`}}an.getData=OP;var rl={};Object.defineProperty(rl,"__esModule",{value:!0});class uz extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}rl.default=uz;var is={};Object.defineProperty(is,"__esModule",{value:!0});const xh=At;class lz extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,xh.resolveUrl)(t,r,n),this.missingSchema=(0,xh.normalizeId)((0,xh.getFullPath)(t,this.missingRef))}}is.default=lz;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.resolveSchema=ur.getCompilingSchema=ur.resolveRef=ur.compileSchema=ur.SchemaEnv=void 0;const Yr=Te,cz=rl,so=Pn,tn=At,Aw=me,fz=an;class Yf{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,tn.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ur.SchemaEnv=Yf;function Zv(e){const t=xP.call(this,e);if(t)return t;const r=(0,tn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new Yr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;e.$async&&(s=a.scopeValue("Error",{ref:cz.default,code:(0,Yr._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const f={gen:a,allErrors:this.opts.allErrors,data:so.default.data,parentData:so.default.parentData,parentDataProperty:so.default.parentDataProperty,dataNames:[so.default.data],dataPathArr:[Yr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Yr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Yr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Yr._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,fz.validateFunctionCode)(f),a.optimize(this.opts.code.optimize);const p=a.toString();d=`${a.scopeRefs(so.default.scope)}return ${p}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const w=new Function(`${so.default.self}`,`${so.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:w}),w.errors=null,w.schema=e.schema,w.schemaEnv=e,e.$async&&(w.$async=!0),this.opts.code.source===!0&&(w.source={validateName:l,validateCode:p,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:E}=f;w.evaluated={props:_ instanceof Yr.Name?void 0:_,items:E instanceof Yr.Name?void 0:E,dynamicProps:_ instanceof Yr.Name,dynamicItems:E instanceof Yr.Name},w.source&&(w.source.evaluated=(0,Yr.stringify)(w.evaluated))}return e.validate=w,e}catch(p){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),p}finally{this._compilations.delete(e)}}ur.compileSchema=Zv;function dz(e,t,r){var n;r=(0,tn.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=mz.call(this,e,r);if(o===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;a&&(o=new Yf({schema:a,schemaId:s,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=hz.call(this,o)}ur.resolveRef=dz;function hz(e){return(0,tn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Zv.call(this,e)}function xP(e){for(const t of this._compilations)if(pz(t,e))return t}ur.getCompilingSchema=xP;function pz(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function mz(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Xf.call(this,e,t)}function Xf(e,t){const r=this.opts.uriResolver.parse(t),n=(0,tn._getFullPath)(this.opts.uriResolver,r);let i=(0,tn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Th.call(this,r,e);const o=(0,tn.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=Xf.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:Th.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Zv.call(this,a),o===(0,tn.normalizeId)(t)){const{schema:s}=a,{schemaId:l}=this.opts,f=s[l];return f&&(i=(0,tn.resolveUrl)(this.opts.uriResolver,i,f)),new Yf({schema:s,schemaId:l,root:e,baseId:i})}return Th.call(this,r,a)}}ur.resolveSchema=Xf;const vz=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Th(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Aw.unescapeFragment)(s)];if(l===void 0)return;r=l;const f=typeof r=="object"&&r[this.opts.schemaId];!vz.has(s)&&f&&(t=(0,tn.resolveUrl)(this.opts.uriResolver,t,f))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Aw.schemaHasRulesButRef)(r,this.RULES)){const s=(0,tn.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=Xf.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new Yf({schema:r,schemaId:a,root:n,baseId:t}),o.schema!==o.root.schema)return o}const yz="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gz="Meta-schema for $data reference (JSON AnySchema extension proposal)",wz="object",_z=["$data"],Sz={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},bz=!1,Ez={$id:yz,description:gz,type:wz,required:_z,properties:Sz,additionalProperties:bz};var Jv={},Gf={exports:{}};const Pz=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),TP=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function ey(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const $z=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Iw(e){return e.length=0,!0}function kz(e,t,r){if(e.length){const n=ey(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Cz(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,a=!1,s=kz;for(let l=0;l<e.length;l++){const f=e[l];if(!(f==="["||f==="]"))if(f===":"){if(o===!0&&(a=!0),!s(i,n,r))break;if(++t>7){r.error=!0;break}l>0&&e[l-1]===":"&&(o=!0),n.push(":");continue}else if(f==="%"){if(!s(i,n,r))break;s=Iw}else{i.push(f);continue}}return i.length&&(s===Iw?r.zone=i.join(""):a?n.push(i.join("")):n.push(ey(i))),r.address=n.join(""),r}function RP(e){if(Oz(e,":")<2)return{host:e,isIPV6:!1};const t=Cz(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Oz(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function xz(e){let t=e;const r=[];let n=-1,i=0;for(;i=t.length;){if(i===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(i===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(i===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Tz(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Rz(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!TP(r)){const n=RP(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var DP={nonSimpleDomain:$z,recomposeAuthority:Rz,normalizeComponentEncoding:Tz,removeDotSegments:xz,isIPv4:TP,isUUID:Pz,normalizeIPv6:RP,stringArrayToHexStripped:ey};const{isUUID:Dz}=DP,Nz=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,Mz=["http","https","ws","wss","urn","urn:uuid"];function Az(e){return Mz.indexOf(e)!==-1}function ty(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function NP(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function MP(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Iz(e){return e.secure=ty(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function zz(e){if((e.port===(ty(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function jz(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Nz);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=ry(i);e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Lz(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=ry(i);o&&(e=o.serialize(e,t));const a=e,s=e.nss;return a.path=`${n||t.nid}:${s}`,t.skipEscape=!0,a}function Fz(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Dz(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Bz(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const AP={scheme:"http",domainHost:!0,parse:NP,serialize:MP},Kz={scheme:"https",domainHost:AP.domainHost,parse:NP,serialize:MP},xc={scheme:"ws",domainHost:!0,parse:Iz,serialize:zz},Wz={scheme:"wss",domainHost:xc.domainHost,parse:xc.parse,serialize:xc.serialize},Uz={scheme:"urn",parse:jz,serialize:Lz,skipNormalize:!0},qz={scheme:"urn:uuid",parse:Fz,serialize:Bz,skipNormalize:!0},pf={http:AP,https:Kz,ws:xc,wss:Wz,urn:Uz,"urn:uuid":qz};Object.setPrototypeOf(pf,null);function ry(e){return e&&(pf[e]||pf[e.toLowerCase()])||void 0}var Hz={wsIsSecure:ty,SCHEMES:pf,isValidSchemeName:Az,getSchemeHandler:ry};const{normalizeIPv6:Vz,removeDotSegments:Fs,recomposeAuthority:Yz,normalizeComponentEncoding:Zl,isIPv4:Xz,nonSimpleDomain:Gz}=DP,{SCHEMES:Qz,getSchemeHandler:IP}=Hz;function Zz(e,t){return typeof e=="string"?e=_n(Qn(e,t),t):typeof e=="object"&&(e=Qn(_n(e,t),t)),e}function Jz(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},i=zP(Qn(e,n),Qn(t,n),n,!0);return n.skipEscape=!0,_n(i,n)}function zP(e,t,r,n){const i={};return n||(e=Qn(_n(e,r),r),t=Qn(_n(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Fs(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Fs(t.path||""),i.query=t.query):(t.path?(t.path[0]==="/"?i.path=Fs(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Fs(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function ej(e,t,r){return typeof e=="string"?(e=unescape(e),e=_n(Zl(Qn(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=_n(Zl(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=_n(Zl(Qn(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=_n(Zl(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function _n(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=IP(n.scheme||r.scheme);o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const a=Yz(r);if(a!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(a),r.path&&r.path[0]!=="/"&&i.push("/")),r.path!==void 0){let s=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=Fs(s)),a===void 0&&s[0]==="/"&&s[1]==="/"&&(s="/%2F"+s.slice(2)),i.push(s)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const tj=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Qn(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let i=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const o=e.match(tj);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host)if(Xz(n.host)===!1){const l=Vz(n.host);n.host=l.host.toLowerCase(),i=l.isIPV6}else i=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const a=IP(r.scheme||n.scheme);if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&i===!1&&Gz(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to ASCII: "+s}(!a||a&&!a.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const ny={SCHEMES:Qz,normalize:Zz,resolve:Jz,resolveComponent:zP,equal:ej,serialize:_n,parse:Qn};Gf.exports=ny;Gf.exports.default=ny;Gf.exports.fastUri=ny;var rj=Gf.exports;Object.defineProperty(Jv,"__esModule",{value:!0});const jP=rj;jP.code='require("ajv/dist/runtime/uri").default';Jv.default=jP;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=an;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Te;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=rl,i=is,o=Ao,a=ur,s=Te,l=At,f=bt,d=me,p=Ez,v=Jv,w=(H,I)=>new RegExp(H,I);w.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function b(H){var I,G,K,k,D,X,ve,_e,oe,Ie,Xe,ze,qr,ss,Hr,us,ls,cs,fs,Xi,ir,Ko,Cn,Wo,On;const mr=H.strict,Gi=(I=H.code)===null||I===void 0?void 0:I.optimize,ei=Gi===!0||Gi===void 0?1:Gi||0,Uo=(K=(G=H.code)===null||G===void 0?void 0:G.regExp)!==null&&K!==void 0?K:w,qo=(k=H.uriResolver)!==null&&k!==void 0?k:v.default;return{strictSchema:(X=(D=H.strictSchema)!==null&&D!==void 0?D:mr)!==null&&X!==void 0?X:!0,strictNumbers:(_e=(ve=H.strictNumbers)!==null&&ve!==void 0?ve:mr)!==null&&_e!==void 0?_e:!0,strictTypes:(Ie=(oe=H.strictTypes)!==null&&oe!==void 0?oe:mr)!==null&&Ie!==void 0?Ie:"log",strictTuples:(ze=(Xe=H.strictTuples)!==null&&Xe!==void 0?Xe:mr)!==null&&ze!==void 0?ze:"log",strictRequired:(ss=(qr=H.strictRequired)!==null&&qr!==void 0?qr:mr)!==null&&ss!==void 0?ss:!1,code:H.code?{...H.code,optimize:ei,regExp:Uo}:{optimize:ei,regExp:Uo},loopRequired:(Hr=H.loopRequired)!==null&&Hr!==void 0?Hr:y,loopEnum:(us=H.loopEnum)!==null&&us!==void 0?us:y,meta:(ls=H.meta)!==null&&ls!==void 0?ls:!0,messages:(cs=H.messages)!==null&&cs!==void 0?cs:!0,inlineRefs:(fs=H.inlineRefs)!==null&&fs!==void 0?fs:!0,schemaId:(Xi=H.schemaId)!==null&&Xi!==void 0?Xi:"$id",addUsedSchema:(ir=H.addUsedSchema)!==null&&ir!==void 0?ir:!0,validateSchema:(Ko=H.validateSchema)!==null&&Ko!==void 0?Ko:!0,validateFormats:(Cn=H.validateFormats)!==null&&Cn!==void 0?Cn:!0,unicodeRegExp:(Wo=H.unicodeRegExp)!==null&&Wo!==void 0?Wo:!0,int32range:(On=H.int32range)!==null&&On!==void 0?On:!0,uriResolver:qo}}class O{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...b(I)};const{es5:G,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:E,es5:G,lines:K}),this.logger=ie(I.logger);const k=I.validateFormats;I.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,$,I,"NOT SUPPORTED"),T.call(this,g,I,"DEPRECATED","warn"),this._metaOpts=se.call(this),I.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&de.call(this,I.keywords),typeof I.meta=="object"&&this.addMetaSchema(I.meta),F.call(this),I.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:G,schemaId:K}=this.opts;let k=p;K==="id"&&(k={...p},k.id=k.$id,delete k.$id),G&&I&&this.addMetaSchema(k,k[K],!1)}defaultMeta(){const{meta:I,schemaId:G}=this.opts;return this.opts.defaultMeta=typeof I=="object"?I[G]||I:void 0}validate(I,G){let K;if(typeof I=="string"){if(K=this.getSchema(I),!K)throw new Error(`no schema with key or ref "${I}"`)}else K=this.compile(I);const k=K(G);return"$async"in K||(this.errors=K.errors),k}compile(I,G){const K=this._addSchema(I,G);return K.validate||this._compileSchemaEnv(K)}compileAsync(I,G){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return k.call(this,I,G);async function k(Ie,Xe){await D.call(this,Ie.$schema);const ze=this._addSchema(Ie,Xe);return ze.validate||X.call(this,ze)}async function D(Ie){Ie&&!this.getSchema(Ie)&&await k.call(this,{$ref:Ie},!0)}async function X(Ie){try{return this._compileSchemaEnv(Ie)}catch(Xe){if(!(Xe instanceof i.default))throw Xe;return ve.call(this,Xe),await _e.call(this,Xe.missingSchema),X.call(this,Ie)}}function ve({missingSchema:Ie,missingRef:Xe}){if(this.refs[Ie])throw new Error(`AnySchema ${Ie} is loaded but ${Xe} cannot be resolved`)}async function _e(Ie){const Xe=await oe.call(this,Ie);this.refs[Ie]||await D.call(this,Xe.$schema),this.refs[Ie]||this.addSchema(Xe,Ie,G)}async function oe(Ie){const Xe=this._loading[Ie];if(Xe)return Xe;try{return await(this._loading[Ie]=K(Ie))}finally{delete this._loading[Ie]}}}addSchema(I,G,K,k=this.opts.validateSchema){if(Array.isArray(I)){for(const X of I)this.addSchema(X,void 0,K,k);return this}let D;if(typeof I=="object"){const{schemaId:X}=this.opts;if(D=I[X],D!==void 0&&typeof D!="string")throw new Error(`schema ${X} must be string`)}return G=(0,l.normalizeId)(G||D),this._checkUnique(G),this.schemas[G]=this._addSchema(I,K,G,k,!0),this}addMetaSchema(I,G,K=this.opts.validateSchema){return this.addSchema(I,G,!0,K),this}validateSchema(I,G){if(typeof I=="boolean")return!0;let K;if(K=I.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(K,I);if(!k&&G){const D="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(D);else throw new Error(D)}return k}getSchema(I){let G;for(;typeof(G=B.call(this,I))=="string";)I=G;if(G===void 0){const{schemaId:K}=this.opts,k=new a.SchemaEnv({schema:{},schemaId:K});if(G=a.resolveSchema.call(this,k,I),!G)return;this.refs[I]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const G=B.call(this,I);return typeof G=="object"&&this._cache.delete(G.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{const G=I;this._cache.delete(G);let K=I[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const G of I)this.addKeyword(G);return this}addKeyword(I,G){let K;if(typeof I=="string")K=I,typeof G=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=K);else if(typeof I=="object"&&G===void 0){if(G=I,K=G.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Se.call(this,K,G),!G)return(0,d.eachItem)(K,D=>Re.call(this,D)),this;Ue.call(this,G);const k={...G,type:(0,f.getJSONTypes)(G.type),schemaType:(0,f.getJSONTypes)(G.schemaType)};return(0,d.eachItem)(K,k.type.length===0?D=>Re.call(this,D,k):D=>k.type.forEach(X=>Re.call(this,D,k,X))),this}getKeyword(I){const G=this.RULES.all[I];return typeof G=="object"?G.definition:!!G}removeKeyword(I){const{RULES:G}=this;delete G.keywords[I],delete G.all[I];for(const K of G.rules){const k=K.rules.findIndex(D=>D.keyword===I);k>=0&&K.rules.splice(k,1)}return this}addFormat(I,G){return typeof G=="string"&&(G=new RegExp(G)),this.formats[I]=G,this}errorsText(I=this.errors,{separator:G=", ",dataVar:K="data"}={}){return!I||I.length===0?"No errors":I.map(k=>`${K}${k.instancePath} ${k.message}`).reduce((k,D)=>k+G+D)}$dataMetaSchema(I,G){const K=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const k of G){const D=k.split("/").slice(1);let X=I;for(const ve of D)X=X[ve];for(const ve in K){const _e=K[ve];if(typeof _e!="object")continue;const{$data:oe}=_e.definition,Ie=X[ve];oe&&Ie&&(X[ve]=pe(Ie))}}return I}_removeAllSchemas(I,G){for(const K in I){const k=I[K];(!G||G.test(K))&&(typeof k=="string"?delete I[K]:k&&!k.meta&&(this._cache.delete(k.schema),delete I[K]))}}_addSchema(I,G,K,k=this.opts.validateSchema,D=this.opts.addUsedSchema){let X;const{schemaId:ve}=this.opts;if(typeof I=="object")X=I[ve];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof I!="boolean")throw new Error("schema must be object or boolean")}let _e=this._cache.get(I);if(_e!==void 0)return _e;K=(0,l.normalizeId)(X||K);const oe=l.getSchemaRefs.call(this,I,K);return _e=new a.SchemaEnv({schema:I,schemaId:ve,meta:G,baseId:K,localRefs:oe}),this._cache.set(_e.schema,_e),D&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=_e),k&&this.validateSchema(I,!0),_e}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):a.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const G=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,I)}finally{this.opts=G}}}O.ValidationError=n.default,O.MissingRefError=i.default,e.default=O;function T(H,I,G,K="error"){for(const k in H){const D=k;D in I&&this.logger[K](`${G}: option ${k}. ${H[D]}`)}}function B(H){return H=(0,l.normalizeId)(H),this.schemas[H]||this.refs[H]}function F(){const H=this.opts.schemas;if(H)if(Array.isArray(H))this.addSchema(H);else for(const I in H)this.addSchema(H[I],I)}function Q(){for(const H in this.opts.formats){const I=this.opts.formats[H];I&&this.addFormat(H,I)}}function de(H){if(Array.isArray(H)){this.addVocabulary(H);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const I in H){const G=H[I];G.keyword||(G.keyword=I),this.addKeyword(G)}}function se(){const H={...this.opts};for(const I of _)delete H[I];return H}const te={log(){},warn(){},error(){}};function ie(H){if(H===!1)return te;if(H===void 0)return console;if(H.log&&H.warn&&H.error)return H;throw new Error("logger must implement log, warn and error methods")}const we=/^[a-z_$][a-z0-9_$:-]*$/i;function Se(H,I){const{RULES:G}=this;if((0,d.eachItem)(H,K=>{if(G.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!we.test(K))throw new Error(`Keyword ${K} has invalid name`)}),!!I&&I.$data&&!("code"in I||"validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function Re(H,I,G){var K;const k=I==null?void 0:I.post;if(G&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:D}=this;let X=k?D.post:D.rules.find(({type:_e})=>_e===G);if(X||(X={type:G,rules:[]},D.rules.push(X)),D.keywords[H]=!0,!I)return;const ve={keyword:H,definition:{...I,type:(0,f.getJSONTypes)(I.type),schemaType:(0,f.getJSONTypes)(I.schemaType)}};I.before?Fe.call(this,X,ve,I.before):X.rules.push(ve),D.all[H]=ve,(K=I.implements)===null||K===void 0||K.forEach(_e=>this.addKeyword(_e))}function Fe(H,I,G){const K=H.rules.findIndex(k=>k.keyword===G);K>=0?H.rules.splice(K,0,I):(H.rules.push(I),this.logger.warn(`rule ${G} is not defined`))}function Ue(H){let{metaSchema:I}=H;I!==void 0&&(H.$data&&this.opts.$data&&(I=pe(I)),H.validateSchema=this.compile(I,!0))}const J={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function pe(H){return{anyOf:[H,J]}}})(QE);var iy={},oy={},ay={};Object.defineProperty(ay,"__esModule",{value:!0});const nj={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ay.default=nj;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.callRef=Io.getValidate=void 0;const ij=is,zw=Ae,ar=Te,ta=Pn,jw=ur,Jl=me,oj={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:f}=o;if((r==="#"||r==="#/")&&i===f.baseId)return p();const d=jw.resolveRef.call(l,f,i,r);if(d===void 0)throw new ij.default(n.opts.uriResolver,i,r);if(d instanceof jw.SchemaEnv)return v(d);return w(d);function p(){if(o===f)return Tc(e,a,o,o.$async);const _=t.scopeValue("root",{ref:f});return Tc(e,(0,ar._)`${_}.validate`,f,f.$async)}function v(_){const E=LP(e,_);Tc(e,E,_,_.$async)}function w(_){const E=t.scopeValue("schema",s.code.source===!0?{ref:_,code:(0,ar.stringify)(_)}:{ref:_}),$=t.name("valid"),g=e.subschema({schema:_,dataTypes:[],schemaPath:ar.nil,topSchemaRef:E,errSchemaPath:r},$);e.mergeEvaluated(g),e.ok($)}}};function LP(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ar._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Io.getValidate=LP;function Tc(e,t,r,n){const{gen:i,it:o}=e,{allErrors:a,schemaEnv:s,opts:l}=o,f=l.passContext?ta.default.this:ar.nil;n?d():p();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");const _=i.let("valid");i.try(()=>{i.code((0,ar._)`await ${(0,zw.callValidateCode)(e,t,f)}`),w(t),a||i.assign(_,!0)},E=>{i.if((0,ar._)`!(${E} instanceof ${o.ValidationError})`,()=>i.throw(E)),v(E),a||i.assign(_,!1)}),e.ok(_)}function p(){e.result((0,zw.callValidateCode)(e,t,f),()=>w(t),()=>v(t))}function v(_){const E=(0,ar._)`${_}.errors`;i.assign(ta.default.vErrors,(0,ar._)`${ta.default.vErrors} === null ? ${E} : ${ta.default.vErrors}.concat(${E})`),i.assign(ta.default.errors,(0,ar._)`${ta.default.vErrors}.length`)}function w(_){var E;if(!o.opts.unevaluated)return;const $=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(o.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(o.props=Jl.mergeEvaluated.props(i,$.props,o.props));else{const g=i.var("props",(0,ar._)`${_}.evaluated.props`);o.props=Jl.mergeEvaluated.props(i,g,o.props,ar.Name)}if(o.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(o.items=Jl.mergeEvaluated.items(i,$.items,o.items));else{const g=i.var("items",(0,ar._)`${_}.evaluated.items`);o.items=Jl.mergeEvaluated.items(i,g,o.items,ar.Name)}}}Io.callRef=Tc;Io.default=oj;Object.defineProperty(oy,"__esModule",{value:!0});const aj=ay,sj=Io,uj=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",aj.default,sj.default];oy.default=uj;var sy={},uy={};Object.defineProperty(uy,"__esModule",{value:!0});const mf=Te,ci=mf.operators,vf={maximum:{okStr:"<=",ok:ci.LTE,fail:ci.GT},minimum:{okStr:">=",ok:ci.GTE,fail:ci.LT},exclusiveMaximum:{okStr:"<",ok:ci.LT,fail:ci.GTE},exclusiveMinimum:{okStr:">",ok:ci.GT,fail:ci.LTE}},lj={message:({keyword:e,schemaCode:t})=>(0,mf.str)`must be ${vf[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,mf._)`{comparison: ${vf[e].okStr}, limit: ${t}}`},cj={keyword:Object.keys(vf),type:"number",schemaType:"number",$data:!0,error:lj,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,mf._)`${r} ${vf[t].fail} ${n} || isNaN(${r})`)}};uy.default=cj;var ly={};Object.defineProperty(ly,"__esModule",{value:!0});const eu=Te,fj={message:({schemaCode:e})=>(0,eu.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,eu._)`{multipleOf: ${e}}`},dj={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:fj,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,a=t.let("res"),s=o?(0,eu._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,eu._)`${a} !== parseInt(${a})`;e.fail$data((0,eu._)`(${n} === 0 || (${a} = ${r}/${n}, ${s}))`)}};ly.default=dj;var cy={},fy={};Object.defineProperty(fy,"__esModule",{value:!0});function FP(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}fy.default=FP;FP.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(cy,"__esModule",{value:!0});const ho=Te,hj=me,pj=fy,mj={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,ho.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,ho._)`{limit: ${e}}`},vj={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:mj,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?ho.operators.GT:ho.operators.LT,a=i.opts.unicode===!1?(0,ho._)`${r}.length`:(0,ho._)`${(0,hj.useFunc)(e.gen,pj.default)}(${r})`;e.fail$data((0,ho._)`${a} ${o} ${n}`)}};cy.default=vj;var dy={};Object.defineProperty(dy,"__esModule",{value:!0});const yj=Ae,yf=Te,gj={message:({schemaCode:e})=>(0,yf.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,yf._)`{pattern: ${e}}`},wj={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:gj,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,a=o.opts.unicodeRegExp?"u":"",s=r?(0,yf._)`(new RegExp(${i}, ${a}))`:(0,yj.usePattern)(e,n);e.fail$data((0,yf._)`!${s}.test(${t})`)}};dy.default=wj;var hy={};Object.defineProperty(hy,"__esModule",{value:!0});const tu=Te,_j={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,tu.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,tu._)`{limit: ${e}}`},Sj={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_j,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?tu.operators.GT:tu.operators.LT;e.fail$data((0,tu._)`Object.keys(${r}).length ${i} ${n}`)}};hy.default=Sj;var py={};Object.defineProperty(py,"__esModule",{value:!0});const Ns=Ae,ru=Te,bj=me,Ej={message:({params:{missingProperty:e}})=>(0,ru.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,ru._)`{missingProperty: ${e}}`},Pj={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ej,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:a}=e,{opts:s}=a;if(!o&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?f():d(),s.strictRequired){const w=e.parentSchema.properties,{definedProperties:_}=e.it;for(const E of r)if((w==null?void 0:w[E])===void 0&&!_.has(E)){const $=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${E}" is not defined at "${$}" (strictRequired)`;(0,bj.checkStrictMode)(a,g,a.opts.strictRequired)}}function f(){if(l||o)e.block$data(ru.nil,p);else for(const w of r)(0,Ns.checkReportMissingProp)(e,w)}function d(){const w=t.let("missing");if(l||o){const _=t.let("valid",!0);e.block$data(_,()=>v(w,_)),e.ok(_)}else t.if((0,Ns.checkMissingProp)(e,r,w)),(0,Ns.reportMissingProp)(e,w),t.else()}function p(){t.forOf("prop",n,w=>{e.setParams({missingProperty:w}),t.if((0,Ns.noPropertyInData)(t,i,w,s.ownProperties),()=>e.error())})}function v(w,_){e.setParams({missingProperty:w}),t.forOf(w,n,()=>{t.assign(_,(0,Ns.propertyInData)(t,i,w,s.ownProperties)),t.if((0,ru.not)(_),()=>{e.error(),t.break()})},ru.nil)}}};py.default=Pj;var my={};Object.defineProperty(my,"__esModule",{value:!0});const nu=Te,$j={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,nu.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,nu._)`{limit: ${e}}`},kj={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:$j,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?nu.operators.GT:nu.operators.LT;e.fail$data((0,nu._)`${r}.length ${i} ${n}`)}};my.default=kj;var vy={},nl={};Object.defineProperty(nl,"__esModule",{value:!0});const BP=hP;BP.code='require("ajv/dist/runtime/equal").default';nl.default=BP;Object.defineProperty(vy,"__esModule",{value:!0});const Rh=bt,Nt=Te,Cj=me,Oj=nl,xj={message:({params:{i:e,j:t}})=>(0,Nt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Nt._)`{i: ${e}, j: ${t}}`},Tj={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:xj,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=e;if(!n&&!i)return;const l=t.let("valid"),f=o.items?(0,Rh.getSchemaTypes)(o.items):[];e.block$data(l,d,(0,Nt._)`${a} === false`),e.ok(l);function d(){const _=t.let("i",(0,Nt._)`${r}.length`),E=t.let("j");e.setParams({i:_,j:E}),t.assign(l,!0),t.if((0,Nt._)`${_} > 1`,()=>(p()?v:w)(_,E))}function p(){return f.length>0&&!f.some(_=>_==="object"||_==="array")}function v(_,E){const $=t.name("item"),g=(0,Rh.checkDataTypes)(f,$,s.opts.strictNumbers,Rh.DataType.Wrong),y=t.const("indices",(0,Nt._)`{}`);t.for((0,Nt._)`;${_}--;`,()=>{t.let($,(0,Nt._)`${r}[${_}]`),t.if(g,(0,Nt._)`continue`),f.length>1&&t.if((0,Nt._)`typeof ${$} == "string"`,(0,Nt._)`${$} += "_"`),t.if((0,Nt._)`typeof ${y}[${$}] == "number"`,()=>{t.assign(E,(0,Nt._)`${y}[${$}]`),e.error(),t.assign(l,!1).break()}).code((0,Nt._)`${y}[${$}] = ${_}`)})}function w(_,E){const $=(0,Cj.useFunc)(t,Oj.default),g=t.name("outer");t.label(g).for((0,Nt._)`;${_}--;`,()=>t.for((0,Nt._)`${E} = ${_}; ${E}--;`,()=>t.if((0,Nt._)`${$}(${r}[${_}], ${r}[${E}])`,()=>{e.error(),t.assign(l,!1).break(g)})))}}};vy.default=Tj;var yy={};Object.defineProperty(yy,"__esModule",{value:!0});const lm=Te,Rj=me,Dj=nl,Nj={message:"must be equal to constant",params:({schemaCode:e})=>(0,lm._)`{allowedValue: ${e}}`},Mj={keyword:"const",$data:!0,error:Nj,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,lm._)`!${(0,Rj.useFunc)(t,Dj.default)}(${r}, ${i})`):e.fail((0,lm._)`${o} !== ${r}`)}};yy.default=Mj;var gy={};Object.defineProperty(gy,"__esModule",{value:!0});const Bs=Te,Aj=me,Ij=nl,zj={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Bs._)`{allowedValues: ${e}}`},jj={keyword:"enum",schemaType:"array",$data:!0,error:zj,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:a}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let l;const f=()=>l??(l=(0,Aj.useFunc)(t,Ij.default));let d;if(s||n)d=t.let("valid"),e.block$data(d,p);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const w=t.const("vSchema",o);d=(0,Bs.or)(...i.map((_,E)=>v(w,E)))}e.pass(d);function p(){t.assign(d,!1),t.forOf("v",o,w=>t.if((0,Bs._)`${f()}(${r}, ${w})`,()=>t.assign(d,!0).break()))}function v(w,_){const E=i[_];return typeof E=="object"&&E!==null?(0,Bs._)`${f()}(${r}, ${w}[${_}])`:(0,Bs._)`${r} === ${E}`}}};gy.default=jj;Object.defineProperty(sy,"__esModule",{value:!0});const Lj=uy,Fj=ly,Bj=cy,Kj=dy,Wj=hy,Uj=py,qj=my,Hj=vy,Vj=yy,Yj=gy,Xj=[Lj.default,Fj.default,Bj.default,Kj.default,Wj.default,Uj.default,qj.default,Hj.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Vj.default,Yj.default];sy.default=Xj;var wy={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.validateAdditionalItems=void 0;const po=Te,cm=me,Gj={message:({params:{len:e}})=>(0,po.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,po._)`{limit: ${e}}`},Qj={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Gj,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,cm.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}KP(e,n)}};function KP(e,t){const{gen:r,schema:n,data:i,keyword:o,it:a}=e;a.items=!0;const s=r.const("len",(0,po._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,po._)`${s} <= ${t.length}`);else if(typeof n=="object"&&!(0,cm.alwaysValidSchema)(a,n)){const f=r.var("valid",(0,po._)`${s} <= ${t.length}`);r.if((0,po.not)(f),()=>l(f)),e.ok(f)}function l(f){r.forRange("i",t.length,s,d=>{e.subschema({keyword:o,dataProp:d,dataPropType:cm.Type.Num},f),a.allErrors||r.if((0,po.not)(f),()=>r.break())})}}os.validateAdditionalItems=KP;os.default=Qj;var _y={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.validateTuple=void 0;const Lw=Te,Rc=me,Zj=Ae,Jj={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return WP(e,"additionalItems",t);r.items=!0,!(0,Rc.alwaysValidSchema)(r,t)&&e.ok((0,Zj.validateArray)(e))}};function WP(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=e;d(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=Rc.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),f=n.const("len",(0,Lw._)`${o}.length`);r.forEach((p,v)=>{(0,Rc.alwaysValidSchema)(s,p)||(n.if((0,Lw._)`${f} > ${v}`,()=>e.subschema({keyword:a,schemaProp:v,dataProp:v},l)),e.ok(l))});function d(p){const{opts:v,errSchemaPath:w}=s,_=r.length,E=_===p.minItems&&(_===p.maxItems||p[t]===!1);if(v.strictTuples&&!E){const $=`"${a}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${w}"`;(0,Rc.checkStrictMode)(s,$,v.strictTuples)}}}as.validateTuple=WP;as.default=Jj;Object.defineProperty(_y,"__esModule",{value:!0});const e2=as,t2={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,e2.validateTuple)(e,"items")};_y.default=t2;var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});const Fw=Te,r2=me,n2=Ae,i2=os,o2={message:({params:{len:e}})=>(0,Fw.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Fw._)`{limit: ${e}}`},a2={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o2,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,r2.alwaysValidSchema)(n,t)&&(i?(0,i2.validateAdditionalItems)(e,i):e.ok((0,n2.validateArray)(e)))}};Sy.default=a2;var by={};Object.defineProperty(by,"__esModule",{value:!0});const Dr=Te,ec=me,s2={message:({params:{min:e,max:t}})=>t===void 0?(0,Dr.str)`must contain at least ${e} valid item(s)`:(0,Dr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Dr._)`{minContains: ${e}}`:(0,Dr._)`{minContains: ${e}, maxContains: ${t}}`},u2={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:s2,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let a,s;const{minContains:l,maxContains:f}=n;o.opts.next?(a=l===void 0?1:l,s=f):a=1;const d=t.const("len",(0,Dr._)`${i}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,ec.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,ec.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ec.alwaysValidSchema)(o,r)){let E=(0,Dr._)`${d} >= ${a}`;s!==void 0&&(E=(0,Dr._)`${E} && ${d} <= ${s}`),e.pass(E);return}o.items=!0;const p=t.name("valid");s===void 0&&a===1?w(p,()=>t.if(p,()=>t.break())):a===0?(t.let(p,!0),s!==void 0&&t.if((0,Dr._)`${i}.length > 0`,v)):(t.let(p,!1),v()),e.result(p,()=>e.reset());function v(){const E=t.name("_valid"),$=t.let("count",0);w(E,()=>t.if(E,()=>_($)))}function w(E,$){t.forRange("i",0,d,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:ec.Type.Num,compositeRule:!0},E),$()})}function _(E){t.code((0,Dr._)`${E}++`),s===void 0?t.if((0,Dr._)`${E} >= ${a}`,()=>t.assign(p,!0).break()):(t.if((0,Dr._)`${E} > ${s}`,()=>t.assign(p,!1).break()),a===1?t.assign(p,!0):t.if((0,Dr._)`${E} >= ${a}`,()=>t.assign(p,!0)))}}};by.default=u2;var UP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Te,r=me,n=Ae;e.error={message:({params:{property:l,depsCount:f,deps:d}})=>{const p=f===1?"property":"properties";return(0,t.str)`must have ${p} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:d,missingProperty:p}})=>(0,t._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${f},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[f,d]=o(l);a(l,f),s(l,d)}};function o({schema:l}){const f={},d={};for(const p in l){if(p==="__proto__")continue;const v=Array.isArray(l[p])?f:d;v[p]=l[p]}return[f,d]}function a(l,f=l.schema){const{gen:d,data:p,it:v}=l;if(Object.keys(f).length===0)return;const w=d.let("missing");for(const _ in f){const E=f[_];if(E.length===0)continue;const $=(0,n.propertyInData)(d,p,_,v.opts.ownProperties);l.setParams({property:_,depsCount:E.length,deps:E.join(", ")}),v.allErrors?d.if($,()=>{for(const g of E)(0,n.checkReportMissingProp)(l,g)}):(d.if((0,t._)`${$} && (${(0,n.checkMissingProp)(l,E,w)})`),(0,n.reportMissingProp)(l,w),d.else())}}e.validatePropertyDeps=a;function s(l,f=l.schema){const{gen:d,data:p,keyword:v,it:w}=l,_=d.name("valid");for(const E in f)(0,r.alwaysValidSchema)(w,f[E])||(d.if((0,n.propertyInData)(d,p,E,w.opts.ownProperties),()=>{const $=l.subschema({keyword:v,schemaProp:E},_);l.mergeValidEvaluated($,_)},()=>d.var(_,!0)),l.ok(_))}e.validateSchemaDeps=s,e.default=i})(UP);var Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});const qP=Te,l2=me,c2={message:"property name must be valid",params:({params:e})=>(0,qP._)`{propertyName: ${e.propertyName}}`},f2={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:c2,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,l2.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),t.if((0,qP.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};Ey.default=f2;var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});const tc=Ae,Xr=Te,d2=Pn,rc=me,h2={message:"must NOT have additional properties",params:({params:e})=>(0,Xr._)`{additionalProperty: ${e.additionalProperty}}`},p2={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:h2,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:a}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,rc.alwaysValidSchema)(a,r))return;const f=(0,tc.allSchemaProperties)(n.properties),d=(0,tc.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Xr._)`${o} === ${d2.default.errors}`);function p(){t.forIn("key",i,$=>{!f.length&&!d.length?_($):t.if(v($),()=>_($))})}function v($){let g;if(f.length>8){const y=(0,rc.schemaRefOrVal)(a,n.properties,"properties");g=(0,tc.isOwnProperty)(t,y,$)}else f.length?g=(0,Xr.or)(...f.map(y=>(0,Xr._)`${$} === ${y}`)):g=Xr.nil;return d.length&&(g=(0,Xr.or)(g,...d.map(y=>(0,Xr._)`${(0,tc.usePattern)(e,y)}.test(${$})`))),(0,Xr.not)(g)}function w($){t.code((0,Xr._)`delete ${i}[${$}]`)}function _($){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){w($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,rc.alwaysValidSchema)(a,r)){const g=t.name("valid");l.removeAdditional==="failing"?(E($,g,!1),t.if((0,Xr.not)(g),()=>{e.reset(),w($)})):(E($,g),s||t.if((0,Xr.not)(g),()=>t.break()))}}function E($,g,y){const b={keyword:"additionalProperties",dataProp:$,dataPropType:rc.Type.Str};y===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,g)}}};Qf.default=p2;var Py={};Object.defineProperty(Py,"__esModule",{value:!0});const m2=an,Bw=Ae,Dh=me,Kw=Qf,v2={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Kw.default.code(new m2.KeywordCxt(o,Kw.default,"additionalProperties"));const a=(0,Bw.allSchemaProperties)(r);for(const p of a)o.definedProperties.add(p);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Dh.mergeEvaluated.props(t,(0,Dh.toHash)(a),o.props));const s=a.filter(p=>!(0,Dh.alwaysValidSchema)(o,r[p]));if(s.length===0)return;const l=t.name("valid");for(const p of s)f(p)?d(p):(t.if((0,Bw.propertyInData)(t,i,p,o.opts.ownProperties)),d(p),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(l);function f(p){return o.opts.useDefaults&&!o.compositeRule&&r[p].default!==void 0}function d(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},l)}}};Py.default=v2;var $y={};Object.defineProperty($y,"__esModule",{value:!0});const Ww=Ae,nc=Te,Uw=me,qw=me,y2={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:a}=o,s=(0,Ww.allSchemaProperties)(r),l=s.filter(E=>(0,Uw.alwaysValidSchema)(o,r[E]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const f=a.strictSchema&&!a.allowMatchingProperties&&i.properties,d=t.name("valid");o.props!==!0&&!(o.props instanceof nc.Name)&&(o.props=(0,qw.evaluatedPropsToName)(t,o.props));const{props:p}=o;v();function v(){for(const E of s)f&&w(E),o.allErrors?_(E):(t.var(d,!0),_(E),t.if(d))}function w(E){for(const $ in f)new RegExp(E).test($)&&(0,Uw.checkStrictMode)(o,`property ${$} matches pattern ${E} (use allowMatchingProperties)`)}function _(E){t.forIn("key",n,$=>{t.if((0,nc._)`${(0,Ww.usePattern)(e,E)}.test(${$})`,()=>{const g=l.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:$,dataPropType:qw.Type.Str},d),o.opts.unevaluated&&p!==!0?t.assign((0,nc._)`${p}[${$}]`,!0):!g&&!o.allErrors&&t.if((0,nc.not)(d),()=>t.break())})})}}};$y.default=y2;var ky={};Object.defineProperty(ky,"__esModule",{value:!0});const g2=me,w2={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,g2.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ky.default=w2;var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});const _2=Ae,S2={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_2.validateUnion,error:{message:"must match a schema in anyOf"}};Cy.default=S2;var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});const Dc=Te,b2=me,E2={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Dc._)`{passingSchemas: ${e.passing}}`},P2={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:E2,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,a=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(f),e.result(a,()=>e.reset(),()=>e.error(!0));function f(){o.forEach((d,p)=>{let v;(0,b2.alwaysValidSchema)(i,d)?t.var(l,!0):v=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},l),p>0&&t.if((0,Dc._)`${l} && ${a}`).assign(a,!1).assign(s,(0,Dc._)`[${s}, ${p}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(s,p),v&&e.mergeEvaluated(v,Dc.Name)})})}}};Oy.default=P2;var xy={};Object.defineProperty(xy,"__esModule",{value:!0});const $2=me,k2={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,a)=>{if((0,$2.alwaysValidSchema)(n,o))return;const s=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(s)})}};xy.default=k2;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});const gf=Te,HP=me,C2={message:({params:e})=>(0,gf.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,gf._)`{failingKeyword: ${e.ifClause}}`},O2={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:C2,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,HP.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Hw(n,"then"),o=Hw(n,"else");if(!i&&!o)return;const a=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),i&&o){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(s,f("then",d),f("else",d))}else i?t.if(s,f("then")):t.if((0,gf.not)(s),f("else"));e.pass(a,()=>e.error(!0));function l(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(d)}function f(d,p){return()=>{const v=e.subschema({keyword:d},s);t.assign(a,s),e.mergeValidEvaluated(v,a),p?t.assign(p,(0,gf._)`${d}`):e.setParams({ifClause:d})}}}};function Hw(e,t){const r=e.schema[t];return r!==void 0&&!(0,HP.alwaysValidSchema)(e,r)}Ty.default=O2;var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});const x2=me,T2={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,x2.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ry.default=T2;Object.defineProperty(wy,"__esModule",{value:!0});const R2=os,D2=_y,N2=as,M2=Sy,A2=by,I2=UP,z2=Ey,j2=Qf,L2=Py,F2=$y,B2=ky,K2=Cy,W2=Oy,U2=xy,q2=Ty,H2=Ry;function V2(e=!1){const t=[B2.default,K2.default,W2.default,U2.default,q2.default,H2.default,z2.default,j2.default,I2.default,L2.default,F2.default];return e?t.push(D2.default,M2.default):t.push(R2.default,N2.default),t.push(A2.default),t}wy.default=V2;var Dy={},Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});const mt=Te,Y2={message:({schemaCode:e})=>(0,mt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,mt._)`{format: ${e}}`},X2={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Y2,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:s}=e,{opts:l,errSchemaPath:f,schemaEnv:d,self:p}=s;if(!l.validateFormats)return;i?v():w();function v(){const _=r.scopeValue("formats",{ref:p.formats,code:l.code.formats}),E=r.const("fDef",(0,mt._)`${_}[${a}]`),$=r.let("fType"),g=r.let("format");r.if((0,mt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign($,(0,mt._)`${E}.type || "string"`).assign(g,(0,mt._)`${E}.validate`),()=>r.assign($,(0,mt._)`"string"`).assign(g,E)),e.fail$data((0,mt.or)(y(),b()));function y(){return l.strictSchema===!1?mt.nil:(0,mt._)`${a} && !${g}`}function b(){const O=d.$async?(0,mt._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,mt._)`${g}(${n})`,T=(0,mt._)`(typeof ${g} == "function" ? ${O} : ${g}.test(${n}))`;return(0,mt._)`${g} && ${g} !== true && ${$} === ${t} && !${T}`}}function w(){const _=p.formats[o];if(!_){y();return}if(_===!0)return;const[E,$,g]=b(_);E===t&&e.pass(O());function y(){if(l.strictSchema===!1){p.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${o}" ignored in schema at path "${f}"`}}function b(T){const B=T instanceof RegExp?(0,mt.regexpCode)(T):l.code.formats?(0,mt._)`${l.code.formats}${(0,mt.getProperty)(o)}`:void 0,F=r.scopeValue("formats",{key:o,ref:T,code:B});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,mt._)`${F}.validate`]:["string",T,F]}function O(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!d.$async)throw new Error("async format in sync schema");return(0,mt._)`await ${g}(${n})`}return typeof $=="function"?(0,mt._)`${g}(${n})`:(0,mt._)`${g}.test(${n})`}}}};Ny.default=X2;Object.defineProperty(Dy,"__esModule",{value:!0});const G2=Ny,Q2=[G2.default];Dy.default=Q2;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.contentVocabulary=Ga.metadataVocabulary=void 0;Ga.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ga.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(iy,"__esModule",{value:!0});const Z2=oy,J2=sy,eL=wy,tL=Dy,Vw=Ga,rL=[Z2.default,J2.default,(0,eL.default)(),tL.default,Vw.metadataVocabulary,Vw.contentVocabulary];iy.default=rL;var My={},Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.DiscrError=void 0;var Yw;(function(e){e.Tag="tag",e.Mapping="mapping"})(Yw||(Zf.DiscrError=Yw={}));Object.defineProperty(My,"__esModule",{value:!0});const oa=Te,fm=Zf,Xw=ur,nL=is,iL=me,oL={message:({params:{discrError:e,tagName:t}})=>e===fm.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,oa._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},aL={keyword:"discriminator",type:"object",schemaType:"object",error:oL,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),f=t.const("tag",(0,oa._)`${r}${(0,oa.getProperty)(s)}`);t.if((0,oa._)`typeof ${f} == "string"`,()=>d(),()=>e.error(!1,{discrError:fm.DiscrError.Tag,tag:f,tagName:s})),e.ok(l);function d(){const w=v();t.if(!1);for(const _ in w)t.elseIf((0,oa._)`${f} === ${_}`),t.assign(l,p(w[_]));t.else(),e.error(!1,{discrError:fm.DiscrError.Mapping,tag:f,tagName:s}),t.endIf()}function p(w){const _=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:w},_);return e.mergeEvaluated(E,oa.Name),_}function v(){var w;const _={},E=g(i);let $=!0;for(let O=0;O<a.length;O++){let T=a[O];if(T!=null&&T.$ref&&!(0,iL.schemaHasRulesButRef)(T,o.self.RULES)){const F=T.$ref;if(T=Xw.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,F),T instanceof Xw.SchemaEnv&&(T=T.schema),T===void 0)throw new nL.default(o.opts.uriResolver,o.baseId,F)}const B=(w=T==null?void 0:T.properties)===null||w===void 0?void 0:w[s];if(typeof B!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);$=$&&(E||g(T)),y(B,O)}if(!$)throw new Error(`discriminator: "${s}" must be required`);return _;function g({required:O}){return Array.isArray(O)&&O.includes(s)}function y(O,T){if(O.const)b(O.const,T);else if(O.enum)for(const B of O.enum)b(B,T);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function b(O,T){if(typeof O!="string"||O in _)throw new Error(`discriminator: "${s}" values must be unique strings`);_[O]=T}}}};My.default=aL;const sL="http://json-schema.org/draft-07/schema#",uL="http://json-schema.org/draft-07/schema#",lL="Core schema meta-schema",cL={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fL=["object","boolean"],dL={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},hL={$schema:sL,$id:uL,title:lL,definitions:cL,type:fL,properties:dL,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=QE,n=iy,i=My,o=hL,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(_,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var f=an;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=Te;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=rl;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var v=is;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(im,im.exports);var VP=im.exports;const pL=Bu(VP);var dm={exports:{}},YP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(te,ie){return{validate:te,compare:ie}}e.fullFormats={date:t(o,a),time:t(l(!0),f),"date-time":t(v(!0),w),"iso-time":t(l(),d),"iso-date-time":t(v(),_),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:g,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:se,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:b,int32:{type:"number",validate:B},int64:{type:"number",validate:F},float:{type:"number",validate:Q},double:{type:"number",validate:Q},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,w),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,_),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(te){return te%4===0&&(te%100!==0||te%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(te){const ie=n.exec(te);if(!ie)return!1;const we=+ie[1],Se=+ie[2],Re=+ie[3];return Se>=1&&Se<=12&&Re>=1&&Re<=(Se===2&&r(we)?29:i[Se])}function a(te,ie){if(te&&ie)return te>ie?1:te<ie?-1:0}const s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(te){return function(we){const Se=s.exec(we);if(!Se)return!1;const Re=+Se[1],Fe=+Se[2],Ue=+Se[3],J=Se[4],pe=Se[5]==="-"?-1:1,H=+(Se[6]||0),I=+(Se[7]||0);if(H>23||I>59||te&&!J)return!1;if(Re<=23&&Fe<=59&&Ue<60)return!0;const G=Fe-I*pe,K=Re-H*pe-(G<0?1:0);return(K===23||K===-1)&&(G===59||G===-1)&&Ue<61}}function f(te,ie){if(!(te&&ie))return;const we=new Date("2020-01-01T"+te).valueOf(),Se=new Date("2020-01-01T"+ie).valueOf();if(we&&Se)return we-Se}function d(te,ie){if(!(te&&ie))return;const we=s.exec(te),Se=s.exec(ie);if(we&&Se)return te=we[1]+we[2]+we[3],ie=Se[1]+Se[2]+Se[3],te>ie?1:te<ie?-1:0}const p=/t|\s/i;function v(te){const ie=l(te);return function(Se){const Re=Se.split(p);return Re.length===2&&o(Re[0])&&ie(Re[1])}}function w(te,ie){if(!(te&&ie))return;const we=new Date(te).valueOf(),Se=new Date(ie).valueOf();if(we&&Se)return we-Se}function _(te,ie){if(!(te&&ie))return;const[we,Se]=te.split(p),[Re,Fe]=ie.split(p),Ue=a(we,Re);if(Ue!==void 0)return Ue||f(Se,Fe)}const E=/\/|:/,$=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function g(te){return E.test(te)&&$.test(te)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function b(te){return y.lastIndex=0,y.test(te)}const O=-(2**31),T=2**31-1;function B(te){return Number.isInteger(te)&&te<=T&&te>=O}function F(te){return Number.isInteger(te)}function Q(){return!0}const de=/[^\\]\\Z/;function se(te){if(de.test(te))return!1;try{return new RegExp(te),!0}catch{return!1}}})(YP);var XP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=VP,r=Te,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:f,schemaCode:d,keyword:p,it:v}=s,{opts:w,self:_}=v;if(!w.validateFormats)return;const E=new t.KeywordCxt(v,_.RULES.all.format.definition,"format");E.$data?$():g();function $(){const b=l.scopeValue("formats",{ref:_.formats,code:w.code.formats}),O=l.const("fmt",(0,r._)`${b}[${E.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${O} != "object"`,(0,r._)`${O} instanceof RegExp`,(0,r._)`typeof ${O}.compare != "function"`,y(O)))}function g(){const b=E.schema,O=_.formats[b];if(!O||O===!0)return;if(typeof O!="object"||O instanceof RegExp||typeof O.compare!="function")throw new Error(`"${p}": format "${b}" does not define "compare" function`);const T=l.scopeValue("formats",{key:b,ref:O,code:w.code.formats?(0,r._)`${w.code.formats}${(0,r.getProperty)(b)}`:void 0});s.fail$data(y(T))}function y(b){return(0,r._)`${b}.compare(${f}, ${d}) ${i[p].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a})(XP);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=YP,n=XP,i=Te,o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(f,d={keywords:!0})=>{if(Array.isArray(d))return l(f,d,r.fullFormats,o),f;const[p,v]=d.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],w=d.formats||r.formatNames;return l(f,w,p,v),d.keywords&&(0,n.default)(f),f};s.get=(f,d="full")=>{const v=(d==="fast"?r.fastFormats:r.fullFormats)[f];if(!v)throw new Error(`Unknown format "${f}"`);return v};function l(f,d,p,v){var w,_;(w=(_=f.opts.code).formats)!==null&&w!==void 0||(_.formats=(0,i._)`require("ajv-formats/dist/formats").${v}`);for(const E of d)f.addFormat(E,p[E])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(dm,dm.exports);var mL=dm.exports;const vL=Bu(mL);var Xt;function yL(){return Xt||(Xt=new pL({strict:!0}),Xt.addKeyword("version"),Xt.addKeyword("keyCompression"),Xt.addKeyword("primaryKey"),Xt.addKeyword("indexes"),Xt.addKeyword("encrypted"),Xt.addKeyword("final"),Xt.addKeyword("sharding"),Xt.addKeyword("internalIndexes"),Xt.addKeyword("attachments"),Xt.addKeyword("ref"),Xt.addKeyword("crdt"),vL(Xt)),Xt}function gL(e){var t=yL().compile(e);return r=>{var n=t(r);return n?[]:t.errors}}var VF=BM(gL,"ajv");const wL={title:"data_items schema",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},user_id:{type:"string"},entity_type:{type:"string",enum:["task","event","project"],maxLength:10},system_status:{type:"string",enum:["active","completed","dropped","archived","waiting"],default:"active",maxLength:10},title:{type:"string"},parent_id:{type:["string","null"]},sort_order:{type:"number"},do_date:{type:["string","null"],format:"date"},due_date:{type:["string","null"],format:"date-time"},start_time:{type:["string","null"],format:"date-time"},end_time:{type:["string","null"],format:"date-time"},is_all_day:{type:"boolean"},recurrence_rule:{type:["string","null"]},original_event_id:{type:["string","null"]},properties:{type:"object",properties:{priority:{type:"string",enum:["high","normal","low"]},energy_level:{type:"string",enum:["high","medium","low"]},tags:{type:"array",items:{type:"string"}},content:{type:"string"}}},updated_at:{type:"string",format:"date-time",maxLength:35},is_deleted:{type:"boolean",default:!1},created_at:{type:"number"},completed_at:{type:["number","null"]}},required:["id","entity_type","title","updated_at","system_status"],indexes:["updated_at","entity_type","system_status"]},_L={title:"canvas_widgets schema",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},canvas_id:{type:"string",maxLength:100},widget_type:{type:"string",enum:["calendar_master","smart_list","matrix","detail","project_header","archive_bin"]},geometry:{type:"object",properties:{x:{type:"number"},y:{type:"number"},w:{type:"number"},h:{type:"number"},z:{type:"number"}},required:["x","y","w","h"]},data_source_config:{type:"object"},view_state:{type:"object",properties:{is_pinned:{type:"boolean"},is_collapsed:{type:"boolean"},view_mode:{type:"string"}}},updated_at:{type:"string",format:"date-time",maxLength:35},is_deleted:{type:"boolean",default:!1}},required:["id","widget_type","geometry","canvas_id","updated_at"],indexes:["canvas_id"]};LN(PA);const mo=class mo{constructor(){oo(this,"db",null);oo(this,"initializationPromise",null)}static getInstance(){return mo.instance||(mo.instance=new mo),mo.instance}async initialize(){if(this.db)return this.db;if(this.initializationPromise)return this.initializationPromise;this.initializationPromise=this.initializeDatabase();try{return this.db=await this.initializationPromise,this.db}catch(t){throw console.error("Failed to initialize database:",t),this.initializationPromise=null,t}}async initializeDatabase(){try{const t=eA(),r=await AN({name:"project_canvas_gtd",storage:t,ignoreDuplicate:!0});return await r.addCollections({items:{schema:wL},widgets:{schema:_L}}),console.log("Database initialized successfully"),r}catch(t){throw console.error("Database initialization error:",t),new Error(`Failed to initialize database: ${t}`)}}getDatabase(){if(!this.db)throw new Error("Database not initialized. Call initialize() first.");return this.db}async destroy(){this.db&&(await this.db.remove(),this.db=null,this.initializationPromise=null)}};oo(mo,"instance");let hm=mo;const Ir=hm.getInstance();function SL(e="default_canvas"){const[t,r]=De.useState([]);return De.useEffect(()=>{const o=Ir.getDatabase().widgets.find({selector:{canvas_id:e,is_deleted:!1}}).$.subscribe({next:a=>r(a)});return()=>o.unsubscribe()},[e]),t}var Jf={exports:{}},GP={},QP={exports:{}},bL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EL=bL,PL=EL;function ZP(){}function JP(){}JP.resetWarningCache=ZP;var $L=function(){function e(n,i,o,a,s,l){if(l!==PL){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JP,resetWarningCache:ZP};return r.PropTypes=r,r};QP.exports=$L();var e$=QP.exports;function t$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=t$(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Gw(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=t$(e))&&(n&&(n+=" "),n+=t);return n}const kL=Object.freeze(Object.defineProperty({__proto__:null,clsx:Gw,default:Gw},Symbol.toStringTag,{value:"Module"})),CL=L$(kL);var ct={},$n={};Object.defineProperty($n,"__esModule",{value:!0});$n.dontSetMe=DL;$n.findInArray=OL;$n.int=RL;$n.isFunction=xL;$n.isNum=TL;function OL(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function xL(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function TL(e){return typeof e=="number"&&!isNaN(e)}function RL(e){return parseInt(e,10)}function DL(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.browserPrefixToKey=n$;Bo.browserPrefixToStyle=NL;Bo.default=void 0;Bo.getPrefix=r$;const Nh=["Moz","Webkit","O","ms"];function r$(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<Nh.length;n++)if(n$(t,Nh[n])in r)return Nh[n];return""}function n$(e,t){return t?"".concat(t).concat(ML(e)):e}function NL(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function ML(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}Bo.default=r$();Object.defineProperty(ct,"__esModule",{value:!0});ct.addClassName=a$;ct.addEvent=zL;ct.addUserSelectStyles=YL;ct.createCSSTransform=UL;ct.createSVGTransform=qL;ct.getTouch=HL;ct.getTouchIdentifier=VL;ct.getTranslation=Ay;ct.innerHeight=BL;ct.innerWidth=KL;ct.matchesSelector=o$;ct.matchesSelectorAndParentsTo=IL;ct.offsetXYFromParent=WL;ct.outerHeight=LL;ct.outerWidth=FL;ct.removeClassName=s$;ct.removeEvent=jL;ct.removeUserSelectStyles=XL;var Er=$n,Qw=AL(Bo);function i$(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(i$=function(n){return n?r:t})(e)}function AL(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=i$(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}let ic="";function o$(e,t){return ic||(ic=(0,Er.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Er.isFunction)(e[r])})),(0,Er.isFunction)(e[ic])?e[ic](t):!1}function IL(e,t,r){let n=e;do{if(o$(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function zL(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function jL(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function LL(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Er.int)(r.borderTopWidth),t+=(0,Er.int)(r.borderBottomWidth),t}function FL(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Er.int)(r.borderLeftWidth),t+=(0,Er.int)(r.borderRightWidth),t}function BL(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Er.int)(r.paddingTop),t-=(0,Er.int)(r.paddingBottom),t}function KL(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Er.int)(r.paddingLeft),t-=(0,Er.int)(r.paddingRight),t}function WL(e,t,r){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/r,a=(e.clientY+t.scrollTop-i.top)/r;return{x:o,y:a}}function UL(e,t){const r=Ay(e,t,"px");return{[(0,Qw.browserPrefixToKey)("transform",Qw.default)]:r}}function qL(e,t){return Ay(e,t,"")}function Ay(e,t,r){let{x:n,y:i}=e,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+r),s="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(a,", ").concat(s,")")+o}return o}function HL(e,t){return e.targetTouches&&(0,Er.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Er.findInArray)(e.changedTouches,r=>t===r.identifier)}function VL(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function YL(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&a$(e.body,"react-draggable-transparent-selection")}function XL(e){if(e)try{if(e.body&&s$(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function a$(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function s$(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.canDragX=ZL;kn.canDragY=JL;kn.createCoreData=tF;kn.createDraggableData=rF;kn.getBoundPosition=GL;kn.getControlPosition=eF;kn.snapToGrid=QL;var gr=$n,ga=ct;function GL(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:nF(n);const i=Iy(e);if(typeof n=="string"){const{ownerDocument:o}=i,a=o.defaultView;let s;if(n==="parent"?s=i.parentNode:s=o.querySelector(n),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=s,f=a.getComputedStyle(i),d=a.getComputedStyle(l);n={left:-i.offsetLeft+(0,gr.int)(d.paddingLeft)+(0,gr.int)(f.marginLeft),top:-i.offsetTop+(0,gr.int)(d.paddingTop)+(0,gr.int)(f.marginTop),right:(0,ga.innerWidth)(l)-(0,ga.outerWidth)(i)-i.offsetLeft+(0,gr.int)(d.paddingRight)-(0,gr.int)(f.marginRight),bottom:(0,ga.innerHeight)(l)-(0,ga.outerHeight)(i)-i.offsetTop+(0,gr.int)(d.paddingBottom)-(0,gr.int)(f.marginBottom)}}return(0,gr.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,gr.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,gr.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,gr.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function QL(e,t,r){const n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function ZL(e){return e.props.axis==="both"||e.props.axis==="x"}function JL(e){return e.props.axis==="both"||e.props.axis==="y"}function eF(e,t,r){const n=typeof t=="number"?(0,ga.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const i=Iy(r),o=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,ga.offsetXYFromParent)(n||e,o,r.props.scale)}function tF(e,t,r){const n=!(0,gr.isNum)(e.lastX),i=Iy(e);return n?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function rF(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function nF(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Iy(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ed={},td={};Object.defineProperty(td,"__esModule",{value:!0});td.default=iF;function iF(){}Object.defineProperty(ed,"__esModule",{value:!0});ed.default=void 0;var Mh=aF(De),or=zy(e$),oF=zy(Vu),Ut=ct,fi=kn,Ah=$n,Ms=zy(td);function zy(e){return e&&e.__esModule?e:{default:e}}function u$(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(u$=function(n){return n?r:t})(e)}function aF(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=u$(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Gt(e,t,r){return t=sF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=uF(e,"string");return typeof t=="symbol"?t:String(t)}function uF(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Gr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let di=Gr.mouse,rd=class extends Mh.Component{constructor(){super(...arguments),Gt(this,"dragging",!1),Gt(this,"lastX",NaN),Gt(this,"lastY",NaN),Gt(this,"touchIdentifier",null),Gt(this,"mounted",!1),Gt(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,Ut.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,Ut.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Ut.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,fi.getControlPosition)(t,i,this);if(o==null)return;const{x:a,y:s}=o,l=(0,fi.createCoreData)(this,a,s);(0,Ms.default)("DraggableCore: handleDragStart: %j",l),(0,Ms.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ut.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=s,(0,Ut.addEvent)(n,di.move,this.handleDrag),(0,Ut.addEvent)(n,di.stop,this.handleDragStop))}),Gt(this,"handleDrag",t=>{const r=(0,fi.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let s=n-this.lastX,l=i-this.lastY;if([s,l]=(0,fi.snapToGrid)(this.props.grid,s,l),!s&&!l)return;n=this.lastX+s,i=this.lastY+l}const o=(0,fi.createCoreData)(this,n,i);if((0,Ms.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=i}),Gt(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,fi.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,f=i-this.lastY||0;[l,f]=(0,fi.snapToGrid)(this.props.grid,l,f),n=this.lastX+l,i=this.lastY+f}const o=(0,fi.createCoreData)(this,n,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,Ut.removeUserSelectStyles)(s.ownerDocument),(0,Ms.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,Ms.default)("DraggableCore: Removing handlers"),(0,Ut.removeEvent)(s.ownerDocument,di.move,this.handleDrag),(0,Ut.removeEvent)(s.ownerDocument,di.stop,this.handleDragStop))}),Gt(this,"onMouseDown",t=>(di=Gr.mouse,this.handleDragStart(t))),Gt(this,"onMouseUp",t=>(di=Gr.mouse,this.handleDragStop(t))),Gt(this,"onTouchStart",t=>(di=Gr.touch,this.handleDragStart(t))),Gt(this,"onTouchEnd",t=>(di=Gr.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Ut.addEvent)(t,Gr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,Ut.removeEvent)(r,Gr.mouse.move,this.handleDrag),(0,Ut.removeEvent)(r,Gr.touch.move,this.handleDrag),(0,Ut.removeEvent)(r,Gr.mouse.stop,this.handleDragStop),(0,Ut.removeEvent)(r,Gr.touch.stop,this.handleDragStop),(0,Ut.removeEvent)(t,Gr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ut.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:oF.default.findDOMNode(this)}render(){return Mh.cloneElement(Mh.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ed.default=rd;Gt(rd,"displayName","DraggableCore");Gt(rd,"propTypes",{allowAnyClick:or.default.bool,children:or.default.node.isRequired,disabled:or.default.bool,enableUserSelectHack:or.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:or.default.arrayOf(or.default.number),handle:or.default.string,cancel:or.default.string,nodeRef:or.default.object,onStart:or.default.func,onDrag:or.default.func,onStop:or.default.func,onMouseDown:or.default.func,scale:or.default.number,className:Ah.dontSetMe,style:Ah.dontSetMe,transform:Ah.dontSetMe});Gt(rd,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=v(De),r=d(e$),n=d(Vu),i=d(CL),o=ct,a=kn,s=$n,l=d(ed),f=d(td);function d(y){return y&&y.__esModule?y:{default:y}}function p(y){if(typeof WeakMap!="function")return null;var b=new WeakMap,O=new WeakMap;return(p=function(T){return T?O:b})(y)}function v(y,b){if(!b&&y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var O=p(b);if(O&&O.has(y))return O.get(y);var T={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in y)if(F!=="default"&&Object.prototype.hasOwnProperty.call(y,F)){var Q=B?Object.getOwnPropertyDescriptor(y,F):null;Q&&(Q.get||Q.set)?Object.defineProperty(T,F,Q):T[F]=y[F]}return T.default=y,O&&O.set(y,T),T}function w(){return w=Object.assign?Object.assign.bind():function(y){for(var b=1;b<arguments.length;b++){var O=arguments[b];for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(y[T]=O[T])}return y},w.apply(this,arguments)}function _(y,b,O){return b=E(b),b in y?Object.defineProperty(y,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):y[b]=O,y}function E(y){var b=$(y,"string");return typeof b=="symbol"?b:String(b)}function $(y,b){if(typeof y!="object"||y===null)return y;var O=y[Symbol.toPrimitive];if(O!==void 0){var T=O.call(y,b||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(y)}class g extends t.Component{static getDerivedStateFromProps(b,O){let{position:T}=b,{prevPropsPosition:B}=O;return T&&(!B||T.x!==B.x||T.y!==B.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:T,prevPropsPosition:B}),{x:T.x,y:T.y,prevPropsPosition:{...T}}):null}constructor(b){super(b),_(this,"onDragStart",(O,T)=>{if((0,f.default)("Draggable: onDragStart: %j",T),this.props.onStart(O,(0,a.createDraggableData)(this,T))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),_(this,"onDrag",(O,T)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",T);const B=(0,a.createDraggableData)(this,T),F={x:B.x,y:B.y,slackX:0,slackY:0};if(this.props.bounds){const{x:de,y:se}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[te,ie]=(0,a.getBoundPosition)(this,F.x,F.y);F.x=te,F.y=ie,F.slackX=this.state.slackX+(de-F.x),F.slackY=this.state.slackY+(se-F.y),B.x=F.x,B.y=F.y,B.deltaX=F.x-this.state.x,B.deltaY=F.y-this.state.y}if(this.props.onDrag(O,B)===!1)return!1;this.setState(F)}),_(this,"onDragStop",(O,T)=>{if(!this.state.dragging||this.props.onStop(O,(0,a.createDraggableData)(this,T))===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",T);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:de,y:se}=this.props.position;F.x=de,F.y=se}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,O;return(b=(O=this.props)===null||O===void 0||(O=O.nodeRef)===null||O===void 0?void 0:O.current)!==null&&b!==void 0?b:n.default.findDOMNode(this)}render(){const{axis:b,bounds:O,children:T,defaultPosition:B,defaultClassName:F,defaultClassNameDragging:Q,defaultClassNameDragged:de,position:se,positionOffset:te,scale:ie,...we}=this.props;let Se={},Re=null;const Ue=!!!se||this.state.dragging,J=se||B,pe={x:(0,a.canDragX)(this)&&Ue?this.state.x:J.x,y:(0,a.canDragY)(this)&&Ue?this.state.y:J.y};this.state.isElementSVG?Re=(0,o.createSVGTransform)(pe,te):Se=(0,o.createCSSTransform)(pe,te);const H=(0,i.default)(T.props.className||"",F,{[Q]:this.state.dragging,[de]:this.state.dragged});return t.createElement(l.default,w({},we,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(T),{className:H,style:{...T.props.style,...Se},transform:Re}))}}e.default=g,_(g,"displayName","Draggable"),_(g,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),_(g,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(GP);const{default:l$,DraggableCore:lF}=GP;Jf.exports=l$;Jf.exports.default=l$;Jf.exports.DraggableCore=lF;var cF=Jf.exports;const fF=Bu(cF);var gt=globalThis&&globalThis.__assign||function(){return gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gt.apply(this,arguments)},Zw={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Jw={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},oc={width:"20px",height:"20px",position:"absolute",zIndex:1},dF={top:gt(gt({},Zw),{top:"-5px"}),right:gt(gt({},Jw),{left:void 0,right:"-5px"}),bottom:gt(gt({},Zw),{top:void 0,bottom:"-5px"}),left:gt(gt({},Jw),{left:"-5px"}),topRight:gt(gt({},oc),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:gt(gt({},oc),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:gt(gt({},oc),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:gt(gt({},oc),{left:"-10px",top:"-10px",cursor:"nw-resize"})},hF=De.memo(function(e){var t=e.onResizeStart,r=e.direction,n=e.children,i=e.replaceStyles,o=e.className,a=De.useCallback(function(f){t(f,r)},[t,r]),s=De.useCallback(function(f){t(f,r)},[t,r]),l=De.useMemo(function(){return gt(gt({position:"absolute",userSelect:"none"},dF[r]),i??{})},[i,r]);return Pe.jsx("div",{className:o||void 0,style:l,onMouseDown:a,onTouchStart:s,children:n})}),pF=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mn=globalThis&&globalThis.__assign||function(){return mn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},mn.apply(this,arguments)},mF={width:"auto",height:"auto"},ac=function(e,t,r){return Math.max(Math.min(e,r),t)},e_=function(e,t,r){var n=Math.round(e/t);return n*t+r*(n-1)},ra=function(e,t){return new RegExp(e,"i").test(t)},sc=function(e){return!!(e.touches&&e.touches.length)},vF=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},t_=function(e,t,r){r===void 0&&(r=0);var n=t.reduce(function(o,a,s){return Math.abs(a-e)<Math.abs(t[o]-e)?s:o},0),i=Math.abs(t[n]-e);return r===0||i<r?t[n]:e},Ih=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},uc=function(e,t,r,n){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var i=Number(e.replace("%",""))/100;return t*i}if(e.endsWith("vw")){var i=Number(e.replace("vw",""))/100;return r*i}if(e.endsWith("vh")){var i=Number(e.replace("vh",""))/100;return n*i}}return e},yF=function(e,t,r,n,i,o,a){return n=uc(n,e.width,t,r),i=uc(i,e.height,t,r),o=uc(o,e.width,t,r),a=uc(a,e.height,t,r),{maxWidth:typeof n>"u"?void 0:Number(n),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof a>"u"?void 0:Number(a)}},gF=function(e){return Array.isArray(e)?e:[e,e]},wF=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],r_="__resizable_base__",_F=function(e){pF(t,e);function t(r){var n,i,o,a,s=e.call(this,r)||this;return s.ratio=1,s.resizable=null,s.parentLeft=0,s.parentTop=0,s.resizableLeft=0,s.resizableRight=0,s.resizableTop=0,s.resizableBottom=0,s.targetLeft=0,s.targetTop=0,s.delta={width:0,height:0},s.appendBase=function(){if(!s.resizable||!s.window)return null;var l=s.parentNode;if(!l)return null;var f=s.window.document.createElement("div");return f.style.width="100%",f.style.height="100%",f.style.position="absolute",f.style.transform="scale(0, 0)",f.style.left="0",f.style.flex="0 0 100%",f.classList?f.classList.add(r_):f.className+=r_,l.appendChild(f),f},s.removeBase=function(l){var f=s.parentNode;f&&f.removeChild(l)},s.state={isResizing:!1,width:(i=(n=s.propsSize)===null||n===void 0?void 0:n.width)!==null&&i!==void 0?i:"auto",height:(a=(o=s.propsSize)===null||o===void 0?void 0:o.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},s.onResizeStart=s.onResizeStart.bind(s),s.onMouseMove=s.onMouseMove.bind(s),s.onMouseUp=s.onMouseUp.bind(s),s}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||mF},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var r=0,n=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),r=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,n=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=a}return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var r=this,n=this.props.size,i=function(s){var l;if(typeof r.state[s]>"u"||r.state[s]==="auto")return"auto";if(r.propsSize&&r.propsSize[s]&&(!((l=r.propsSize[s])===null||l===void 0)&&l.toString().endsWith("%"))){if(r.state[s].toString().endsWith("%"))return r.state[s].toString();var f=r.getParentSize(),d=Number(r.state[s].toString().replace("px","")),p=d/f[s]*100;return"".concat(p,"%")}return Ih(r.state[s])},o=n&&typeof n.width<"u"&&!this.state.isResizing?Ih(n.width):i("width"),a=n&&typeof n.height<"u"&&!this.state.isResizing?Ih(n.height):i("height");return{width:o,height:a}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var r=this.appendBase();if(!r)return{width:0,height:0};var n=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),r.style.position="relative",r.style.minWidth="100%",r.style.minHeight="100%";var o={width:r.offsetWidth,height:r.offsetHeight};return n&&(this.parentNode.style.flexWrap=i),this.removeBase(r),o},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var r=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:r.flexBasis!=="auto"?r.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(r,n){var i=this.propsSize&&this.propsSize[n];return this.state[n]==="auto"&&this.state.original[n]===r&&(typeof i>"u"||i==="auto")?"auto":r},t.prototype.calculateNewMaxFromBoundary=function(r,n){var i=this.props.boundsByDirection,o=this.state.direction,a=i&&ra("left",o),s=i&&ra("top",o),l,f;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(l=a?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),f=s?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,f=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),f=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(r=r&&r<l?r:l),f&&Number.isFinite(f)&&(n=n&&n<f?n:f),{maxWidth:r,maxHeight:n}},t.prototype.calculateNewSizeFromDirection=function(r,n){var i=this.props.scale||1,o=gF(this.props.resizeRatio||1),a=o[0],s=o[1],l=this.state,f=l.direction,d=l.original,p=this.props,v=p.lockAspectRatio,w=p.lockAspectRatioExtraHeight,_=p.lockAspectRatioExtraWidth,E=d.width,$=d.height,g=w||0,y=_||0;return ra("right",f)&&(E=d.width+(r-d.x)*a/i,v&&($=(E-y)/this.ratio+g)),ra("left",f)&&(E=d.width-(r-d.x)*a/i,v&&($=(E-y)/this.ratio+g)),ra("bottom",f)&&($=d.height+(n-d.y)*s/i,v&&(E=($-g)*this.ratio+y)),ra("top",f)&&($=d.height-(n-d.y)*s/i,v&&(E=($-g)*this.ratio+y)),{newWidth:E,newHeight:$}},t.prototype.calculateNewSizeFromAspectRatio=function(r,n,i,o){var a=this.props,s=a.lockAspectRatio,l=a.lockAspectRatioExtraHeight,f=a.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,p=typeof i.width>"u"||i.width<0?r:i.width,v=typeof o.height>"u"?10:o.height,w=typeof i.height>"u"||i.height<0?n:i.height,_=l||0,E=f||0;if(s){var $=(v-_)*this.ratio+E,g=(w-_)*this.ratio+E,y=(d-E)/this.ratio+_,b=(p-E)/this.ratio+_,O=Math.max(d,$),T=Math.min(p,g),B=Math.max(v,y),F=Math.min(w,b);r=ac(r,O,T),n=ac(n,B,F)}else r=ac(r,d,p),n=ac(n,v,w);return{newWidth:r,newHeight:n}},t.prototype.setBoundingClientRect=function(){var r=1/(this.props.scale||1);if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var i=n.getBoundingClientRect();this.parentLeft=i.left*r,this.parentTop=i.top*r}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*r,this.targetTop=o.top*r}if(this.resizable){var a=this.resizable.getBoundingClientRect(),s=a.left,l=a.top,f=a.right,d=a.bottom;this.resizableLeft=s*r,this.resizableRight=f*r,this.resizableTop=l*r,this.resizableBottom=d*r}},t.prototype.onResizeStart=function(r,n){if(!(!this.resizable||!this.window)){var i=0,o=0;if(r.nativeEvent&&vF(r.nativeEvent)?(i=r.nativeEvent.clientX,o=r.nativeEvent.clientY):r.nativeEvent&&sc(r.nativeEvent)&&(i=r.nativeEvent.touches[0].clientX,o=r.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(r,n,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var s,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var f=this.parentNode;if(f){var d=this.window.getComputedStyle(f).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",s=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:mn(mn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(r.target).cursor||"auto"}),direction:n,flexBasis:s};this.setState(p)}},t.prototype.onMouseMove=function(r){var n=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&sc(r))try{r.preventDefault(),r.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,a=i.maxHeight,s=i.minWidth,l=i.minHeight,f=sc(r)?r.touches[0].clientX:r.clientX,d=sc(r)?r.touches[0].clientY:r.clientY,p=this.state,v=p.direction,w=p.original,_=p.width,E=p.height,$=this.getParentSize(),g=yF($,this.window.innerWidth,this.window.innerHeight,o,a,s,l);o=g.maxWidth,a=g.maxHeight,s=g.minWidth,l=g.minHeight;var y=this.calculateNewSizeFromDirection(f,d),b=y.newHeight,O=y.newWidth,T=this.calculateNewMaxFromBoundary(o,a);this.props.snap&&this.props.snap.x&&(O=t_(O,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=t_(b,this.props.snap.y,this.props.snapGap));var B=this.calculateNewSizeFromAspectRatio(O,b,{width:T.maxWidth,height:T.maxHeight},{width:s,height:l});if(O=B.newWidth,b=B.newHeight,this.props.grid){var F=e_(O,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),Q=e_(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),de=this.props.snapGap||0,se=de===0||Math.abs(F-O)<=de?F:O,te=de===0||Math.abs(Q-b)<=de?Q:b;O=se,b=te}var ie={width:O-w.width,height:b-w.height};if(this.delta=ie,_&&typeof _=="string"){if(_.endsWith("%")){var we=O/$.width*100;O="".concat(we,"%")}else if(_.endsWith("vw")){var Se=O/this.window.innerWidth*100;O="".concat(Se,"vw")}else if(_.endsWith("vh")){var Re=O/this.window.innerHeight*100;O="".concat(Re,"vh")}}if(E&&typeof E=="string"){if(E.endsWith("%")){var we=b/$.height*100;b="".concat(we,"%")}else if(E.endsWith("vw")){var Se=b/this.window.innerWidth*100;b="".concat(Se,"vw")}else if(E.endsWith("vh")){var Re=b/this.window.innerHeight*100;b="".concat(Re,"vh")}}var Fe={width:this.createSizeForCssProperty(O,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?Fe.flexBasis=Fe.width:this.flexDir==="column"&&(Fe.flexBasis=Fe.height);var Ue=this.state.width!==Fe.width,J=this.state.height!==Fe.height,pe=this.state.flexBasis!==Fe.flexBasis,H=Ue||J||pe;H&&Vu.flushSync(function(){n.setState(Fe)}),this.props.onResize&&H&&this.props.onResize(r,v,this.resizable,ie)}},t.prototype.onMouseUp=function(r){var n,i,o=this.state,a=o.isResizing,s=o.direction;o.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(r,s,this.resizable,this.delta),this.props.size&&this.setState({width:(n=this.props.size.width)!==null&&n!==void 0?n:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:mn(mn({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(r){var n,i;this.setState({width:(n=r.width)!==null&&n!==void 0?n:"auto",height:(i=r.height)!==null&&i!==void 0?i:"auto"})},t.prototype.renderResizer=function(){var r=this,n=this.props,i=n.enable,o=n.handleStyles,a=n.handleClasses,s=n.handleWrapperStyle,l=n.handleWrapperClass,f=n.handleComponent;if(!i)return null;var d=Object.keys(i).map(function(p){return i[p]!==!1?Pe.jsx(hF,{direction:p,onResizeStart:r.onResizeStart,replaceStyles:o&&o[p],className:a&&a[p],children:f&&f[p]?f[p]:null},p):null});return Pe.jsx("div",{className:l,style:s,children:d})},t.prototype.render=function(){var r=this,n=Object.keys(this.props).reduce(function(a,s){return wF.indexOf(s)!==-1||(a[s]=r.props[s]),a},{}),i=mn(mn(mn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return Pe.jsxs(o,mn({style:i,className:this.props.className},n,{ref:function(a){a&&(r.resizable=a)},children:[this.state.isResizing&&Pe.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(De.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pm=function(e,t){return pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pm(e,t)};function SF(e,t){pm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _t=function(){return _t=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},_t.apply(this,arguments)};function bF(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var EF={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},PF=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},$F=function(e){SF(t,e);function t(r){var n=e.call(this,r)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:r.maxWidth,maxHeight:r.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var r=this.offsetFromParent,n=r.left,i=r.top,o=this.getDraggablePosition(),a=o.x,s=o.y;this.draggable.setState({x:a-n,y:s-i}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var r=this.draggable.state,n=r.x,i=r.y;return{x:n,y:i}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var r=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,n=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:r,maxHeight:n}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(r){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/n;case"body":return document.body.offsetHeight/n;default:return r.offsetHeight}},t.prototype.getOffsetWidth=function(r){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/n;case"body":return document.body.offsetWidth/n;default:return r.offsetWidth}},t.prototype.onDragStart=function(r,n){this.props.onDragStart&&this.props.onDragStart(r,n);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),a=this.props.scale,s;if(this.props.bounds==="parent")s=o;else if(this.props.bounds==="body"){var l=o.getBoundingClientRect(),f=l.left,d=l.top,p=document.body.getBoundingClientRect(),v=-(f-o.offsetLeft*a-p.left)/a,w=-(d-o.offsetTop*a-p.top)/a,_=(document.body.offsetWidth-this.resizable.size.width*a)/a+v,E=(document.body.offsetHeight-this.resizable.size.height*a)/a+w;return this.setState({bounds:{top:w,right:_,bottom:E,left:v}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var $=o.getBoundingClientRect(),g=$.left,y=$.top,b=-(g-o.offsetLeft*a)/a,O=-(y-o.offsetTop*a)/a,_=(window.innerWidth-this.resizable.size.width*a)/a+b,E=(window.innerHeight-this.resizable.size.height*a)/a+O;return this.setState({bounds:{top:O,right:_,bottom:E,left:b}})}else typeof this.props.bounds=="string"?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);if(!(!(s instanceof HTMLElement)||!(o instanceof HTMLElement))){var T=s.getBoundingClientRect(),B=T.left,F=T.top,Q=o.getBoundingClientRect(),de=Q.left,se=Q.top,te=(B-de)/a,ie=F-se;if(this.resizable){this.updateOffsetFromParent();var we=this.offsetFromParent;this.setState({bounds:{top:ie-we.top,right:te+(s.offsetWidth-this.resizable.size.width)-we.left/a,bottom:ie+(s.offsetHeight-this.resizable.size.height)-we.top,left:te-we.left/a}})}}}},t.prototype.onDrag=function(r,n){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,a=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(r,_t(_t({},n),{x:n.x+o,y:n.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(r,_t(_t({},n),{x:n.x+o,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(r,_t(_t({},n),{x:this.originalPosition.x+o,y:n.y+a,deltaX:0}))}},t.prototype.onDragStop=function(r,n){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,a=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(r,_t(_t({},n),{x:n.x+o,y:n.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(r,_t(_t({},n),{x:n.x+o,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(r,_t(_t({},n),{x:this.originalPosition.x+o,y:n.y+a,deltaX:0}))}},t.prototype.onResizeStart=function(r,n,i){r.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,a=this.offsetFromParent,s=this.getDraggablePosition();if(this.resizingPosition={x:s.x+a.left,y:s.y+a.top},this.originalPosition=s,this.props.bounds){var l=this.getParent(),f=void 0;this.props.bounds==="parent"?f=l:this.props.bounds==="body"?f=document.body:this.props.bounds==="window"?f=window:typeof this.props.bounds=="string"?f=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(f=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(f instanceof HTMLElement||f===window)&&l instanceof HTMLElement){var p=this.getMaxSizesFromProps(),v=p.maxWidth,w=p.maxHeight,_=this.getParentSize();if(v&&typeof v=="string")if(v.endsWith("%")){var E=Number(v.replace("%",""))/100;v=_.width*E}else v.endsWith("px")&&(v=Number(v.replace("px","")));if(w&&typeof w=="string")if(w.endsWith("%")){var E=Number(w.replace("%",""))/100;w=_.height*E}else w.endsWith("px")&&(w=Number(w.replace("px","")));var $=d.getBoundingClientRect(),g=$.left,y=$.top,b=this.props.bounds==="window"?{left:0,top:0}:f.getBoundingClientRect(),O=b.left,T=b.top,B=this.getOffsetWidth(f),F=this.getOffsetHeight(f),Q=n.toLowerCase().endsWith("left"),de=n.toLowerCase().endsWith("right"),se=n.startsWith("top"),te=n.startsWith("bottom");if((Q||se)&&this.resizable){var ie=(g-O)/o+this.resizable.size.width;this.setState({maxWidth:ie>Number(v)?v:ie})}if(de||this.props.lockAspectRatio&&!Q&&!se){var ie=B+(O-g)/o;this.setState({maxWidth:ie>Number(v)?v:ie})}if((se||Q)&&this.resizable){var ie=(y-T)/o+this.resizable.size.height;this.setState({maxHeight:ie>Number(w)?w:ie})}if(te||this.props.lockAspectRatio&&!se&&!Q){var ie=F+(T-y)/o;this.setState({maxHeight:ie>Number(w)?w:ie})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(r,n,i)},t.prototype.onResize=function(r,n,i,o){var a=this,s={x:this.originalPosition.x,y:this.originalPosition.y},l=-o.width,f=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(n)&&(n==="bottomLeft"?s.x+=l:(n==="topRight"||(s.x+=l),s.y+=f));var p=this.draggable.state;(s.x!==p.x||s.y!==p.y)&&Vu.flushSync(function(){a.draggable.setState(s)}),this.updateOffsetFromParent();var v=this.offsetFromParent,w=this.getDraggablePosition().x+v.left,_=this.getDraggablePosition().y+v.top;this.resizingPosition={x:w,y:_},this.props.onResize&&this.props.onResize(r,n,i,o,{x:w,y:_})},t.prototype.onResizeStop=function(r,n,i,o){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),s=a.maxWidth,l=a.maxHeight;this.setState({maxWidth:s,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(r,n,i,o,this.resizingPosition)},t.prototype.updateSize=function(r){this.resizable&&this.resizable.updateSize({width:r.width,height:r.height})},t.prototype.updatePosition=function(r){this.draggable.setState(r)},t.prototype.updateOffsetFromParent=function(){var r=this.props.scale,n=this.getParent(),i=this.getSelfElement();if(!n||i===null)return{top:0,left:0};var o=n.getBoundingClientRect(),a=o.left,s=o.top,l=i.getBoundingClientRect(),f=this.getDraggablePosition(),d=n.scrollLeft,p=n.scrollTop;this.offsetFromParent={left:l.left-a+d-f.x*r,top:l.top-s+p-f.y*r}},t.prototype.render=function(){var r=this,n=this.props,i=n.disableDragging,o=n.style,a=n.dragHandleClassName,s=n.position,l=n.onMouseDown,f=n.onMouseUp,d=n.dragAxis,p=n.dragGrid,v=n.bounds,w=n.enableUserSelectHack,_=n.cancel,E=n.children;n.onResizeStart,n.onResize,n.onResizeStop,n.onDragStart,n.onDrag,n.onDragStop;var $=n.resizeHandleStyles,g=n.resizeHandleClasses,y=n.resizeHandleComponent,b=n.enableResizing,O=n.resizeGrid,T=n.resizeHandleWrapperClass,B=n.resizeHandleWrapperStyle,F=n.scale,Q=n.allowAnyClick,de=n.dragPositionOffset,se=bF(n,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),te=this.props.default?_t({},this.props.default):void 0;delete se.default;var ie=i||a?{cursor:"auto"}:{cursor:"move"},we=_t(_t(_t({},EF),ie),o),Se=this.offsetFromParent,Re=Se.left,Fe=Se.top,Ue;s&&(Ue={x:s.x-Re,y:s.y-Fe});var J=this.state.resizing?void 0:Ue,pe=this.state.resizing?"both":d;return De.createElement(fF,{ref:function(H){H&&(r.draggable=H)},handle:a?".".concat(a):void 0,defaultPosition:te,onMouseDown:l,onMouseUp:f,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:pe,disabled:i,grid:p,bounds:v?this.state.bounds:void 0,position:J,enableUserSelectHack:w,cancel:_,scale:F,allowAnyClick:Q,nodeRef:this.resizableElement,positionOffset:de},De.createElement(_F,_t({},se,{ref:function(H){H&&(r.resizable=H,r.resizableElement.current=H.resizable)},defaultSize:te,size:this.props.size,enable:typeof b=="boolean"?PF(b):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:we,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:O,handleWrapperClass:T,handleWrapperStyle:B,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:$,handleClasses:g,handleComponent:y,scale:this.props.scale}),E))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(De.PureComponent);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),jy=(e,t)=>{const r=De.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...f},d)=>De.createElement("svg",{ref:d,...kF,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${CF(e)}`,s].join(" "),...f},[...t.map(([p,v])=>De.createElement(p,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=jy("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=jy("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=jy("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function c$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=c$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function n_(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=c$(e))&&(n&&(n+=" "),n+=t);return n}const RF=()=>Pe.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-gray-600",children:Pe.jsx("span",{className:"text-2xl",children:" Master Calendar"})}),DF=()=>Pe.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-gray-600",children:Pe.jsx("span",{className:"text-2xl",children:" Smart List"})}),NF=()=>Pe.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-gray-600",children:Pe.jsx("span",{className:"text-2xl",children:" Detail"})}),MF={calendar_master:RF,smart_list:DF,detail:NF,matrix:()=>Pe.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-gray-600",children:" Matrix"}),project_header:()=>Pe.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-gray-600",children:" Project Header"}),archive_bin:()=>Pe.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-gray-600",children:" Archive"})},AF=({type:e})=>{const t=MF[e];return t?Pe.jsx(t,{}):Pe.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-red-50 text-red-500",children:["Unknown Widget: ",e]})},IF=({widget:e,maxZ:t,onUpdateMaxZ:r})=>{const[n,i]=De.useState(!1),o=De.useRef(null),a=e.geometry,s=e.view_state||{},l=s.is_pinned||!1,f=De.useCallback((_,E)=>{l||e.patch({geometry:{...a,x:E.x,y:E.y}})},[e,a,l]),d=De.useCallback((_,E,$,g,y)=>{l||e.patch({geometry:{...a,x:y.x,y:y.y,w:$.offsetWidth,h:$.offsetHeight}})},[e,a,l]),p=De.useCallback(()=>{if(i(!0),a.z!==void 0&&a.z<t){const _=t+1;e.patch({geometry:{...a,z:_}}),r(_)}},[e,a,t,r]),v=De.useCallback(async _=>{_.stopPropagation(),await e.patch({view_state:{...s,is_pinned:!l}})},[e,s,l]),w=De.useCallback(async _=>{_.stopPropagation(),await e.patch({is_deleted:!0})},[e]);return Pe.jsx($F,{ref:o,position:{x:a.x,y:a.y},size:{width:a.w,height:a.h},onDragStop:f,onResizeStop:d,onMouseDown:p,onBlur:()=>i(!1),disableDragging:l,enableResizing:!l,dragHandleClassName:"widget-header",bounds:"parent",style:{zIndex:a.z||0},className:n_("rounded-lg shadow-lg backdrop-blur-sm border-2 transition-all",n?"border-blue-500 shadow-2xl":"border-gray-300",l&&"ring-2 ring-blue-400"),children:Pe.jsxs("div",{className:"w-full h-full flex flex-col bg-white bg-opacity-95 rounded-lg overflow-hidden",children:[Pe.jsxs("div",{className:"widget-header flex items-center justify-between bg-gray-100 px-3 py-2 cursor-move border-b border-gray-200 rounded-t-lg",children:[Pe.jsx("span",{className:"font-bold text-xs text-gray-600 uppercase tracking-wider",children:e.widget_type.replace("_"," ")}),Pe.jsxs("div",{className:"flex space-x-1",children:[Pe.jsx("button",{onClick:v,className:n_("p-1 rounded hover:bg-gray-200 transition-colors",l?"text-blue-600":"text-gray-400"),title:l?"Unlock":"Lock position",children:Pe.jsx(xF,{size:14,fill:l?"currentColor":"none"})}),Pe.jsx("button",{className:"p-1 rounded hover:bg-gray-200 text-gray-400 transition-colors",title:"Create link",children:Pe.jsx(OF,{size:14})}),Pe.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-red-100 text-gray-400 hover:text-red-500 transition-colors",title:"Close",children:Pe.jsx(TF,{size:14})})]})]}),Pe.jsx("div",{className:"flex-1 overflow-auto",children:Pe.jsx(AF,{type:e.widget_type})})]})})},zF=({canvasId:e="default_canvas"})=>{const t=SL(e),[r,n]=De.useState(0);return De.useEffect(()=>{if(t.length>0){const i=Math.max(...t.map(o=>{var a;return((a=o.geometry)==null?void 0:a.z)||0}));n(i)}},[t]),Pe.jsx("div",{className:"w-screen h-screen overflow-hidden bg-gray-50",children:Pe.jsx(_x,{initialScale:1,initialPositionX:0,initialPositionY:0,minScale:.5,maxScale:2,limitToBounds:!1,centerOnInit:!1,wheel:{step:.1},panning:{velocityDisabled:!0},children:Pe.jsx(Ex,{wrapperClass:"w-full h-full",contentClass:"w-full h-full",children:Pe.jsx("div",{className:"relative w-[5000px] h-[5000px]",style:{backgroundImage:`
                radial-gradient(circle, #cbd5e1 1px, transparent 1px)
              `,backgroundSize:"20px 20px"},children:t.map(i=>Pe.jsx(IF,{widget:i,maxZ:r,onUpdateMaxZ:n},i.id))})})})})};let lc;const jF=new Uint8Array(16);function LF(){if(!lc&&(lc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!lc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lc(jF)}const Dt=[];for(let e=0;e<256;++e)Dt.push((e+256).toString(16).slice(1));function FF(e,t=0){return Dt[e[t+0]]+Dt[e[t+1]]+Dt[e[t+2]]+Dt[e[t+3]]+"-"+Dt[e[t+4]]+Dt[e[t+5]]+"-"+Dt[e[t+6]]+Dt[e[t+7]]+"-"+Dt[e[t+8]]+Dt[e[t+9]]+"-"+Dt[e[t+10]]+Dt[e[t+11]]+Dt[e[t+12]]+Dt[e[t+13]]+Dt[e[t+14]]+Dt[e[t+15]]}const BF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i_={randomUUID:BF};function KF(e,t,r){if(i_.randomUUID&&!t&&!e)return i_.randomUUID();e=e||{};const n=e.random||(e.rng||LF)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return FF(n)}class zh{static async createWidget(t,r,n,i=400,o=300,a="default_canvas"){const s=Ir.getDatabase(),l={id:KF(),canvas_id:a,widget_type:t,geometry:{x:r,y:n,w:i,h:o,z:0},data_source_config:{},view_state:{is_pinned:!1,is_collapsed:!1,view_mode:"default"},updated_at:new Date().toISOString(),is_deleted:!1};return(await s.widgets.insert(l)).toJSON()}static async getWidgetsByCanvas(t){return(await Ir.getDatabase().widgets.find({selector:{canvas_id:t,is_deleted:!1}}).exec()).map(i=>i.toJSON())}static async updateWidgetGeometry(t,r){const i=await Ir.getDatabase().widgets.findOne(t).exec();if(!i)return null;const o=i.geometry;return await i.update({$set:{geometry:{...o,...r},updated_at:new Date().toISOString()}}),i.toJSON()}static async updateWidgetDataSource(t,r){const i=await Ir.getDatabase().widgets.findOne(t).exec();return i?(await i.update({$set:{data_source_config:r,updated_at:new Date().toISOString()}}),i.toJSON()):null}static async updateWidgetViewState(t,r){const i=await Ir.getDatabase().widgets.findOne(t).exec();if(!i)return null;const o=i.view_state||{};return await i.update({$set:{view_state:{...o,...r},updated_at:new Date().toISOString()}}),i.toJSON()}static async deleteWidget(t){const n=await Ir.getDatabase().widgets.findOne(t).exec();return n?(await n.update({$set:{is_deleted:!0,updated_at:new Date().toISOString()}}),!0):!1}}async function f$(){console.log(`=== Phase 2: Seeding Canvas ===
`);try{await Ir.initialize(),console.log("Creating Master Calendar..."),await zh.createWidget("calendar_master",100,100,800,600),console.log(" Calendar created at (100, 100) with size 800600"),console.log(`
Creating Smart List...`),await zh.createWidget("smart_list",950,100,300,500),console.log(" List created at (950, 100) with size 300500"),console.log(`
Creating Pinned Detail Inspector...`);const e=await zh.createWidget("detail",100,750,400,300),r=await Ir.getDatabase().widgets.findOne(e.id).exec();r&&(await r.patch({view_state:{is_pinned:!0,is_collapsed:!1,view_mode:"default"}}),console.log(" Detail created at (100, 750) - PINNED")),console.log(`
=== Canvas Seeded Successfully! ===`),console.log(`
Created 3 widgets on the canvas.`),console.log(`
You can now:`),console.log("  - Drag widgets around (except pinned ones)"),console.log("  - Resize widgets"),console.log("  - Click pin icon to lock/unlock"),console.log("  - Click X to close widgets"),console.log("  - Use mouse wheel to zoom"),console.log("  - Click and drag canvas background to pan")}catch(e){throw console.error("Failed to seed canvas:",e),e}}typeof window<"u"&&(window.seedPhase2Canvas=f$);const WF=()=>{const[e,t]=De.useState(!1),[r,n]=De.useState(!0),i=async()=>{t(!0);try{await Ir.initialize(),await f$(),alert("Canvas seeded successfully! Check console for details.")}catch(a){alert("Failed to seed canvas: "+String(a))}finally{t(!1)}},o=async()=>{if(confirm("Are you sure you want to clear all widgets?"))try{await Ir.initialize();const s=await Ir.getDatabase().widgets.find().exec();for(const l of s)await l.remove();alert(`Cleared ${s.length} widgets`)}catch(a){alert("Failed to clear widgets: "+String(a))}};return Pe.jsxs("div",{className:"relative w-screen h-screen",children:[Pe.jsx(zF,{}),r&&Pe.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 space-y-2 z-50",children:[Pe.jsx("h3",{className:"font-bold text-sm text-gray-700 mb-2",children:"Phase 2 Controls"}),Pe.jsx("button",{onClick:i,disabled:e,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-sm font-medium transition-colors",children:e?"Seeding...":" Seed Canvas"}),Pe.jsx("button",{onClick:o,className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-sm font-medium transition-colors",children:" Clear All"}),Pe.jsx("button",{onClick:()=>n(!1),className:"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm font-medium transition-colors",children:"Hide Controls"}),Pe.jsxs("div",{className:"pt-2 border-t border-gray-200 text-xs text-gray-500",children:[Pe.jsx("p",{children:" Tips:"}),Pe.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[Pe.jsx("li",{children:"Drag header to move"}),Pe.jsx("li",{children:"Drag edges to resize"}),Pe.jsx("li",{children:" Pin to lock"}),Pe.jsx("li",{children:"Scroll to zoom"})]})]})]}),!r&&Pe.jsx("button",{onClick:()=>n(!0),className:"absolute top-4 right-4 px-4 py-2 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 z-50 font-medium",children:" Show Controls"})]})};function UF(){return Pe.jsx("div",{className:"app",children:Pe.jsx(WF,{})})}jh.createRoot(document.getElementById("root")).render(Pe.jsx(Ai.StrictMode,{children:Pe.jsx(UF,{})}));
